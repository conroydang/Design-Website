if (self.CavalryLogger) { CavalryLogger.start_js(["2Tlyf"]); }

__d("PaymentsPSDStaticStrings",["fbt"],(function(a,b,c,d,e,f,g){e.exports={PAGE_TITLE:g._("Payments Data Policy"),INTRO_PARAGRAPH_TITLE:g._("Payments Terms of Service"),ONLY_WHAT_WE_NEED_TITLE:g._("We only receive limited personal information from you."),ONLY_WHAT_WE_NEED_FIRST_PARAGRAPH:g._("When you make payments through Facebook Company Products, Facebook Payments International may collect certain personal information in order to complete the transaction, such as your card number and other payment method information."),ONLY_WHAT_WE_NEED_SECOND_PARAGRAPH:g._("We may also collect personal information when legally required, such as for fraud prevention, anti-money laundering or other regulatory purposes. For example, you may be asked to provide information, such as a copy of your government-issued ID, for identity verification or the prevention of money laundering, fraud and other criminal activity."),FOLLOW_GUIDELINES_TITLE:g._("We take extra steps for your protection."),FOLLOW_GUIDELINES_PARAGRAPH:g._("We establish an encrypted connection with your browser that uses sophisticated security technology. We store your payment method information with industry-standard levels of security. The people you pay cannot see your full card number or other payment method information."),ACCEPT_BUTTON_LABEL:g._("I Accept")}}),null);
__d("FBPayments3DSAcquirerMerchantInfoQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"data",type:"AcquirerMerchantInfoInput!"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"data"}],concreteType:"AcquirerMerchantInfoResponse",kind:"LinkedField",name:"acquirer_merchant_info_query",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"acquirer_mid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"acquirer_bin",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FBPayments3DSAcquirerMerchantInfoQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FBPayments3DSAcquirerMerchantInfoQuery",selections:b},params:{id:"3493612660712392",metadata:{},name:"FBPayments3DSAcquirerMerchantInfoQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("FBPayments3DSCardPaymentMethodInfoQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"Cardinal3DSPaymentMethodInfoInput!"}],b=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CardPaymentMethodInfoResponse",kind:"LinkedField",name:"card_payment_method_info_query",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requires_3ds",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mpi_processor",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FBPayments3DSCardPaymentMethodInfoQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FBPayments3DSCardPaymentMethodInfoQuery",selections:b},params:{id:"2340674839346770",metadata:{},name:"FBPayments3DSCardPaymentMethodInfoQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("FBPayments3DSComplete3DSMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"Complete3DSInputType!"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"Complete3DSResponse",kind:"LinkedField",name:"complete_3ds",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"three_d_secure_version",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ds_transaction_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cavv",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"eci_flag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"auth_row_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"xid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cardinal_txn_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FBPayments3DSComplete3DSMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FBPayments3DSComplete3DSMutation",selections:b},params:{id:"2998582093516509",metadata:{},name:"FBPayments3DSComplete3DSMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("FBPayments3DSCompleteAndAuthorizeQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"Complete3DSAndAuthorizeInputType!"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"Complete3DSResponse",kind:"LinkedField",name:"complete3ds_and_authorize",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"three_d_secure_version",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ds_transaction_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cavv",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"eci_flag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"auth_row_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"xid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cardinal_txn_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FBPayments3DSCompleteAndAuthorizeQuery",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FBPayments3DSCompleteAndAuthorizeQuery",selections:b},params:{id:"2058925484208304",metadata:{},name:"FBPayments3DSCompleteAndAuthorizeQuery",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("FBPayments3DSFetch3rdPartyAuthURLMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"FBPaymentsFetch3rdPartyAuthURLInput!"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"Cardinal3DSLookupResponse",kind:"LinkedField",name:"fetch_3rd_party_payment_auth",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"step_up_url",storageKey:null},{alias:null,args:null,concreteType:"JWTDataResponse",kind:"LinkedField",name:"step_up_jwt",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"row_id",storageKey:null},{alias:null,args:null,concreteType:"PaymentsUserFacingError",kind:"LinkedField",name:"payments_error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"error_code",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FBPayments3DSFetch3rdPartyAuthURLMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FBPayments3DSFetch3rdPartyAuthURLMutation",selections:b},params:{id:"2724964817550426",metadata:{},name:"FBPayments3DSFetch3rdPartyAuthURLMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("FBPayments3DSQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"Cardinal3DSJWTQueryInput!"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"Cardinal3DSJWTQueryResponse",kind:"LinkedField",name:"jwt_query",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"error_message",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FBPayments3DSQuery",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FBPayments3DSQuery",selections:b},params:{id:"3912121515525040",metadata:{},name:"FBPayments3DSQuery",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("FBPayPINFlowContainerBaseQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"PAYFBPayAuthenticationInformationQueryInput!"}],b=[{kind:"Variable",name:"input",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"first_step_type",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"step_type",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"screen_type",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"next_step_type",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},j=[i],k={alias:null,args:null,concreteType:"PAYFBPayAuthenticationSubAction",kind:"LinkedField",name:"sub_actions",plural:!0,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"text",plural:!1,selections:j,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sub_action_type",storageKey:null},c],storageKey:null},l={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:j,storageKey:null},m={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:j,storageKey:null},n={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"error_messages",plural:!0,selections:j,storageKey:null},o={alias:null,args:null,concreteType:"PAYFBPayDialogScreen",kind:"LinkedField",name:"dialog_screens",plural:!0,selections:[g,e,l,m,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"option1",plural:!1,selections:j,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"option2",plural:!1,selections:j,storageKey:null}],storageKey:null};j={alias:null,args:null,concreteType:"PAYFBPayRecoveryScreen",kind:"LinkedField",name:"recovery_screens",plural:!0,selections:[g,e,l,m,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:j,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"action_text",plural:!1,selections:j,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"error_message",plural:!1,selections:j,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"edit_field_hint",plural:!1,selections:j,storageKey:null}],storageKey:null};var p={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FBPayPINFlowContainerBaseQuery",selections:[{alias:null,args:b,concreteType:"PAYFBPayAuthenticationInformationQueryResponse",kind:"LinkedField",name:"fbpay_authentication_information_query",plural:!1,selections:[{alias:null,args:null,concreteType:"PAYFBPayAuthenticationInformation",kind:"LinkedField",name:"authentication_information",plural:!1,selections:[{alias:null,args:null,concreteType:"PAYFBPayAuthenticationAction",kind:"LinkedField",name:"actions",plural:!0,selections:[c,d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"steps",plural:!0,selections:[e,f,g,h,k],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PAYFBPayPinScreen",kind:"LinkedField",name:"pin_screens",plural:!0,selections:[g,e,l,m,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:[i,{args:null,kind:"FragmentSpread",name:"FBPaymentsLinkableTextWithEntitiesFragment"}],storageKey:null},n],storageKey:null},o,j],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FBPayPINFlowContainerBaseQuery",selections:[{alias:null,args:b,concreteType:"PAYFBPayAuthenticationInformationQueryResponse",kind:"LinkedField",name:"fbpay_authentication_information_query",plural:!1,selections:[{alias:null,args:null,concreteType:"PAYFBPayAuthenticationInformation",kind:"LinkedField",name:"authentication_information",plural:!1,selections:[{alias:null,args:null,concreteType:"PAYFBPayAuthenticationAction",kind:"LinkedField",name:"actions",plural:!0,selections:[c,d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"steps",plural:!0,selections:[p,e,f,g,h,k],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PAYFBPayPinScreen",kind:"LinkedField",name:"pin_screens",plural:!0,selections:[g,e,l,m,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:[i,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"translation_type",storageKey:null}],storageKey:null},n],storageKey:null},o,j],storageKey:null}],storageKey:null}]},params:{id:"2857077154329627",metadata:{},name:"FBPayPINFlowContainerBaseQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("FBPaymentsInvoiceFetchStatusGraphqlQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"query_params",type:"PaymentInvoiceableInfoQueryParams!"}],b=[{kind:"Variable",name:"query_params",variableName:"query_params"}],c={alias:null,args:null,kind:"ScalarField",name:"invoice_status",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FBPaymentsInvoiceFetchStatusGraphqlQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"payment_invoiceable_info",plural:!1,selections:[c],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FBPaymentsInvoiceFetchStatusGraphqlQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"payment_invoiceable_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"2180705542032048",metadata:{},name:"FBPaymentsInvoiceFetchStatusGraphqlQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("FBPaymentsAddressTypeaheadSearchSourceQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"params",type:"CityStreetSearchQueryParams"},{defaultValue:null,kind:"LocalArgument",name:"limit",type:"Int"}],b=[{alias:null,args:[{kind:"Variable",name:"query_params",variableName:"params"}],concreteType:"CityStreetSearchQuery",kind:"LinkedField",name:"city_street_search",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"first",variableName:"limit"}],concreteType:"CityStreetSearchResultsConnection",kind:"LinkedField",name:"street_results",plural:!1,selections:[{alias:null,args:null,concreteType:"CityStreet",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null}],storageKey:null},{alias:"cityName",args:null,kind:"ScalarField",name:"city_name",storageKey:null},{alias:"countryName",args:null,kind:"ScalarField",name:"country_name",storageKey:null},{alias:"postalCode",args:null,kind:"ScalarField",name:"postal_code",storageKey:null},{alias:"stateName",args:null,kind:"ScalarField",name:"state_name",storageKey:null},{alias:"streetAddress",args:null,kind:"ScalarField",name:"street_address",storageKey:null},{alias:"singleLineAddress",args:null,kind:"ScalarField",name:"single_line_address",storageKey:null},{alias:"multiLineAddress",args:null,kind:"ScalarField",name:"multi_line_address",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FBPaymentsAddressTypeaheadSearchSourceQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FBPaymentsAddressTypeaheadSearchSourceQuery",selections:b},params:{id:"1837020046416831",metadata:{},name:"FBPaymentsAddressTypeaheadSearchSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometFBPaymentsFormField.react",["CometFormTextInput.react","FBPaymentsFormField.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$CometFBPaymentsFormField2=function(a){c.onChange({target:{value:a}})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$CometFBPaymentsFormField1=function(){return!this.state.focused&&!!this.props.errorMessage};d.render=function(){var a=this.props.name;return g.jsx("div",{className:"k4urcfbm","data-testid":void 0,children:g.jsx(b("CometFormTextInput.react"),babelHelpers["extends"]({},this.getOtherProps(),{helperText:this.getDisplayErrorIfBlurred(),label:this.props.label,onBlur:this.onBlur,onValueChange:this.$CometFBPaymentsFormField2,validationState:this.$CometFBPaymentsFormField1()?"ERROR":null}))})};return c}(b("FBPaymentsFormField.react"));e.exports=a}),null);
__d("FBPayCardedDialog.react",["CometCardedDialog.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx(b("CometCardedDialog.react"),babelHelpers["extends"]({},a))}e.exports=a}),null);
__d("FBPayConfirmDialog.react",["cx","FlexLayout.react","React","ShimButton.react","WIGButton.react","WIGCardedDialog.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx("div",{className:"_8l2x",children:h.jsxs(b("WIGCardedDialog.react"),{title:this.props.headerText,titleHorizontalAlignment:"start",withCloseButton:!0,onClose:this.props.onClose,children:[h.jsx("div",{className:"_8md7",children:this.props.bodyText}),h.jsx("div",{className:"_8md8",children:h.jsxs(b("FlexLayout.react"),{className:"_8md9",children:[h.jsx(b("FlexLayout.react"),{className:"_8mda",children:h.jsx(b("ShimButton.react"),{onClick:this.props.onLeftButton,children:this.props.leftButtonText})}),h.jsx(b("FlexLayout.react"),{className:"_8mdb",children:h.jsx(b("WIGButton.react"),{label:this.props.rightButtonText,onPress:this.props.onRightButton})})]})})]})})};return c}(h.Component);e.exports=a}),null);
__d("FBPayPINButton.react",["cx","React","ShimButton.react","isMobilePlatform"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.isDisabled||c.props.onClick()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return this.props.isDisabled?h.jsx("div",{className:(b("isMobilePlatform")?"":"_8m3r")+(b("isMobilePlatform")?" _8we4":""),children:this.props.text}):h.jsx(b("ShimButton.react"),{className:(b("isMobilePlatform")?"":"_8m3q")+(b("isMobilePlatform")?" _8we5":""),role:"button",onClick:this.$1,children:this.props.text})};return c}(h.Component);e.exports=a}),null);
__d("FBPayTetraFormField.react",["cx","AbstractTextInput.react","FBPaymentsFormFieldBase.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.ref=h.createRef(),b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.ref.current!==null&&this.ref.current.focusInput()};d.$FBPayTetraFormField1=function(a){return h.jsx(b("AbstractTextInput.react"),babelHelpers["extends"]({},this.getOtherProps(),{className:a,"data-testid":void 0,ref:this.ref,type:this.props.inputType,onBlur:this.onBlur,onChange:this.onChange,onFocus:this.onFocus}))};d.render=function(){var a=this.state.focused,c=this.props,d=c.className,e=c.classNameOnInput,f=c.enableFloatingLabel,g=c.label;c=c.value;c=Boolean(f)&&Boolean(c!=null||a);a=b("joinClasses")("_8m58"+(a?" _8m59":""),e);return h.jsx("div",{className:b("joinClasses")("_8m5a",d),children:h.jsxs("div",{className:"_8m5b",children:[h.jsx("div",{className:(f?"":"_8m5c")+(c?"":" _8m5d")+(c?" _8m3t":""),children:g}),this.$FBPayTetraFormField1(a)]})})};return c}(b("FBPaymentsFormFieldBase.react"));a.defaultProps=babelHelpers["extends"]({},b("FBPaymentsFormFieldBase.react").defaultProps);e.exports=a}),null);
__d("FBPayMobilePinDialog.react",["cx","FBPaymentsLoadingView.react","FlexLayout.react","React","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.bodyContent,d=a.centerButtonText,e=a.headerContent,f=a.isLoading;f=f===void 0?!1:f;var g=a.leftButtonText,i=a.onCenterButton,j=a.onLeftButton,k=a.onRightButton,l=a.rightButtonText;function m(){return h.jsx(b("FlexLayout.react"),{className:"_96mu",children:h.jsx("div",{className:"_8v-g",children:h.jsx(b("ShimButton.react"),{onClick:i,children:d})})})}function n(){return h.jsxs(h.Fragment,{children:[h.jsx(b("FlexLayout.react"),{className:"_8wdu",align:"center",justify:"center",children:h.jsx(b("ShimButton.react"),{onClick:j,children:g})}),h.jsx(b("FlexLayout.react"),{className:"_8wdu _8wdx",align:"center",justify:"center",children:h.jsx(b("ShimButton.react"),{onClick:k,children:l})})]})}return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"_8v-i",children:[e,h.jsx("div",{className:"_8v-j",children:c})]}),h.jsx(b("FlexLayout.react"),{className:"_8v-h",children:d!=null?m():n()}),h.jsx(b("FBPaymentsLoadingView.react"),{overlay:!0,showLockSpinner:!0,visible:f})]})}e.exports=a}),null);
__d("FBPayGatingUtils",["gkx","qex"],(function(a,b,c,d,e,f){"use strict";function g(){var a=b("gkx")("1175792");a||(a=!!b("qex")._("1494059"));return a}function a(a){return a=="mor_facebook_shop"||a=="nmor_donation_p4c"?!1:g()}function c(){return b("gkx")("1175792")&&b("gkx")("1295945")}function d(){return b("gkx")("1282611")}function f(){return b("gkx")("1175792")&&b("gkx")("1425853")}function h(){return g()}function i(){return b("gkx")("1294425")}function j(){return b("gkx")("1336966")}function k(){return b("gkx")("1357264")}function l(){return!!b("qex")._("1474977")}function m(){return!!b("qex")._("1474978")}function n(){return!!b("qex")._("1474979")}function o(){return!!b("qex")._("1474980")}function p(){return!!b("qex")._("1474981")}function q(){return!!b("qex")._("1474982")}e.exports={isFBPayAuthFlowsDynamicContentEnabled:f,isFBPayCheckoutFunnelLoggingEnabled:i,isFBPayExperienceEnabled:a,isFBPayPortalCheckoutEnabled:h,shouldShowBannerUnderPaymentMethod:p,shouldShowDefaultShippingAddress:k,shouldShowDynamicPINContent:c,shouldShowLightBlueButton:l,shouldShowMonthlyDonationItemUnderPaymentMethodSection:q,shouldShowNewMonthlyFrequencySelector:o,shouldShowPaymentMethodTitle:n,shouldShowReducedPayButton:m,shouldShowResearchSurvey:j,shouldShowResetPinWithCvv:d}}),null);
__d("FBPayCheckoutWebFunnelLoggingUtils",["FBPayGatingUtils","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPayGatingUtils").isFBPayCheckoutFunnelLoggingEnabled,h="FBPayCheckoutWebFunnelDefinition",i="client";function a(a,c,d,e){var f=g();if(!f||c==null)return;f=new(b("WebFunnelLogger"))(h).setAction(a).setSessionKey(c).setActionTag(i);if(a==="checkout_init"&&d!=null){j(f,d);return}if(a==="select_credential"&&e!=null){k(f,e);return}if(a==="select_shipping_address"&&e!=null){l(f,e);return}f.log()}function j(a,b){a.addFunnelPayload("product_type",b.product_type).addFunnelPayload("platform",b.platform).addFunnelPayload("family_of_apps_type",b.app).addFunnelPayload("external_session_id",b.external_session_id).addFunnelPayload("page_id",b.page_id).addFunnelPayload("product_id",b.product_id).log()}function k(a,b){a.addActionPayload("selected_credential_id",b.selected_credential_id).addActionPayload("selected_credential_type",b.selected_credential_type).log()}function l(a,b){a.addActionPayload("selected_shipping_address_id",b.selected_shipping_address_id).log()}e.exports={webFunnelLogFBPayCheckout:a}}),null);
__d("FBPaymentsCheckoutContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext({banner:null,funnelLoggingSessionID:null,logger:null,paymentType:null,theme:"DEFAULT"});e.exports=c}),null);
__d("FBPayPINCreateContainerBase.react",["fbt","FBPaymentsCheckoutContext","FBPaymentsLoggerConstants","FBPaymentsPINConstants","FBPaymentsPINInputFieldContainerV2.react","React","abstractMethod","isMobilePlatform","FBPayCheckoutWebFunnelLoggingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("FBPaymentsPINConstants").PIN_FLOW_TYPES,j=b("FBPaymentsLoggerConstants").LoggerFlowStep,k=b("FBPaymentsLoggerConstants").LoggerEvent,l=b("FBPaymentsPINConstants").PIN_CREATE_FLOW_STEPS,m=b("FBPayCheckoutWebFunnelLoggingUtils").webFunnelLogFBPayCheckout,n=500,o=1500,p=b("FBPaymentsPINConstants").PIN_FLOW_STEPS;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={confirmFail:!1,errorMessage:"",fadeTransition:!1,loading:!1,pinEntered:"",shakePINInput:!1,slideTransition:!1,step:l.ENTER_PIN},c.onPINCreated=function(){var a;c.props.flowType===i.DISABLE_PIN?(a={pin:c.state.pinEntered,new_pin_status:"DISABLED",payment_type:c.props.paymentType||"unknown"},c.__getAPI().switchPINGraphQL(a,c.onPINSwitched,c.onPINCreateError),c.props.logger&&c.props.logger.setFlowStep(j.DISABLE_PIN).setEventName(k.API_INIT).logVital()):c.props.flowType===i.ENABLE_PIN?(a={pin:c.state.pinEntered,new_pin_status:"ACTIVE",payment_type:c.props.paymentType||"unknown"},c.__getAPI().switchPINGraphQL(a,c.onPINSwitched,c.onPINCreateError),c.props.logger&&c.props.logger.setFlowStep(j.ENABLE_PIN).setEventName(k.API_INIT).logVital()):c.onPINCreatedCompleted()},c.onPINSwitched=function(){c.onPINCreatedCompleted()},c.onPINCreateError=function(a){c.setState({loading:!1,pinEntered:"",shakePINInput:!0}),setTimeout(function(){c.setState({errorMessage:(a==null?void 0:a.errorDescription)!=null?a==null?void 0:a.errorDescription:a==null?void 0:a.message,shakePINInput:!1,step:l.ENTER_PIN,slideTransition:!0}),setTimeout(function(){c.setState({slideTransition:!1})},n)},n),c.props.logger&&c.props.logger.setFlowStep(c.getLoggerFlowStep()).setEventName(k.FAIL).setUserFacingMessage(c.state.errorMessage).logVital(),(c.props.flowType===i.DISABLE_PIN||c.props.flowType===i.ENABLE_PIN)&&(c.props.logger&&c.props.logger.setFlowStep(c.getLoggerSwitchPINFlowStep(c.props.flowType)).setEventName(k.FAIL).setUserFacingMessage(c.state.errorMessage).logVital())},c.onPINEntered=function(a){c.state.step===l.ENTER_PIN?(c.setState({confirmFail:!1,errorMessage:"",pinEntered:a,step:l.CONFIRM_PIN,slideTransition:!0}),setTimeout(function(){c.setState({slideTransition:!1})},n)):a===c.state.pinEntered?(c.props.password!=null?c.updatePINWithPassowrd():c.props.oldPIN!=null?c.updatePINWithPIN():c.props.cvv!=null&&c.props.credentialId!=null?c.updatePINWithCvv():c.props.flowStep===p.UPDATE_PIN_WITHOUT_AUTH?c.updatePINWithoutAuth():c.createPIN(),c.setState({loading:!0})):(c.setState({pinEntered:"",shakePINInput:!0}),setTimeout(function(){c.setState({confirmFail:!0,shakePINInput:!1,step:l.ENTER_PIN,slideTransition:!0}),setTimeout(function(){c.setState({slideTransition:!1})},n)},n))},c.handleDialogToggled=function(a){a||c.props.onCancel()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getLoggerFlowStep=function(){return this.props.password!==null||this.props.oldPIN!==null?j.RESET_PIN:j.CREATE_PIN};d.getLoggerSwitchPINFlowStep=function(a){return this.props.flowType===i.DISABLE_PIN?j.DISABLE_PIN:j.ENABLE_PIN};d.componentDidMount=function(){var a=this.context.funnelLoggingSessionID,b=this.getIsResetPin();b=b?"reset_pin_screen_display":"create_pin_display";this.props.logger&&this.props.logger.setFlowStep(this.getLoggerFlowStep()).setEventName(k.DISPLAY).addToExtraData("page","set_new_pin_page").logVital();m(b,a)};d.componentDidUpdate=function(a,b){a=this.context.funnelLoggingSessionID;var c=this.getIsResetPin();if(b.step===l.ENTER_PIN&&this.state.step===l.CONFIRM_PIN){b=c?"reset_pin_confirm_display":"confirm_pin_display";this.props.logger&&this.props.logger.setFlowStep(this.getLoggerFlowStep()).setEventName(k.DISPLAY).addToExtraData("page","reenter_new_pin_page").logVital();m(b,a)}};d.onPINCreatedCompleted=function(){var a=this;this.setState({fadeTransition:!0,loading:!1,step:l.CREATED_PIN});setTimeout(function(){a.setState({fadeTransition:!1}),a.props.onComplete(a.state.pinEntered)},o);this.props.logger&&this.props.logger.setFlowStep(this.getLoggerFlowStep()).setEventName(k.SUCCESS).logVital();(this.props.flowType===i.DISABLE_PIN||this.props.flowType===i.ENABLE_PIN)&&(this.props.logger&&this.props.logger.setFlowStep(this.getLoggerSwitchPINFlowStep(this.props.flowType)).setEventName(k.SUCCESS).logVital())};d.createPIN=function(){var a;a={pin:this.state.pinEntered,payment_type:this.props.paymentType||"unknown",logging_id:(a=this.props.logger)==null?void 0:a.getSessionID()};this.__getAPI().addPINGraphQL(a,this.onPINCreated,this.onPINCreateError);this.props.logger&&this.props.logger.setFlowStep(this.getLoggerFlowStep()).setEventName(k.API_INIT).logVital()};d.updatePINWithoutAuth=function(){this.__getAPI().updatePINGraphQL({payment_type:this.props.paymentType||"unknown",new_pin:this.state.pinEntered},this.onPINCreated,this.onPINCreateError)};d.updatePINWithCvv=function(){this.__getAPI().updatePINGraphQL({cred_id:this.props.credentialId,csc:this.props.cvv,payment_type:this.props.paymentType||"unknown",new_pin:this.state.pinEntered},this.onPINCreated,this.onPINCreateError)};d.updatePINWithPassowrd=function(){var a;this.__getAPI().updatePINGraphQL({password:this.props.password,payment_type:this.props.paymentType||"unknown",new_pin:this.state.pinEntered,logging_id:(a=this.props.logger)==null?void 0:a.getSessionID()},this.onPINCreated,this.onPINCreateError);this.props.logger&&this.props.logger.setFlowStep(this.getLoggerFlowStep()).setEventName(k.API_INIT).logVital()};d.updatePINWithPIN=function(){var a;this.__getAPI().updatePINGraphQL({old_pin:this.props.oldPIN,payment_type:this.props.paymentType||"unknown",new_pin:this.state.pinEntered,logging_id:(a=this.props.logger)==null?void 0:a.getSessionID()},this.onPINCreated,this.onPINCreateError)};d.getIsResetPin=function(){return this.props.password!=null||this.props.oldPIN!=null||this.props.cvv!=null||this.props.flowStep===p.UPDATE_PIN_WITHOUT_AUTH};d.render=function(){var a=this.getIsResetPin(),c=g._("Create PIN"),d=Boolean(this.props.isFBPayContent)?g._("You'll enter your PIN as a security check on some payments. To use your PIN for all payments, visit the Facebook Pay settings."):g._("You'll enter your PIN for all purchases on Facebook and Messenger."),e;switch(this.state.step){case l.ENTER_PIN:a&&(this.props.flowType===i.CHANGE_PIN?c=g._("Change PIN"):c=g._("Reset PIN"),d=g._("Enter a new Facebook Pay PIN."));this.state.errorMessage?e=this.state.errorMessage:this.state.confirmFail&&(e=g._("PIN doesn't match."));break;case l.CONFIRM_PIN:a?(this.props.flowType===i.CHANGE_PIN?c=g._("Change PIN"):c=g._("Reset PIN"),d=g._("Enter your new Facebook Pay PIN.")):c=g._("Confirm PIN");break;case l.CREATED_PIN:a&&(d=g._("Enter your new Facebook Pay PIN."));c=g._("PIN created");break;default:throw new Error("Unhandled PIN create flow state!")}var f,j,k;(this.state.slideTransition||this.state.step===l.ENTER_PIN)&&(f=h.jsx(b("FBPaymentsPINInputFieldContainerV2.react"),{isDesktop:this.props.platform==="DESKTOP"&&!b("isMobilePlatform"),disabled:Boolean(this.props.loading)||this.state.loading,onPINEnter:this.onPINEntered,shake:this.state.shakePINInput,smallerCircle:!0}));(this.state.slideTransition||this.state.step===l.CONFIRM_PIN)&&(j=h.jsx(b("FBPaymentsPINInputFieldContainerV2.react"),{isDesktop:this.props.platform==="DESKTOP"&&!b("isMobilePlatform"),disabled:Boolean(this.props.loading)||this.state.loading,onPINEnter:this.onPINEntered,shake:this.state.shakePINInput,smallerCircle:!0}));if(this.state.fadeTransition||this.state.step===l.CREATED_PIN){var m=this.__getLoadingView();k=h.jsx(m,{isFBPayCheckmark:!0})}m=this.__getView();return h.jsx(m,{bodyText:d,footerText:e,headerText:c,isLoading:Boolean(this.props.loading)||this.state.loading,onCancel:this.props.onCancel,onSkip:this.props.onComplete,onToggleDialog:this.handleDialogToggled,paymentType:this.props.paymentType,pinConfirmField:j,pinCreatedField:k,pinCreationFlowType:this.props.pinCreationFlowType,pinField:f,renderInline:this.props.renderInline,step:this.state.step,title:this.props.title,isFBPayContent:this.props.isFBPayContent,isResetPIN:a})};d.__getAPI=function(){return b("abstractMethod")("FBPayPINCreateContainerBase","__getAPI")};d.__getView=function(){return b("abstractMethod")("FBPayPINCreateContainerBase","__getView")};d.__getLoadingView=function(){return b("abstractMethod")("FBPayPINCreateContainerBase","__getLoadingView")};return c}(h.Component);a.contextType=b("FBPaymentsCheckoutContext");e.exports=a}),null);
__d("FBPayPINCreateViewBase.react",["fbt","FBPaymentsPINConstants","React"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");b("FBPaymentsPINConstants").PIN_CREATE_FLOW_STEPS;c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getTitle=function(){var a=this.props.title;if(a!==null&&a!==void 0)return a;else if(Boolean(this.props.isFBPayContent))return g._("Facebook Pay");else return g._("Checkout")};c.getCancelButtonText=function(){return g._("Back")};c.getSkipButtonText=function(){return g._("Skip")};c.shouldShowSkipButton=function(){return this.props.pinCreationFlowType==="OPTIONAL"};return b}(a.Component);e.exports=c}),null);
__d("FBPayPINCreateView.react",["cx","fbt","FBPayCardedDialog.react","FBPayGatingUtils","FBPaymentsLoadingView.react","FBPaymentsPINConstants","FBPayMobilePinDialog.react","FBPayPINCreateViewBase.react","Link.react","React","ShimButton.react","TetraText.react","URI","isMobilePlatform"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k=b("FBPaymentsPINConstants").PIN_CREATE_FLOW_STEPS;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderInputField=function(){return j.jsx("div",{className:"_8lhh",children:j.jsxs("div",{className:"_8l2t"+(this.props.step===k.CONFIRM_PIN?" _8l2u":""),children:[j.jsx("div",{className:"_8l2v",children:this.props.pinField}),j.jsx("div",{className:"_8l2v",children:this.props.pinConfirmField})]})})};d.renderMobileInputField=function(){return j.jsx("div",{className:"_8lhh",children:j.jsxs("div",{className:"_8v-f",children:[this.props.pinField==null?this.props.pinConfirmField:null,this.props.pinField]})})};d.render=function(){var a=b("FBPayGatingUtils").isFBPayExperienceEnabled(),c=navigator.userAgent.match(/iPhone/),d=a?h._("Facebook Pay"):this.props.headerText;a=a?j.jsx("div",{className:"_8vsc",children:j.jsx(b("TetraText.react"),{type:"headlineEmphasized3",children:this.props.headerText})}):null;var e=j.jsxs(b("TetraText.react"),{type:"bodyLink4",children:[this.props.bodyText,j.jsx("div",{children:this.props.isResetPIN===!0?null:j.jsx(b("Link.react"),{style:{color:"#1877F2"},target:"_blank",href:new(i||(i=b("URI")))("https://www.facebook.com/help/1434403039959381"),children:"Learn more"})})]}),f=j.jsx("div",{className:"_8lhi",children:j.jsx(b("ShimButton.react"),{onClick:this.props.onSkip,children:this.getSkipButtonText()})}),g=j.jsx("div",{className:"_8l2w",children:j.jsx(b("TetraText.react"),{color:"negative",type:"body4",children:this.props.footerText})});if(this.props.pinCreatedField==null){g=this.props.isLoading?j.jsx("div",{style:{margin:-80,height:250},className:"_8l2v",children:j.jsx(b("FBPaymentsLoadingView.react"),{visible:!0,isFBPayLoading:!0})}):j.jsxs(j.Fragment,{children:[b("isMobilePlatform")?this.renderMobileInputField():this.renderInputField(),g]});g=j.jsxs("div",{children:[e,g,this.shouldShowSkipButton()?f:null]})}else g=j.jsxs("div",{children:[e,j.jsx("div",{style:{margin:-80,height:250},className:"_8l2v",children:this.props.pinCreatedField})]});f=h._("Cancel");e=j.jsx("div",{className:c?"_8we0":"",children:j.jsx(b("FBPayMobilePinDialog.react"),{bodyContent:g,centerButtonText:f,headerContent:a,onCenterButton:this.props.onCancel})});return b("isMobilePlatform")?e:j.jsx("div",{className:"_8l2x",children:j.jsxs(b("FBPayCardedDialog.react"),{title:d,withCloseButton:!0,onClose:this.props.onCancel,children:[j.jsxs("div",{style:{padding:20},className:"_8l2y",children:[a,j.jsx("div",{className:"_8vsd",children:g})]}),j.jsx("div",{})]})})};return c}(b("FBPayPINCreateViewBase.react"));e.exports=a}),null);
__d("FBPayPINCreateContainer.react",["FBPaymentsLoadingView.react","FBPaymentsModulesAPI","FBPayPINCreateContainerBase.react","FBPayPINCreateView.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getAPI=function(){return b("FBPaymentsModulesAPI")};d.__getView=function(){return b("FBPayPINCreateView.react")};d.__getLoadingView=function(){return b("FBPaymentsLoadingView.react")};return c}(b("FBPayPINCreateContainerBase.react"));e.exports=a}),null);
__d("FBPayPINFlowContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext({state:null});e.exports=c}),null);
__d("FBPayPINUtils",["FBPaymentsPINConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsPINConstants").PIN_FLOW_STEPS;function a(a,b){a=(a=a==null?void 0:(a=a.fbpay_authentication_information_query)==null?void 0:a.authentication_information)!=null?a:{};a=((a=a.actions)!=null?a:[]).find(function(a){return a.action_type===b});return a}function h(a,b){var c=a==null?void 0:a.steps.find(function(b){return b.step_type===(a==null?void 0:a.first_step_type)});if(b==null)return c;c=a==null?void 0:a.steps.find(function(a){return a.step_type===b});return c}function c(a,b){a=a==null?void 0:a.sub_actions.find(function(a){return a.sub_action_type===b});return a}function d(a,b,c){a=(a=a==null?void 0:a.state)!=null?a:{};b=h(b,c);b=(c=b)!=null?c:{};c=b.screen_type;b=b.content_type;switch(c){case"PIN_KEYPAD":c=a.pin_screens;return j(c,b);case"DIALOG":c=a.dialog_screens;return i(c,b);case"RECOVER_PIN_WITH_PASSWORD":c=a.recovery_screens;return k(c,b);default:return null}}function i(a,b){var c;a=(a=((a=a)!=null?a:[]).find(function(a){return a.content_type===b}))!=null?a:{};c={title:(c=(c=a.title)==null?void 0:c.text)!=null?c:"",subtitle:(c=(c=a.subtitle)==null?void 0:c.text)!=null?c:"",option1:(c=(c=a.option1)==null?void 0:c.text)!=null?c:"",option2:(a=(c=a.option2)==null?void 0:c.text)!=null?a:""};return c}function j(a,b){var c;a=(a=((a=a)!=null?a:[]).find(function(a){return a.content_type===b}))!=null?a:{};a={title:(c=(c=a.title)==null?void 0:c.text)!=null?c:"",subtitle:(c=(c=a.subtitle)==null?void 0:c.text)!=null?c:"",description:(c=(c=a.description)==null?void 0:c.text)!=null?c:"",error_messages:(c=a.error_messages)!=null?c:[]};return a}function k(a,b){var c;a=(a=((a=a)!=null?a:[]).find(function(a){return a.content_type===b}))!=null?a:{};c={title:(c=(c=a.title)==null?void 0:c.text)!=null?c:"",subtitle:(c=(c=a.subtitle)==null?void 0:c.text)!=null?c:"",description:(c=(c=a.description)==null?void 0:c.text)!=null?c:"",actionText:(c=(c=a.action_text)==null?void 0:c.text)!=null?c:"",errorMessage:(c=(c=a.error_message)==null?void 0:c.text)!=null?c:"",editFieldHint:(a=(c=a.edit_field_hint)==null?void 0:c.text)!=null?a:""};return c}function l(a){a=a||{};a=a.fbpay_pin_creation_flow_type;return a==="MANDATORY"||a==="OPTIONAL"}function f(a){return(a==null?void 0:a.user_has_pin)===!0?Boolean(a==null?void 0:a.validation_needed):l(a)}function m(a){var b=a||{},c=b.user_has_pin,d=b.validation_needed;b=b.fbpay_pin_status;if(c===!0&&d===!0)return b==="LOCKED"?g.RESET_PIN:g.VALIDATE_PIN;return c===!1&&l(a)?g.CREATE_PIN:g.LOADING}e.exports={getAuthFlowsAction:a,getAuthFlowsDynamicContent:d,getIsPINCreationUpfront:l,getStep:h,getShouldShowPinFlow:f,getSubAction:c,getPINFlowStep:m}}),null);
__d("FBPayPINFlowContainerBase.react",["CurrentUser","FBPayCheckoutWebFunnelLoggingUtils","FBPayGatingUtils","FBPaymentsCheckoutContext","FBPaymentsLoggerConstants","FBPaymentsPINConstants","FBPayPINFlowContext","FBPayPINUtils","React","RelayFBEnvironment","RelayModern","abstractMethod","gkx","isStringNullOrEmpty","FBPayPINFlowContainerBaseQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("FBPayCheckoutWebFunnelLoggingUtils").webFunnelLogFBPayCheckout,i=b("FBPayPINUtils").getAuthFlowsAction,j=b("React"),k=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var l=b("FBPaymentsLoggerConstants").LoggerFlowStep,m=b("FBPaymentsLoggerConstants").LoggerEvent,n=b("FBPaymentsPINConstants").PIN_FLOW_STEPS,o=g!==void 0?g:g=b("FBPayPINFlowContainerBaseQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={actionType:d.getInitialActionType(d.props.flowStep),secondaryActionType:"RESET_PIN_FROM_LEAVE_WITHOUT_RESETTING_DIALOG",cvv:null,flowType:d.props.flowType,flowStep:d.props.flowStep||n.LOADING,isLeavingPINFlow:!1,logger:d.getLogger(),password:null,oldPIN:null},d.handleGetPinStatusSuccess=function(a){a=d.calcInitialFlowStep(a);var b=d.getInitialActionType(a);d.setState({actionType:b,flowStep:a})},d.onError=function(){d.state.logger&&d.state.logger.setFlowStep(l.LOAD_PIN_FLOW).setEventName(m.FAIL).logVital()},d.onLeavingDialog=function(){d.setState({isLeavingPINFlow:!0})},d.onForgotDialog=function(){d.setState({isLeavingPINFlow:!1,actionType:"LOCKED_PIN_RECOVER_WITH_PASSWORD_TO_PAY"})},d.handleForgotPIN=function(){var a=d.context.funnelLoggingSessionID;d.setState({flowStep:n.DELETE_PIN_PASSWORD_CONFIRM,actionType:"FORGOT_PIN_RECOVER_WITH_PASSWORD_HUB"});h("forgot_pin_click",a);d.state.logger&&d.state.logger.setFlowStep(l.VERIFY_PIN).setEventName(m.CLICK).addToExtraData("button_click","FORGET").logVital()},d.handleForgotPassword=function(){var a=d.context.funnelLoggingSessionID;h("forget_fb_password_click",a)},d.handleResetPIN=function(){d.setState({flowStep:n.RESET_PIN,actionType:"LOCKED_PIN_RECOVER_WITH_PASSWORD_TO_PAY"})},d.handlePINVlidatedInReset=function(a){d.setState({oldPIN:a,flowStep:n.CREATE_PIN})},d.handlePasswordSubmit=function(a){d.setState({password:a,flowStep:n.CREATE_PIN})},d.handleCvvSubmit=function(a,c){var e=n.CREATE_PIN;b("isStringNullOrEmpty")(a)&&b("isStringNullOrEmpty")(c)&&(e=n.UPDATE_PIN_WITHOUT_AUTH);d.setState({credentialId:a,cvv:c,flowStep:e})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.props.flowStep===n.LOADING&&(this.__getAPI().fetchPINStatusGraphQL(this.handleGetPinStatusSuccess,this.onError),this.state.logger&&this.state.logger.setFlowStep(l.LOAD_PIN_FLOW).setEventName(m.API_INIT).logVital()),this.state.logger&&this.state.logger.setFlowStep(l.LOAD_PIN_FLOW).setEventName(m.SUCCESS).logVital()};d.calcInitialFlowStep=function(a){if(a===void 0)return n.CREATE_PIN;else if(a==="ACTIVE"||a==="DISABLED")return n.VALIDATE_PIN;else if(a==="LOCKED")return n.RESET_PIN;else return n.UNKNOWN};d.getInitialActionType=function(a){a=(a=a)!=null?a:this.state.flowStep;switch(a){case n.CREATE_PIN:return"CREATE_PIN_FROM_PAYMENT";case n.VALIDATE_PIN:return"VERIFY_PIN_TO_PAY";case n.RESET_PIN:return"LOCKED_PIN_RECOVER_WITH_PASSWORD_TO_PAY";default:return null}};c.__getPINStore=function(){return b("abstractMethod")("FBPaymentsPINFlowContainerV2Base","__getPINStore")};d.__getCreateContainer=function(){return b("abstractMethod")("FBPayPINFlowContainerBase","__getCreateContainer")};d.__getValidateContainer=function(){return b("abstractMethod")("FBPayPINFlowContainerBase","__getValidateContainer")};d.__getForgotContainer=function(){return b("abstractMethod")("FBPayPINFlowContainerBase","__getForgotContainer")};d.__getResetContainer=function(){return b("abstractMethod")("FBPayPINFlowContainerBase","__getResetContainer")};d.__getAPI=function(){return b("abstractMethod")("FBPayPINFlowContainerBase","__getAPI")};d.__getLoadingView=function(){return b("abstractMethod")("FBPayPINFlowContainerBase","__getLoadingView")};d.__getPlatform=function(){return b("abstractMethod")("FBPayPINFlowContainerBase","__getPlatform")};d.getLogger=function(){return this.props.logger||this.context.logger};d.renderPINContainer=function(a){var c=b("FBPayGatingUtils").isFBPayExperienceEnabled(),d=i(a,this.state.actionType);a=i(a,this.state.secondaryActionType);switch(this.state.flowStep){case n.CREATE_PIN:case n.UPDATE_PIN_WITHOUT_AUTH:var e=this.__getCreateContainer();return j.jsx(e,{credentialId:this.state.credentialId,cvv:this.state.cvv,flowStep:this.state.flowStep,flowType:this.state.flowType,funnelLoggingSessionID:this.context.funnelLoggingSessionID,isFBPayContent:c,resetPin:this.state.flowStep===n.RESET_PIN,logger:this.getLogger(),onCancel:this.props.onCancel,onComplete:this.props.onSuccess,oldPIN:this.state.oldPIN,password:this.state.password,paymentType:this.props.paymentType,pinCreationFlowType:this.props.pinCreationFlowType,platform:this.__getPlatform(),title:this.props.title});case n.VALIDATE_PIN:e=this.__getValidateContainer();return j.jsx(e,{currentAction:d,funnelLoggingSessionID:this.context.funnelLoggingSessionID,logger:this.getLogger(),onCancel:this.props.onCancel,onComplete:this.props.onSuccess,onForgotPIN:this.handleForgotPIN,title:this.props.title,onResetPIN:this.handleResetPIN,flowType:this.state.flowType,paymentType:this.props.paymentType,platform:this.__getPlatform(),handlePINVlidatedInReset:this.handlePINVlidatedInReset,isFBPayContent:c});case n.DELETE_PIN_PASSWORD_CONFIRM:case n.RESET_PIN:if(b("FBPayGatingUtils").shouldShowResetPinWithCvv()){e=this.__getResetContainer();return j.jsx(e,{logger:this.getLogger(),onCancel:this.props.onCancel,paymentType:this.props.paymentType,redirectFromPaypalURL:this.props.redirectFromPaypalURL,title:this.props.title,handleCvvSubmit:this.handleCvvSubmit})}c=this.__getForgotContainer();return j.jsx(c,{currentAction:d,secondaryAction:a,funnelLoggingSessionID:this.context.funnelLoggingSessionID,handleForgotPassword:this.handleForgotPassword,handlePasswordSubmit:this.handlePasswordSubmit,isLeavingPINFlow:this.state.isLeavingPINFlow,isResetPIN:this.state.flowStep===n.RESET_PIN,logger:this.getLogger(),onCancel:this.props.onCancel,onLeavingDialog:this.onLeavingDialog,onForgotDialog:this.onForgotDialog,paymentType:this.props.paymentType,title:this.props.title});case n.LOADING:e=this.__getLoadingView();return j.jsx(e,{overlay:!0});default:throw new Error("Unhandled PIN flow state!")}};d.render=function(){var a=this,c=this.__getLoadingView();return j.jsx(k,{environment:b("RelayFBEnvironment"),query:o,render:function(d){var e=d.error;d=d.props;if(e)return a.renderPINContainer();else if(d){return j.jsx(b("FBPayPINFlowContext").Provider,{value:{state:d==null?void 0:(e=d.fbpay_authentication_information_query)==null?void 0:e.authentication_information},children:a.renderPINContainer(d)})}return j.jsx(c,{overlay:!0})},variables:{input:{actor_id:b("CurrentUser").getID(),client_mutation_id:b("CurrentUser").getID(),payment_type:this.props.paymentType||"unknown"}}})};return c}(j.Component);a.contextType=b("FBPaymentsCheckoutContext");e.exports=a}),null);
__d("FBPayPINForgotContainerBase.react",["FBLogger","FBPayCheckoutWebFunnelLoggingUtils","FBPaymentsCheckoutContext","FBPaymentsLoggerConstants","FBPaymentsUniversalErrorUtils","React","abstractMethod"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPayCheckoutWebFunnelLoggingUtils").webFunnelLogFBPayCheckout,h=b("React");a=b("FBPaymentsLoggerConstants").LoggerFlowStep;var i=b("FBPaymentsLoggerConstants").LoggerEvent,j=a.RESET_PIN;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={currentAuthStepType:null,errorMessage:null,formData:null,isButtonDisabled:!0,isFormValid:!1,loading:!1,shouldShowServerErrorMessage:!1},d.onFormChange=function(a,b){var c;d.setState({errorMessage:null,isButtonDisabled:!(((c=a.password)==null?void 0:c.length)>=1),formData:a,isFormValid:b})},d.onPasswordSubmit=function(){var a=d.state.formData;if(!a||!d.state.isFormValid)return;d.setState({loading:!0});a={password:a.password,payment_type:d.props.paymentType||"unknown",logging_id:(a=d.props.logger)==null?void 0:a.getSessionID()};d.__getAPI().verifyPasswordGraphQL(a,d.onPasswordValidated,d.onPasswordValidateError)},d.onPasswordValidated=function(){var a;a=(a=d.state.formData)==null?void 0:a.password;a!=null&&d.props.handlePasswordSubmit(a)},d.onPasswordValidateError=function(a){(a==null?void 0:a.errorCode)===134001&&d.setState({shouldShowServerErrorMessage:!0});a=b("FBPaymentsUniversalErrorUtils").getErrorDescription(a);a!=null&&a!==""&&(b("FBLogger")("fbpay_experience").mustfix("Password failed to validate",String(a)),d.setState({errorMessage:a,loading:!1,isButtonDisabled:!0}));d.props.logger&&d.props.logger.setFlowStep(j).setEventName(i.FAIL).setUserFacingMessage(a).logVital()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a,b=(a=this.props.currentAction)==null?void 0:a.first_step_type;this.setState(function(a){return babelHelpers["extends"]({},a,{currentAuthStepType:b})});a=this.context.funnelLoggingSessionID;g("forget_pin_display",a)};d.componentDidUpdate=function(){var a;if(this.state.currentAuthStepType!==((a=this.props.currentAction)==null?void 0:a.first_step_type)){this.setState({currentAuthStepType:(a=this.props.currentAction)==null?void 0:a.first_step_type})}};d.render=function(){var a=this.__getView();return h.jsx(a,{currentAction:this.props.currentAction,currentAuthStepType:this.state.currentAuthStepType,errorMessage:this.state.errorMessage,handleForgotPassword:this.props.handleForgotPassword,isButtonDisabled:this.state.isButtonDisabled,isResetPIN:this.props.isResetPIN,isLoading:this.props.loading===!0||this.state.loading,onCancel:this.props.onCancel,onFormChange:this.onFormChange,isLeavingPINFlow:this.props.isLeavingPINFlow,onLeavingDialog:this.props.onLeavingDialog,onForgotDialog:this.props.onForgotDialog,onPasswordSubmit:this.onPasswordSubmit,secondaryAction:this.props.secondaryAction,shouldShowServerErrorMessage:this.state.shouldShowServerErrorMessage,title:this.props.title})};d.__getAPI=function(){return b("abstractMethod")("FBPayPINForgotContainerBase","__getAPI")};d.__getView=function(){return b("abstractMethod")("FBPayPINForgotContainerBase","__getView")};return c}(h.Component);c.contextType=b("FBPaymentsCheckoutContext");e.exports=c}),null);
__d("FBPayPINForgotViewBase.react",["fbt","FBPayGatingUtils","FBPayPINFlowContext","FBPayPINUtils","FBPayStrings","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBPayGatingUtils").isFBPayExperienceEnabled,i=b("FBPayPINUtils").getAuthFlowsDynamicContent,j=b("FBPayPINUtils").getStep,k=b("FBPayPINUtils").getSubAction;a=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={content:null,currentAuthStepType:null,secondaryContent:null},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a;this.setState({content:this.$1(this.props.currentAction,this.props.currentAuthStepType),secondaryContent:this.$1(this.props.secondaryAction,(a=this.props.secondaryAction)==null?void 0:a.first_step_type)})};d.$1=function(a,b){a=i(this.context,a,b);return a};d.$2=function(a){var b=j(this.props.currentAction,this.props.currentAuthStepType);b=k(b,a);return b==null?void 0:(a=b.text)==null?void 0:a.text};d.getHeaderText=function(){var a,c;a=(a=(a=this.state.content)==null?void 0:a.title)!=null?a:b("FBPayStrings").FACEBOOK_PAY;c=(c=this.props.title)!=null?c:b("FBPayStrings").CHECKOUT;return h()?a:c};d.getTitle=function(){var a,b;a=(a=(a=this.state.content)==null?void 0:a.subtitle)!=null?a:g._("Reset PIN");b=(b=(b=this.state.content)==null?void 0:b.subtitle)!=null?b:g._("Forgotten your PIN?");return Boolean(this.props.isResetPIN)?a:b};d.getFormFieldPlaceholder=function(){var a;return(a=(a=this.state.content)==null?void 0:a.editFieldHint)!=null?a:g._("Password")};d.getForgotPasswordText=function(){var a=this.$2("FORGOT_FACEBOOK_PASSWORD");return(a=a)!=null?a:g._("Forgotten password?")};d.getBodyText=function(){var a,b;a=(a=(a=this.state.content)==null?void 0:a.description)!=null?a:g._("Enter your Facebook password to continue.");b=(b=(b=this.state.content)==null?void 0:b.description)!=null?b:g._("Enter your Facebook password to reset your PIN.");return Boolean(this.props.isResetPIN)?a:b};d.getButtonText=function(){var a;return(a=(a=this.state.content)==null?void 0:a.actionText)!=null?a:g._("Continue")};d.getErrorMessage=function(){var a=g._("Incorrect password. Please try again."),b=g._("There's something wrong with this request. Please try again.");if(Boolean(this.props.shouldShowServerErrorMessage)){var c;return(c=this.props.errorMessage)!=null?c:b}return this.props.errorMessage==null?null:(b=(c=this.state.content)==null?void 0:c.errorMessage)!=null?b:a};d.getLeavingHeaderText=function(){var a,b=g._("Leave without resetting PIN?");return(a=(a=this.state.secondaryContent)==null?void 0:a.title)!=null?a:b};d.getLeavingBodyText=function(){var a,b=g._("You won't be able to confirm some payments until you've reset your PIN.");return(a=(a=this.state.secondaryContent)==null?void 0:a.subtitle)!=null?a:b};d.getLeavingLeftButtonText=function(){var a,b=g._("Leave");return(a=(a=this.state.secondaryContent)==null?void 0:a.option2)!=null?a:b};d.getLeavingRightButtonText=function(){var a,b=g._("Reset PIN");return(a=(a=this.state.secondaryContent)==null?void 0:a.option1)!=null?a:b};return c}(a.Component);c.contextType=b("FBPayPINFlowContext");e.exports=c}),null);
__d("XRecoverInitiateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/recover/initiate/",{ctx:{type:"String"},c:{type:"String"},r:{type:"String"},ldata:{type:"String"},cid:{type:"Int"},btp:{type:"String"},device_id:{type:"String"},cuid:{type:"String"},recover_method:{type:"String"},reg_instance:{type:"String"},sr:{type:"Bool",defaultValue:!1},sbc:{type:"Bool",defaultValue:!1},rpm:{type:"String"},search_query:{type:"String"},multiple_results:{type:"Bool",defaultValue:!1},fl:{type:"String"},ars:{type:"String"},s:{type:"Int"},social_plugin:{type:"String"},cl:{type:"Bool",defaultValue:!1},wsr:{type:"Bool",defaultValue:!1},ref:{type:"String"},reg_info:{type:"String"},ipw:{type:"Bool",defaultValue:!1},selected_cuid:{type:"String"},redirect_to_full_page_on_captcha:{type:"Bool",defaultValue:!1},openid_provider_name:{type:"String"},cpp:{type:"String"},hacked:{type:"Bool",defaultValue:!1},cuid_not_me:{type:"String"},nothacked:{type:"Bool",defaultValue:!1},email:{type:"String"},al_flow:{type:"String"}})}),null);
__d("FBPayPINForgotView.react",["cx","fbt","FBPayCardedDialog.react","FBPayConfirmDialog.react","FBPayGatingUtils","FBPaymentsForm.react","FBPaymentsLoadingView.react","FBPayMobilePinDialog.react","FBPayPINButton.react","FBPayPINForgotViewBase.react","FBPayTetraFormField.react","LayerFadeOnHide","Link.react","React","TetraText.react","XRecoverInitiateController","XUIDialog.react","isMobilePlatform"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("FBPayGatingUtils").isFBPayExperienceEnabled(),c=navigator.userAgent.match(/iPhone/),d=a?this.getHeaderText():this.getTitle();a=a?i.jsx("div",{className:"_8vsc",children:i.jsx(b("TetraText.react"),{type:"headlineEmphasized3",children:this.getTitle()})}):null;var e=i.jsx(b("TetraText.react"),{type:"headlineEmphasized3",children:this.getLeavingHeaderText()}),f=i.jsx(b("FBPaymentsForm.react"),{enableFloatingLabels:!0,onChange:this.props.onFormChange,children:i.jsx(b("FBPayTetraFormField.react"),{className:b("isMobilePlatform")?"_8we1":"",label:this.getFormFieldPlaceholder(),name:"password",inputType:"password"})}),g=i.jsx(b("TetraText.react"),{type:"body4",children:this.getBodyText()}),j=i.jsx("div",{className:(b("isMobilePlatform")?"":"_8m3s")+(b("isMobilePlatform")?" _8we2":""),children:i.jsx(b("TetraText.react"),{color:"negative",type:"bodyLink4",children:this.getErrorMessage()})}),k=i.jsx(b("FBPayPINButton.react"),{onClick:this.props.onPasswordSubmit,isDisabled:this.props.isButtonDisabled,text:this.getButtonText()}),l=i.jsx(b("Link.react"),{className:"_8rjs",target:"_blank",href:b("XRecoverInitiateController").getURIBuilder().getURI().setSubdomain("www"),onClick:this.props.handleForgotPassword,children:this.getForgotPasswordText()}),m=Boolean(this.props.isLeavingPINFlow)&&i.jsx(b("XUIDialog.react"),{label:"PINFlowDialog",behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},shown:!0,layerHideOnBlur:!1,width:445,children:i.jsx(b("FBPayConfirmDialog.react"),{headerText:this.getLeavingHeaderText(),onClose:this.props.onForgotDialog,bodyText:this.getLeavingBodyText(),leftButtonText:this.getLeavingLeftButtonText(),rightButtonText:this.getLeavingRightButtonText(),onLeftButton:this.props.onCancel,onRightButton:this.props.onForgotDialog})});e=Boolean(this.props.isLeavingPINFlow)?i.jsx(b("XUIDialog.react"),{label:"PINFlowDialog",behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},shown:!0,layerHideOnBlur:!1,width:255,children:i.jsx(b("FBPayMobilePinDialog.react"),{bodyContent:this.getLeavingBodyText(),headerContent:e,leftButtonText:this.getLeavingLeftButtonText(),rightButtonText:this.getLeavingRightButtonText(),onLeftButton:this.props.onCancel,onRightButton:this.props.onForgotDialog})}):null;var n=h._("Cancel"),o=i.jsxs("div",{children:[i.jsx("div",{className:"_8wdy",children:g}),f,j,k,l]});c=Boolean(this.props.isLeavingPINFlow)?null:i.jsx("div",{className:c?"_8we3":"",children:i.jsx(b("FBPayMobilePinDialog.react"),{bodyContent:o,centerButtonText:n,headerContent:a,isLoading:this.props.isLoading,onCenterButton:this.props.onLeavingDialog})});o=Boolean(this.props.isLeavingPINFlow)?null:i.jsxs(b("FBPayCardedDialog.react"),{title:d,withCloseButton:!0,onClose:this.props.onLeavingDialog,children:[i.jsxs("div",{className:"_8m3p",children:[a,i.jsx("div",{className:"_8l2z",children:g})]}),f,j,k,l,i.jsx("div",{}),i.jsx(b("FBPaymentsLoadingView.react"),{overlay:!0,visible:this.props.isLoading})]});return b("isMobilePlatform")?i.jsxs(i.Fragment,{children:[c,e]}):i.jsxs("div",{className:"_8l2x",children:[o,m]})};return c}(b("FBPayPINForgotViewBase.react"));e.exports=a}),null);
__d("FBPayPINForgotContainer.react",["FBPaymentsModulesAPI","FBPayPINForgotContainerBase.react","FBPayPINForgotView.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getAPI=function(){return b("FBPaymentsModulesAPI")};d.__getView=function(){return b("FBPayPINForgotView.react")};return c}(b("FBPayPINForgotContainerBase.react"));e.exports=a}),null);
__d("FBPayPINValidateContainerBase.react",["FBPayCheckoutWebFunnelLoggingUtils","FBPaymentsCheckoutContext","FBPaymentsLinkHelper","FBPaymentsLoggerConstants","FBPaymentsPINConstants","FBPaymentsPINInputFieldContainerV2.react","FBPaymentsUniversalErrorUtils","React","abstractMethod","isMobilePlatform"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPayCheckoutWebFunnelLoggingUtils").webFunnelLogFBPayCheckout,h=b("React"),i=b("FBPaymentsLoggerConstants").LoggerFlowStep,j=b("FBPaymentsLoggerConstants").LoggerEvent,k=b("FBPaymentsPINConstants").PIN_FLOW_TYPES,l=500,m=2e3,n=i.VERIFY_PIN;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={currentAuthStepType:null,errorMessage:null,isPinValid:!1,loading:!1,pinEntered:"",remainingAttempts:Infinity,shakePINInput:!1,shouldShowErrorMessage:!1},d.onPINValidate=function(a){var b;b=a==null?void 0:(b=a.verify_payments_pin)==null?void 0:b.is_valid;a=a==null?void 0:(a=a.verify_payments_pin)==null?void 0:a.remain_attempts_count;Boolean(b)?d.onPINValidationCompleted():d.onPINValidationError(a)},d.onPINSwitch=function(a){var b;b=a==null?void 0:(b=a.switch_payments_pin)==null?void 0:b.success;a=a==null?void 0:(a=a.switch_payments_pin)==null?void 0:a.remain_attempts_count;Boolean(b)?d.onPINValidationCompleted():d.onPINValidationError(a)},d.onError=function(a){a=b("FBPaymentsUniversalErrorUtils").getErrorDescription(a);a!=null&&a!==""&&(d.setState({errorMessage:a,loading:!1,shakePINInput:!0,shouldShowErrorMessage:!0}),setTimeout(function(){d.setState({pinEntered:"",shakePINInput:!1})},l),d.props.logger&&d.props.logger.setFlowStep(d.getLoggerFlowStep(d.props.flowType)).setEventName(j.FAIL).setUserFacingMessage(a).logVital())},d.onPINEntered=function(a){d.setState({loading:!0,pinEntered:a});var b;if(d.props.flowType===k.DISABLE_PIN)b={pin:a,new_pin_status:"DISABLED",payment_type:d.props.paymentType||"unknown"},d.__getAPI().switchPINGraphQL(b,d.onPINSwitch,d.onError),d.props.logger&&d.props.logger.setFlowStep(i.DISABLE_PIN).setEventName(j.API_INIT).logVital();else if(d.props.flowType===k.ENABLE_PIN)b={pin:a,new_pin_status:"ACTIVE",payment_type:d.props.paymentType||"unknown"},d.__getAPI().switchPINGraphQL(b,d.onPINSwitch,d.onError),d.props.logger&&d.props.logger.setFlowStep(i.ENABLE_PIN).setEventName(j.API_INIT).logVital();else{b={pin:a,payment_type:d.props.paymentType||"unknown",logging_id:(a=d.props.logger)==null?void 0:a.getSessionID()};d.__getAPI().verifyPINGraphQL(b,d.onPINValidate,d.onError);d.props.logger&&d.props.logger.setFlowStep(n).setEventName(j.API_INIT).logVital()}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.setState(function(a){return babelHelpers["extends"]({},a,{currentAuthStepType:"VERIFY_PIN"})}),b("FBPaymentsLinkHelper").isCurrentURIReturnedFromVerifiedPaypal()&&this.props.onResetPIN(),this.props.logger&&this.props.logger.setFlowStep(n).setEventName(j.DISPLAY).addToExtraData("page","VERIFY").logVital(),g("verify_pin_display",this.context.funnelLoggingSessionID)};d.getLoggerFlowStep=function(a){if(this.props.flowType===k.DISABLE_PIN)return i.DISABLE_PIN;else if(this.props.flowType===k.ENABLE_PIN)return i.ENABLE_PIN;else return i.VERIFY_PIN};d.onPINValidationCompleted=function(){this.setState({errorMessage:null,isPinValid:!0,shouldShowErrorMessage:!1}),this.props.flowType===k.CHANGE_PIN?this.props.handlePINVlidatedInReset(this.state.pinEntered):this.props.onComplete(this.state.pinEntered),this.props.logger&&this.props.logger.setFlowStep(this.getLoggerFlowStep(this.props.flowType)).setEventName(j.SUCCESS).logVital()};d.onPINValidationError=function(a){var b=this;if(a!=null){this.setState({isPinValid:!1,loading:!1,remainingAttempts:a,shakePINInput:!0,shouldShowErrorMessage:!0});setTimeout(function(){b.setState({pinEntered:"",shakePINInput:!1})},l);this.props.logger&&this.props.logger.setFlowStep(this.getLoggerFlowStep(this.props.flowType)).setEventName(j.FAIL).setUserFacingMessage(this.state.errorMessage).logVital();return}};d.render=function(){var a=this,c=this.__getView(),d=h.jsx(b("FBPaymentsPINInputFieldContainerV2.react"),{isDesktop:this.props.platform==="DESKTOP"&&!b("isMobilePlatform"),disabled:Boolean(this.props.loading)||this.state.loading,onPINEnter:this.onPINEntered,pin:"",shake:this.state.shakePINInput,smallerCircle:!0});this.state.remainingAttempts===0&&setTimeout(function(){a.props.onResetPIN()},m);return h.jsx(c,{currentAction:this.props.currentAction,currentAuthStepType:this.state.currentAuthStepType,errorMessage:this.state.errorMessage,flowType:this.props.flowType,isFBPayContent:this.props.isFBPayContent,isLoading:Boolean(this.props.loading)||this.state.loading,isPinEntered:this.state.pinEntered.length==4,isPinValid:this.state.isPinValid,onCancel:this.props.onCancel,onForgotPIN:this.props.onForgotPIN,pinField:d,remainingAttempts:this.state.remainingAttempts,shouldShowErrorMessage:this.state.shouldShowErrorMessage,title:this.props.title})};d.__getAPI=function(){return b("abstractMethod")("FBPayPINValidateContainerBase","__getAPI")};d.__getView=function(){return b("abstractMethod")("FBPayPINValidateContainerBase","__getView")};return c}(h.Component);a.contextType=b("FBPaymentsCheckoutContext");e.exports=a}),null);
__d("FBPayPINValidateViewBase.react",["fbt","FBPayGatingUtils","FBPaymentsPINConstants","FBPayPINUtils","FBPayStrings","React","FBPayPINFlowContext"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBPayGatingUtils").isFBPayExperienceEnabled,i=b("FBPayPINUtils").getAuthFlowsDynamicContent,j=b("FBPayPINUtils").getStep,k=b("FBPayPINUtils").getSubAction;a=b("React");var l=b("FBPaymentsPINConstants").PIN_FLOW_TYPES,m=3;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={content:null},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=i(this.context,this.props.currentAction,this.props.currentAuthStepType);this.setState({content:a})};d.getHeaderText=function(){var a,c;if(this.props.isPinLocked===!0)return g._("PIN locked");a=(a=(a=this.state.content)==null?void 0:a.title)!=null?a:b("FBPayStrings").FACEBOOK_PAY;c=(c=this.props.title)!=null?c:b("FBPayStrings").CHECKOUT;return h()?a:c};d.getErrorText=function(){var a;if(this.props.errorMessage!=null)return this.props.errorMessage;var b=this.props.remainingAttempts>=m?m:this.props.remainingAttempts;a=(a=this.state.content)==null?void 0:a.error_messages;if(a!=null){a=(a=a[b])==null?void 0:a.text;if(a!=null)return a}if(b===0)return g._("Incorrect PIN. Please reset your PIN.");return b<=2?g._({"*":"Incorrect PIN. {attempts} attempts left.","_1":"Incorrect PIN. {attempts} attempt left."},[g._param("attempts",b),g._plural(b)]):Boolean(this.props.isPinEntered&&this.props.isPinValid)?null:g._("Incorrect PIN. Please try again.")};d.getTitle=function(){var a;return this.props.isPinLocked===!0?g._("Your PIN is locked"):(a=(a=this.state.content)==null?void 0:a.subtitle)!=null?a:g._("Enter PIN")};d.getBodyText=function(){var a;if(this.props.flowType===l.ENABLE_PIN||this.props.flowType===l.DISABLE_PIN)return g._("Enter your Facebook Pay PIN to continue.");else if(this.props.flowType===l.CHANGE_PIN)return g._("Enter your old Facebook Pay PIN.");a=(a=(a=this.state.content)==null?void 0:a.description)!=null?a:g._("Enter your Facebook Pay PIN to confirm your payment.");var b=g._("Enter your PIN to complete your payment.");return h()?a:b};d.getCancelButtonText=function(){return g._("Back")};d.getForgotButtonText=function(){var a=j(this.props.currentAction,this.props.currentAuthStepType);a=k(a,"FORGOT_PIN");return(a=a==null?void 0:(a=a.text)==null?void 0:a.text)!=null?a:g._("Forgotten your PIN?")};return c}(a.Component);c.contextType=b("FBPayPINFlowContext");e.exports=c}),null);
__d("FBPayPINValidateView.react",["cx","fbt","FBPayCardedDialog.react","FBPayGatingUtils","FBPaymentsLoadingView.react","FBPayMobilePinDialog.react","FBPayPINValidateViewBase.react","React","ShimButton.react","TetraText.react","isMobilePlatform"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderInputField=function(){return i.jsx("div",{className:"_8l2v",children:this.props.pinField})};d.render=function(){var a=b("FBPayGatingUtils").isFBPayExperienceEnabled(),c=navigator.userAgent.match(/iPhone/),d=a?this.getHeaderText():this.getTitle();a=a?i.jsx("div",{className:"_8vsc",children:i.jsx(b("TetraText.react"),{type:"headlineEmphasized3",children:this.getTitle()})}):null;var e=i.jsx("div",{className:(b("isMobilePlatform")?"_8v-9":"")+(b("isMobilePlatform")?"":" _8m3n"),children:b("isMobilePlatform")?i.jsx(b("TetraText.react"),{type:"body4",children:this.getBodyText()}):i.jsx(b("TetraText.react"),{type:"bodyLink4",children:this.getBodyText()})}),f=i.jsx("div",{className:"_8l2w",children:i.jsx(b("TetraText.react"),{color:"negative",type:"bodyLink4",children:Boolean(this.props.shouldShowErrorMessage)&&this.getErrorText()})}),g=i.jsx("div",{className:(b("isMobilePlatform")?"":"_8lhi")+(b("isMobilePlatform")?" _8v-b":""),children:i.jsx(b("ShimButton.react"),{onClick:this.props.onForgotPIN,children:this.getForgotButtonText()})});e=i.jsxs("div",{children:[e,i.jsx("div",{className:(b("isMobilePlatform")?"":"_8l2v")+(b("isMobilePlatform")?" _8v-f":""),children:this.props.pinField}),f,g]});f=h._("Cancel");return b("isMobilePlatform")?i.jsx("div",{className:c?"_8we0":"",children:i.jsx(b("FBPayMobilePinDialog.react"),{bodyContent:e,centerButtonText:f,headerContent:a,isLoading:this.props.isLoading,onCenterButton:this.props.onCancel})}):i.jsx("div",{className:"_8l2x",children:i.jsxs(b("FBPayCardedDialog.react"),{title:d,withCloseButton:!0,onClose:this.props.onCancel,children:[i.jsxs("div",{style:{padding:20},className:"_8l2y",children:[a,i.jsx("div",{className:"_8m3o",children:e})]}),i.jsx("div",{}),i.jsx(b("FBPaymentsLoadingView.react"),{overlay:!0,visible:this.props.isLoading})]})})};return c}(b("FBPayPINValidateViewBase.react"));e.exports=a}),null);
__d("FBPayPINValidateContainer.react",["FBPaymentsModulesAPI","FBPayPINValidateContainerBase.react","FBPayPINValidateView.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getAPI=function(){return b("FBPaymentsModulesAPI")};d.__getView=function(){return b("FBPayPINValidateView.react")};return c}(b("FBPayPINValidateContainerBase.react"));e.exports=a}),null);
__d("FBPayPINFlowContainer.react",["FBPaymentsLoadingView.react","FBPaymentsModulesAPI","FBPayPINCreateContainer.react","FBPayPINFlowContainerBase.react","FBPayPINForgotContainer.react","FBPayPINValidateContainer.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getCreateContainer=function(){return b("FBPayPINCreateContainer.react")};d.__getValidateContainer=function(){return b("FBPayPINValidateContainer.react")};d.__getForgotContainer=function(){return b("FBPayPINForgotContainer.react")};d.__getAPI=function(){return b("FBPaymentsModulesAPI")};d.__getLoadingView=function(){return b("FBPaymentsLoadingView.react")};d.__getPlatform=function(){return"DESKTOP"};return c}(b("FBPayPINFlowContainerBase.react"));e.exports=a}),null);
__d("FBPaymentsPriceFormField.react",["fbt","FBPaymentsFormField.react","FBPaymentsFormFieldInputConfigs","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getPlaceholderText=function(){return g._("Price")};d.render=function(){return h.jsx(b("FBPaymentsFormField.react"),babelHelpers["extends"]({config:b("FBPaymentsFormFieldInputConfigs").PRICE_INPUT_CONFIG,placeholder:this.getPlaceholderText()},this.props))};return c}(h.Component);e.exports=a}),null);
__d("AltPayPopupManager",[],(function(a,b,c,d,e,f){"use strict";a={_instances:{},register:function(a,b){Object.prototype.hasOwnProperty.call(this._instances,a),this._instances[a]=b},processPopup:function(a){var b=this;Object.keys(this._instances).forEach(function(c){c=b._instances[c];c&&c.close(a)})}};e.exports=a}),null);
__d("AltPayPopup",["AltPayPopupManager","PopupWindow","guid"],(function(a,b,c,d,e,f){"use strict";var g={payment_provider_error:"true",payment_provider_msg:"User cancelled Alt Pay flow."};a=function(){function a(){this.width=600,this.height=600,this.timerID=0,this.pollingInterval=100,this.$1="altPayPopup$"+b("guid")(),b("AltPayPopupManager").register(this.$1,this)}var c=a.prototype;c.initAltPay=function(a){this.popup&&(this.cancelHandler=a.onCancel,this.successHandler=a.onSuccess,this.popup.location=a.initURL,this.popup.focus())};c.preparePopup=function(){this.popup=b("PopupWindow").open("",this.height,this.width),this.setupPopupOpenCheck()};c.setupPopupOpenCheck=function(){this.timerID=window.setInterval(function(){this.popup&&this.popup.closed&&(this.closePopup(),this.cancelHandler&&this.cancelHandler(g))}.bind(this),this.pollingInterval)};c.close=function(a){this.closePopup();if(a.cancel||a.cancel_dialog)this.cancelHandler&&this.cancelHandler(g);else{a={payment_provider_completed:a.payment_provider_completed,payment_provider_error:a.payment_provider_error,payment_provider_pending:a.payment_provider_pending,payment_provider_ec:a.payment_provider_ec,payment_provider_msg:a.payment_provider_msg};this.successHandler&&this.successHandler(a)}};c.closePopup=function(){this.popup&&(this.popup.close(),this.popup=null)};return a}();e.exports=a}),null);
__d("FBPaymentsAlertDialog.react",["FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","React"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("FDSModal.react"),{isShown:!!this.props.isShown,width:400,header:g.jsx(b("FDSModalHeader.react"),{title:this.props.title}),onHide:this.props.onConfirmClick,footer:g.jsx(b("FDSModalFooter.react"),{primaryButton:g.jsx(b("FDSButton.react"),{label:this.props.confirmButtonLabel,onClick:this.props.onConfirmClick})}),children:g.jsx(b("FDSSection.react"),{children:this.props.description})})};return c}(g.PureComponent);e.exports=a}),null);
__d("FBPaymentsCheckoutNUXBase.react",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a.Component);e.exports=c}),null);
__d("FBPaymentsCheckoutNUXMessageBase.react",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a.Component);e.exports=c}),null);
__d("FBPaymentsCheckoutNUXMessage.react",["cx","FBPaymentsCheckoutNUXMessageBase.react","React","XUIGrayText.react","XUIText.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a={color:this.props.color,fontWeight:"bold"},c={backgroundColor:this.props.color,borderRadius:20,height:40,width:40,display:"flex",alignItems:"center"};return h.jsxs("div",{className:b("joinClasses")("_d7r",this.props.className),children:[h.jsx("div",{style:c,children:h.jsx("div",{className:"_s_8",children:h.jsx("div",{className:this.props.iconSrc})})}),h.jsxs("div",{className:"_f_w",children:[h.jsx("div",{children:h.jsx(b("XUIText.react"),{style:a,shade:"medium",size:"header3",children:this.props.messageTitle})}),h.jsx(b("XUIGrayText.react"),{shade:"light",size:"header3",children:this.props.message})]})]})};return c}(b("FBPaymentsCheckoutNUXMessageBase.react"));e.exports=a}),null);
__d("FBPaymentsCheckoutNUX.react",["cx","ix","FBPaymentsCheckoutNUXBase.react","FBPaymentsCheckoutNUXMessage.react","Image.react","React","ReactCSSTransitionGroup","XUIGrayText.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$FBPaymentsCheckoutNUX1=function(a,c){return i.jsx(b("ReactCSSTransitionGroup"),{className:"_3hij",transitionName:"nux",transitionAppear:!0,transitionAppearTimeout:5e3,transitionEnter:!1,transitionLeave:!1,children:i.jsx(b("FBPaymentsCheckoutNUXMessage.react"),{className:"_60a3",iconSrc:a.iconSrc,message:a.message,color:a.color,messageTitle:a.messageTitle})},c)};d.render=function(){var a=this.props.nuxMessages||[];return i.jsxs("div",{className:b("joinClasses")("_60a0",this.props.className),children:[i.jsx(b("ReactCSSTransitionGroup"),{className:"_3hij",transitionName:"nux",transitionAppear:!0,transitionAppearTimeout:0,transitionEnter:!1,transitionLeave:!1,children:i.jsx("div",{className:"_d8h",children:i.jsx(b("Image.react"),{src:h("346093")})})}),i.jsx(b("ReactCSSTransitionGroup"),{className:"_3hij",transitionName:"nux",transitionAppear:!0,transitionAppearTimeout:0,transitionEnter:!1,transitionLeave:!1,children:i.jsx(b("XUIGrayText.react"),{className:"_60a2",display:"block",shade:"medium",children:this.props.headerTitle})}),a.map(this.$FBPaymentsCheckoutNUX1)]})};return c}(b("FBPaymentsCheckoutNUXBase.react"));e.exports=a}),null);
__d("FBPaymentsCheckoutNUXContainerBase.react",["fbt","FBPaymentsLoggerConstants","React","abstractMethod"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");var h=b("FBPaymentsLoggerConstants").LoggerFlowStep,i=b("FBPaymentsLoggerConstants").LoggerEvent,j=4989;c=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.handleContinueButtonClick=function(){c.__getAPI().dismissNUX(j),c.props.onContinueButtonClick()};b=!1;b?(c.__getAPI().viewNUX(j),c.props.logger&&c.props.logger.setFlowStep(h.NUX).setEventName(i.INIT).logVital()):c.props.onContinueButtonClick();return c}var d=c.prototype;d.getBackButtonText=function(){return g._("Back")};d.getContinueButtonText=function(){return g._("Continue")};d.__getAPI=function(){return b("abstractMethod")("FBPaymentsCheckoutNUXContainerBase","__getAPI")};return c}(a.Component);e.exports=c}),null);
__d("FBPaymentsCheckoutNUXContentHelper",["cx","fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={getHeaderTitle:function(){return h._("Simple and secure payments")},getNUXMessages:function(){return[{color:"#4ad0ba",messageTitle:h._("Private"),message:h._("We never post or share your purchases."),iconSrc:"_3ufk"},{color:"#54c7ec",messageTitle:h._("Secure"),message:h._("Info is protected with bank-level security."),iconSrc:"_3ufl"},{color:"#8c72cb",messageTitle:h._("Reliable"),message:h._("Fast, convenient checkout every time."),iconSrc:"_3ufm"}]}};e.exports=a}),null);
__d("FBPaymentsCheckoutNUXContainer.react",["cx","FBPaymentsCheckoutNUX.react","FBPaymentsCheckoutNUXContainerBase.react","FBPaymentsCheckoutNUXContentHelper","FBPaymentsModulesAPI","React","XUIButton.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$FBPaymentsCheckoutNUXContainer1=function(){return h.jsx("div",{className:"_52jw _2ph_ _5kyc",children:h.jsx(b("XUIButton.react"),{className:"_60by",label:this.getContinueButtonText(),onClick:this.handleContinueButtonClick,size:"large",use:"confirm"})})};d.__getAPI=function(){return b("FBPaymentsModulesAPI")};d.render=function(){return h.jsxs("div",{children:[h.jsx(b("FBPaymentsCheckoutNUX.react"),babelHelpers["extends"]({className:"_60bz",nuxMessages:b("FBPaymentsCheckoutNUXContentHelper").getNUXMessages()},this.props)),this.$FBPaymentsCheckoutNUXContainer1()]})};return c}(b("FBPaymentsCheckoutNUXContainerBase.react"));e.exports=a}),null);
__d("FBPayments3DSLoggerConstants",[],(function(a,b,c,d,e,f){"use strict";a={LoggerEvent:{GET_CARD_PAYMENT_INFO_REQUEST:"get_card_payment_method_info_request",GET_CARD_PAYMENT_INFO_RESPONSE_THREEDS_REQ:"get_card_payment_method_info_response_3ds_req",GET_CARD_PAYMENT_INFO_RESPONSE_THREEDS_NOT_REQ:"get_card_payment_method_info_response_3ds_not_req",GET_CARD_PAYMENT_INFO_ERROR:"get_card_payment_method_info_error",JWT_CREATE_INIT:"jwt_create_init",JWT_CREATE_COMPLETE:"jwt_create_complete",JWT_CREATE_ERROR:"jwt_create_error",DEVICE_DATA_INIT:"device_data_init",DEVICE_DATA_COMPLETE:"device_data_complete",CMPI_REQUEST:"cmpi_request",CMPI_RESPONSE_SUCCESS:"cmpi_response_success",CMPI_RESPONSE_FAILED_STATUS:"cmpi_response_failed_status",CMPI_RESPONSE_ERROR:"cmpi_response_error",CMPI_RESPONSE_CHALLENGE:"cmpi_response_challenge",CHALLENGE_PRESENTED:"challenge_presented",CHALLENGE_LOADED:"challenge_loaded",CHALLENGE_SUCCESS:"challenge_success",CHALLENGE_ERROR:"challenge_error",CHALLENGE_CLOSED:"challenge_closed",CHALLENGE_TIMEOUT:"challenge_timeout",COMPLETE3DS_REQUEST:"complete3ds_called",COMPLETE3DSANDAUTH_REQUEST:"complete3ds_and_auth_called",COMPLETE3DS_ERROR:"complete3ds_error",COMPLETE3DSANDAUTH_ERROR:"complete3ds_and_auth_error",COMPLETE3DS_SUCCESS:"complete3ds_success",COMPLETE3DSANDAUTH_SUCCESS:"complete3ds_and_auth_success",PAYMENT_COMPLETE:"payment_complete",PAYMENT_ERROR:"payment_error"},VERSION:{ONE:"3DS1.0",TWO:"3DS2.0"}};e.exports=a}),null);
__d("FBPayments3DSDeviceDataCollectionComponent.react",["FBPayments3DS","FBPayments3DSLoggerConstants","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSSection.react","Form","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isShown:!0},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.props.logger.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.DEVICE_DATA_INIT).log();window.addEventListener("message",function(c){if(c.origin===b("FBPayments3DS").getDeviceDataURLOrigin()){c=JSON.parse(c.data);c!=void 0&&c.Status&&a.$1()}});b("Form").post(b("FBPayments3DS").getDeviceDataURL(),{JWT:this.props.jwt},"form_target");this.setState({isShown:!1})};d.$1=function(){this.props.logger.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.DEVICE_DATA_COMPLETE).log(),this.setState({isShown:!1}),this.props.onDeviceDataComplete()};d.render=function(){return g.jsx(b("FDSModal.react"),{footer:g.jsx(b("FDSModalFooter.react"),{primaryButton:g.jsx(b("FDSCancelButton.react"),{})}),isShown:this.state.isShown,onHide:function(){},height:1,width:1,children:g.jsx(b("FDSSection.react"),{children:g.jsx("iframe",{id:"form_target",name:"form_target",sandbox:"allow-forms allow-scripts allow-same-origin"})})})};return c}(g.Component);e.exports=a}),null);
__d("FBPayments3DSChallengeModal.react",["FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FlexLayout.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=500;(g||(g=b("stylex"))).inject(".mfclru0v{width:100%}",1);g.inject(".ff443qle{height:100vh}",1);g.inject(".f5m7p0br{border-top:none}",.3);g.inject(".iwso50tu{border-right:none}",.3,".iwso50tu{border-left:none}");g.inject(".ggolc4ur{border-bottom:none}",.3);g.inject(".js4msrqk{border-left:none}",.3,".js4msrqk{border-right:none}");g.inject(".imjq5d63{width:500px}",1);g.inject(".audg2vsm{height:600px}",1);g.inject(".f5m7p0br{border-top:none}",.3);g.inject(".iwso50tu{border-right:none}",.3,".iwso50tu{border-left:none}");g.inject(".ggolc4ur{border-bottom:none}",.3);g.inject(".js4msrqk{border-left:none}",.3,".js4msrqk{border-right:none}");function a(a){var c=a.isLite,d=a.form,e=a.iframeProps,f=a.showModal;a=a.onHide;if(c)return h.jsxs("div",{children:[d,h.jsx("iframe",babelHelpers["extends"]({},e,{"data-testid":void 0,className:"js4msrqk ggolc4ur iwso50tu f5m7p0br ff443qle mfclru0v"}))]});else return h.jsx(b("FDSModal.react"),{header:h.jsx(b("FDSModalHeader.react"),{title:"Authentication"}),footer:h.jsx(b("FDSModalFooter.react"),{primaryButton:h.jsx(b("FDSCancelButton.react"),{})}),isShown:f,onHide:a,width:i,children:h.jsx(b("FDSSection.react"),{hasPadding:!1,children:h.jsxs(b("FlexLayout.react"),{align:"stretch",direction:"vertical",justify:"center",children:[d,h.jsx("iframe",babelHelpers["extends"]({},e,{className:"js4msrqk ggolc4ur iwso50tu f5m7p0br audg2vsm imjq5d63"}))]})})})}e.exports=a}),null);
__d("FBPayments3DSEvents",[],(function(a,b,c,d,e,f){a="3dsChallengeWasCompleted";e.exports={CHALLENGE_COMPLETE_EVENT_NAME:a}}),null);
__d("FBPayments3DSChallengeModalContainer.react",["FBPayments3DSChallengeModal.react","FBPayments3DSEvents","FBPayments3DSLoggerConstants","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPayments3DSEvents").CHALLENGE_COMPLETE_EVENT_NAME,h=b("React");c=b("React");var i=c.useCallback,j=c.useEffect,k=c.useMemo,l=c.useRef,m=c.useState;function n(a){return a instanceof CustomEvent?a.detail:null}function o(a){return a==="POST"}var p="stepup_iframe";function q(a,b,c){return h.jsx("form",{ref:a,method:"POST",action:b,target:p,children:c.map(function(a){var b=a.key;a=a.value;return h.jsx("input",{type:"hidden",name:b,value:a},b)})})}function r(a,b){return{name:p,src:a==="GET"?b:null}}function a(a){var c=a.container,d=a.onChallengeComplete,e=a.logger,f=a.onChallengeFail,p=a.protocol,s=a.stepUpURL,t=a.params;a=babelHelpers.objectWithoutPropertiesLoose(a,["container","onChallengeComplete","logger","onChallengeFail","protocol","stepUpURL","params"]);j(function(){e.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.CHALLENGE_PRESENTED).log()},[e]);var u=m(!0),v=u[0],w=u[1];u=i(function(){e.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.CHALLENGE_CLOSED).log(),w(!1),f(),b("ReactDOM").unmountComponentAtNode(c)},[c,f,e,w]);j(function(){var a=function(a){w(!1),d(n(a)),b("ReactDOM").unmountComponentAtNode(c)};c.addEventListener(g,a);return function(){return c.removeEventListener(g,a)}},[c,d,w]);var x=l();j(function(){x.current!=null&&x.current.submit()},[x]);var y=k(function(){return o(p)?q(x,s,t):null},[p,x,s,t]);return h.jsx(b("FBPayments3DSChallengeModal.react"),babelHelpers["extends"]({},a,{form:y,iframeProps:r(p,s),showModal:v,onHide:u}))}e.exports=a}),null);
__d("FBPayments3DSErrorUtils",["keyMirror"],(function(a,b,c,d,e,f){"use strict";b("keyMirror")({ACTIVATION_FAILED:null,ACQUIRER_MERCHANT_INFO_FAILED:null,AUTH_FAIL:null,CARD_LOOKUP_FAILED:null,CHARGE_FAILED:null,CMPI_FAILED:null,COMPLETE_3DS_AND_AUTH_FAILED:null,COMPLETE_3DS_FAILED:null,FETCH_3RD_PARTY_AUTH_URL_FAILED:null,COMPLETE_AUTHENTICATION_ACTION_FAILED:null,INCORRECT_CARD_INFO:null,INVALID_CHALLENGE_RESPONSE:null,JWT_CREATION_FAILED:null,USER_CANCELLED_MODAL:null});var g={SYSTEM_ERROR:"101",INCORRECT_CARD_INFO:"102",AUTHENTICATION_FAILED:"103"},h={SYSTEM_ERROR:"System error",INCORRECT_CARD_INFO:"Incorrect card information",AUTHENTICATION_FAILED:"Authentication failed"},i={ACTIVATION_FAILED:"Activation failed",ACQUIRER_MERCHANT_INFO_FAILED:"Acquirer merchant info query failed",AUTH_FAIL:"Failed/Not completed/rejected thrown",CARD_LOOKUP_FAILED:"Card lookup query failed",CHARGE_FAILED:"Charge call failed",CMPI_FAILED:"CMPI query failed",COMPLETE_3DS_AND_AUTH_FAILED:"Complete3DSAndAuth query failed",COMPLETE_3DS_FAILED:"Complete3DS query failed",FETCH_3RD_PARTY_AUTH_URL_FAILED:"Was not able to get 3rd party authentication URL",COMPLETE_AUTHENTICATION_ACTION_FAILED:"Was unable to complete the action",INCORRECT_CARD_INFO:"Invalid card information thrown",INVALID_CHALLENGE_RESPONSE:"The response received from third party after challenge was invalid",JWT_CREATION_FAILED:"JWT creation query failed",USER_CANCELLED_MODAL:"User cancelled"};a=function(){function a(){}var b=a.prototype;b.getRawMessage=function(a){switch(a){case"ACQUIRER_MERCHANT_INFO_FAILED":return i.ACQUIRER_MERCHANT_INFO_FAILED;case"CARD_LOOKUP_FAILED":return i.CARD_LOOKUP_FAILED;case"CHARGE_FAILED":return i.CHARGE_FAILED;case"JWT_CREATION_FAILED":return i.JWT_CREATION_FAILED;case"CMPI_FAILED":return i.CMPI_FAILED;case"COMPLETE_3DS_FAILED":return i.COMPLETE_3DS_FAILED;case"COMPLETE_3DS_AND_AUTH_FAILED":return i.COMPLETE_3DS_AND_AUTH_FAILED;case"COMPLETE_AUTHENTICATION_ACTION_FAILED":return i.COMPLETE_AUTHENTICATION_ACTION_FAILED;case"INCORRECT_CARD_INFO":return i.INCORRECT_CARD_INFO;case"AUTH_FAIL":return i.AUTH_FAIL;case"USER_CANCELLED_MODAL":return i.USER_CANCELLED_MODAL;case"FETCH_3RD_PARTY_AUTH_URL_FAILED":return i.FETCH_3RD_PARTY_AUTH_URL_FAILED;case"INVALID_CHALLENGE_RESPONSE":return i.INVALID_CHALLENGE_RESPONSE;case"ACTIVATION_FAILED":return i.ACTIVATION_FAILED;default:a;throw new Error("exhaustive switch case")}};b.getErrorCode=function(a){switch(a){case"CARD_LOOKUP_FAILED":case"JWT_CREATION_FAILED":case"ACQUIRER_MERCHANT_INFO_FAILED":case"CMPI_FAILED":case"COMPLETE_3DS_FAILED":case"COMPLETE_3DS_AND_AUTH_FAILED":case"FETCH_3RD_PARTY_AUTH_URL_FAILED":case"INVALID_CHALLENGE_RESPONSE":case"ACTIVATION_FAILED":case"CHARGE_FAILED":case"COMPLETE_AUTHENTICATION_ACTION_FAILED":return g.SYSTEM_ERROR;case"INCORRECT_CARD_INFO":return g.INCORRECT_CARD_INFO;case"AUTH_FAIL":return g.AUTHENTICATION_FAILED;case"USER_CANCELLED_MODAL":return g.AUTHENTICATION_FAILED;default:a;throw new Error("exhaustive switch case")}};b.getCategory=function(a){switch(a){case"CARD_LOOKUP_FAILED":case"JWT_CREATION_FAILED":case"ACQUIRER_MERCHANT_INFO_FAILED":case"CMPI_FAILED":case"COMPLETE_3DS_FAILED":case"COMPLETE_3DS_AND_AUTH_FAILED":case"FETCH_3RD_PARTY_AUTH_URL_FAILED":case"INVALID_CHALLENGE_RESPONSE":case"ACTIVATION_FAILED":case"CHARGE_FAILED":case"COMPLETE_AUTHENTICATION_ACTION_FAILED":return h.SYSTEM_ERROR;case"INCORRECT_CARD_INFO":return h.INCORRECT_CARD_INFO;case"AUTH_FAIL":return h.AUTHENTICATION_FAILED;case"USER_CANCELLED_MODAL":return h.AUTHENTICATION_FAILED;default:a;throw new Error("exhaustive switch case")}};b.getError=function(a,b){return{errorCode:this.getErrorCode(a),rawMessage:this.getRawMessage(a),serverMessage:b,category:this.getCategory(a),type:a}};return a}();e.exports=new a()}),null);
__d("FBPayments3DSTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:FBPayments3DSLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:FBPayments3DSLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:FBPayments3DSLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCardinalPayload=function(a){this.$1.cardinal_payload=a;return this};c.setCredentialID=function(a){this.$1.credential_id=a;return this};c.setErrorMessage=function(a){this.$1.error_message=a;return this};c.setExperienceType=function(a){this.$1.experience_type=a;return this};c.setFlowStep=function(a){this.$1.flow_step=a;return this};c.setIgUserID=function(a){this.$1.ig_user_id=a;return this};c.setItemType=function(a){this.$1.item_type=a;return this};c.setPaymentID=function(a){this.$1.payment_id=a;return this};c.setResponseStatus=function(a){this.$1.response_status=a;return this};c.setRowID=function(a){this.$1.row_id=a;return this};c.setSession=function(a){this.$1.session=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTransactionID=function(a){this.$1.transaction_id=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVersionOf3ds=function(a){this.$1.version_of_3ds=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={cardinal_payload:!0,credential_id:!0,error_message:!0,experience_type:!0,flow_step:!0,ig_user_id:!0,item_type:!0,payment_id:!0,response_status:!0,row_id:!0,session:!0,time:!0,transaction_id:!0,vc:!0,version_of_3ds:!0,weight:!0};e.exports=a}),null);
__d("FBPayments3DSLoggerBase",["FBPayments3DSTypedLogger"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$2={},this.$1=new(b("FBPayments3DSTypedLogger"))()}var c=a.prototype;c.setGlobalFields=function(a){this.$2=babelHelpers["extends"]({},this.$2,a);return this};c.log=function(){this.$1.updateData(this.$2),this.$1.log(),this.$1.clear()};c.setCredentialID=function(a){this.$1.setCredentialID(a);return this};c.setFlowStep=function(a){this.$1.setFlowStep(a);return this};c.setExperienceType=function(a){this.$1.setExperienceType(a);return this};c.setItemType=function(a){this.$1.setItemType(a);return this};c.setPaymentID=function(a){this.$1.setPaymentID(a);return this};c.setRowID=function(a){this.$1.setRowID(a);return this};c.setExternalTransactionID=function(a){this.$1.setTransactionID(a);return this};c.setVersionOf3ds=function(a){this.$1.setVersionOf3ds(a);return this};c.setCardinalPayload=function(a){this.$1.setCardinalPayload(a);return this};c.setResponseStatus=function(a){this.$1.setResponseStatus(a);return this};c.setError=function(a){this.$1.setErrorMessage(a);return this};return a}();e.exports=a}),null);
__d("FBPayments3DS",["Promise","DOM","FBPayments3DSChallengeModalContainer.react","FBPayments3DSDeviceDataCollectionComponent.react","FBPayments3DSErrorUtils","FBPayments3DSEvents","FBPayments3DSLoggerBase","FBPayments3DSLoggerConstants","React","RelayFBEnvironment","RelayModern","guid","isEmpty","keyMirror","promiseDone","react-dom","FBPayments3DSQuery.graphql","FBPayments3DSAcquirerMerchantInfoQuery.graphql","FBPayments3DSFetch3rdPartyAuthURLMutation.graphql","FBPayments3DSCardPaymentMethodInfoQuery.graphql","FBPayments3DSCompleteAndAuthorizeQuery.graphql","FBPayments3DSComplete3DSMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j,k,l,m,n=b("FBPayments3DSEvents").CHALLENGE_COMPLETE_EVENT_NAME,o=b("React"),p=b("RelayModern").commitMutation,q=b("RelayModern").fetchQuery;b("RelayModern").graphql;var r=b("keyMirror")({CHALLENGED:null,COMPLETED:null,ATTEMPT_COMPLETED:null,FAILED:null,NOT_COMPLETED:null,REJECTED:null,NOT_ENROLLED:null,UNAVAILABLE:null,BYPASS:null}),s={SMALL:"01",MEDIUM:"02",LARGE:"03",EXTRA_LARGE:"04",FULL_PAGE:"05"},t=b("keyMirror")({CARDINAL_3DS1:null,CARDINAL_3DS2:null}),u="https://centinelapi.cardinalcommerce.com";a="https://centinelapistag.cardinalcommerce.com";var v="/V1/Cruise/Collect",w={CARDINAL_INCORRECT_CARD_INFO:1353097},x=g!==void 0?g:g=b("FBPayments3DSQuery.graphql"),y=h!==void 0?h:h=b("FBPayments3DSAcquirerMerchantInfoQuery.graphql"),z=i!==void 0?i:i=b("FBPayments3DSFetch3rdPartyAuthURLMutation.graphql"),A=j!==void 0?j:j=b("FBPayments3DSCardPaymentMethodInfoQuery.graphql"),B=k!==void 0?k:k=b("FBPayments3DSCompleteAndAuthorizeQuery.graphql"),C=l!==void 0?l:l=b("FBPayments3DSComplete3DSMutation.graphql");c=function(){function a(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=!1,this.$6=null,this.$7=new(b("FBPayments3DSLoggerBase"))(),this.$8=null,this.$9=b("RelayFBEnvironment")}var c=a.prototype;c.initLogger=function(a,c){this.$8=this.$8==null?b("guid")():this.$8,this.$7.setGlobalFields({session:this.$8,item_type:a,credential_id:c})};c.setRequires3DS=function(a){this.$5=a};c.collectDeviceData=function(a){var c=this,d=a.ccNumberBin,e=a.credentialID,f=a.amount,g=a.itemType,h=a.ccCountryCode,i=a.paymentAccountID,j=a.isRequestFromWhatsapp;this.initLogger(g,e);this.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.JWT_CREATE_INIT).log();return new(b("Promise"))(function(a,k){p(c.$9,{mutation:x,variables:{input:{cc_number_bin:d,credential_id:e,amount:f,item_type:g,cc_country_code:h,account_id:i,actor_id:e,is_request_from_whatsapp:j}},onCompleted:function(d){var e;c.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.JWT_CREATE_COMPLETE).log();c.$1=((e=d.jwt_query)==null?void 0:e.token)||"";c.$2=((e=d.jwt_query)==null?void 0:e.id)||"";e=((e=d.jwt_query)==null?void 0:e.status)||"";d=((d=d.jwt_query)==null?void 0:d.error_message)||"";if(e==="TEST_ONLY_MODE")a();else if(e==="SUCCESS")b("react-dom").render(o.jsx(b("FBPayments3DSDeviceDataCollectionComponent.react"),{logger:c.$7,jwt:c.$1,onDeviceDataComplete:function(){a()}}),b("DOM").create("div"));else{c.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.JWT_CREATE_ERROR).setError(d).log();e=b("FBPayments3DSErrorUtils").getError("JWT_CREATION_FAILED",d);k(e)}},onError:function(a){c.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.JWT_CREATE_ERROR).log();a=b("FBPayments3DSErrorUtils").getError("JWT_CREATION_FAILED",a.message);k(a)}})})};c.requires3DS2=function(){return this.$5};c.createLookupData=function(a){var b,c=a.lookupData.acquirer_merchant_info;c&&(c={merchant_name:c.merchantName,acquirer_mid:c.acquirerMid,acquirer_bin:c.acquirerBin});c={df_ref_id:this.$2||"",device_channel:"Browser",transaction_mode:"S",browser_info:{user_agent:window.navigator.userAgent,java_enabled:window.navigator.javaEnabled()?"true":"false",language:window.navigator.language,color_depth:screen.colorDepth.toString(),screen_height:window.innerHeight,screen_width:window.innerWidth,time_zone:new Date().getTimezoneOffset().toString()},email:a.lookupData.email,mobile_phone:a.lookupData.mobile_phone,billing_first_name:a.lookupData.billing_first_name,billing_middle_name:a.lookupData.billing_middle_name,billing_last_name:a.lookupData.billing_last_name,credit_card_address:a.lookupData.credit_card_address,acs_window_size:(b=a.lookupData.acs_window_size)!=null?b:s.LARGE,acquirer_merchant_info:c,fb_return_url:a.lookupData.customFBReturnURL,challenge_indicator:(b=a.lookupData.challenge_indicator)!=null?b:""};return c};c.getPaymentMethod=function(){var a={provider:"CREDIT_CARD",instrument_type:"CC"};return a};c.createCredentialID=function(a){a={fb_id:a,payment_method:this.getPaymentMethod()};return a};c.getAcquirerMerchantInfo=function(a){var c=this;switch(a.paymentType){case"NMOR_DONATION_P4P":case"NMOR_PPGF_DONATION":return new(b("Promise"))(function(d,e){var f=a.paymentInfo.receiverId||"",g=a.paymentInfo.orderId||"";b("promiseDone")(q(c.$9,y,{data:{credential_id:c.createCredentialID(a.credentialID),currency:a.currency,order_id:g,payment_type:a.paymentType,receiver_id:f}}),function(b){b=b.acquirer_merchant_info_query||{};var c=b.acquirer_mid;b=b.acquirer_bin;d({merchantName:a.paymentInfo.merchantName||"",acquirerMid:c||"",acquirerBin:b||""})},function(a){a=b("FBPayments3DSErrorUtils").getError("ACQUIRER_MERCHANT_INFO_FAILED",a.message);e(a)})});case"NMOR_EVENT_TICKETING":var d=this.getAcqurerInfoFromCardType(a.paymentInfo.acquirerMid||[],a.creditCardType,a.currency),e=this.getAcqurerInfoFromCardType(a.paymentInfo.acquirerBin||[],a.creditCardType,a.currency);d={merchantName:a.paymentInfo.merchantName||"",acquirerMid:d||"",acquirerBin:e||""};return b("Promise").resolve(d);default:return b("Promise").resolve(null)}};c.fetchAuthenticationURL=function(a){var c=this;this.$7.setGlobalFields({credential_id:a.credentialID});this.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.CMPI_REQUEST).log();return new(b("Promise"))(function(d,e){var f;p(c.$9,{mutation:z,variables:{input:{credential_id:c.createCredentialID(a.credentialID),amount:a.amount,item_type:a.itemType,lookup_data:c.createLookupData(a),account_id:a.paymentAccountID,processor:(f=a.processor)!=null?f:t.CARDINAL_3DS2,actor_id:a.credentialID,is_request_from_whatsapp:a.isRequestFromWhatsapp}},onCompleted:function(f){f=f.fetch_3rd_party_payment_auth||{};var g=f.status,h=f.row_id,i=f.step_up_url,j=f.step_up_jwt;f=f.payments_error;if(f!=null){c.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.CMPI_RESPONSE_ERROR).log();if(f.error_code==w.CARDINAL_INCORRECT_CARD_INFO){f=b("FBPayments3DSErrorUtils").getError("INCORRECT_CARD_INFO","Backend threw incorrect card info error");e(f)}else{f=b("FBPayments3DSErrorUtils").getError("CMPI_FAILED",g||"Empty status");e(f)}}else if(g==r.CHALLENGED){c.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.CMPI_RESPONSE_CHALLENGE).setResponseStatus(g).setRowID(h).log();c.$3=a.div==null?b("DOM").create("div"):a.div;b("react-dom").render(o.jsx(b("FBPayments3DSChallengeModalContainer.react"),{logger:c.$7,container:c.$3,stepUpURL:(f=i)!=null?f:"",params:[{key:"JWT",value:(i=j==null?void 0:j.token)!=null?i:""}],protocol:"POST",isLite:(f=a.isLite)!=null?f:!1,onChallengeComplete:function(){var f;c.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.CHALLENGE_SUCCESS).setExternalTransactionID(c.$4).setRowID(h).setCardinalPayload(c.$6).log();b("promiseDone")(c.processAfterCMPI((f=h)!=null?f:"",a.credentialID,a.itemType,(f=c.$4)!=null?f:"",a.paymentAccountID,a.isSavingCC,a.isRequestFromWhatsapp),function(a){d(a)},function(a){e(a)})},onChallengeFail:function(){e(b("FBPayments3DSErrorUtils").getError("USER_CANCELLED_MODAL","User clicked cancel button on the dialog box."))}}),c.$3)}else if(g==r.COMPLETED||g==r.ATTEMPT_COMPLETED||g==r.UNAVAILABLE||g==r.NOT_ENROLLED||g==r.BYPASS){c.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.CMPI_RESPONSE_SUCCESS).setResponseStatus(g).setRowID(h).log();b("promiseDone")(c.processAfterCMPI((j=h)!=null?j:"",a.credentialID,a.itemType,(i=c.$4)!=null?i:"",a.paymentAccountID,a.isSavingCC),function(a){d(a)},function(a){e(a)})}else{c.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.CMPI_RESPONSE_FAILED_STATUS).setResponseStatus(g).setRowID(h).log();f=b("FBPayments3DSErrorUtils").getError("AUTH_FAIL",g||"Empty status");e(f)}},onError:function(a){c.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.CMPI_RESPONSE_ERROR).log();a=b("FBPayments3DSErrorUtils").getError("CMPI_FAILED",a.message);e(a)}})})};c.getDeviceDataURLOrigin=function(){return u};c.getDeviceDataURL=function(){return u+v};c.challengeComplete=function(a,b){this.$3&&(this.$4=a,this.$6=b,this.$3.dispatchEvent(new Event(n)))};c.processAfterCMPI=function(a,c,d,e,f,g,h){var i=this;g===void 0&&(g=!1);h===void 0&&(h=null);return new(b("Promise"))(function(j,k){b("promiseDone")(g?i.complete3DSAndAuthorize(a,c,d,f):i.complete3DS(a,c,d,e,f,h),function(a){switch(a.status){case r.COMPLETED:case r.ATTEMPT_COMPLETED:case r.NOT_ENROLLED:case r.BYPASS:case r.UNAVAILABLE:j(a);break;case r.FAILED:case r.NOT_COMPLETED:case r.REJECTED:k(b("FBPayments3DSErrorUtils").getError("AUTH_FAIL",status));break;default:k(b("FBPayments3DSErrorUtils").getError(g?"COMPLETE_3DS_FAILED":"COMPLETE_3DS_AND_AUTH_FAILED",status))}},function(a){k(a)})})};c.complete3DS=function(a,c,d,e,f,g){var h=this;this.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.COMPLETE3DS_REQUEST).setRowID(a).setCardinalPayload(this.$6).setExternalTransactionID(this.$4).log();return new(b("Promise"))(function(i,j){p(h.$9,{mutation:C,variables:{input:{auth_row_id:a,credential_id:c,item_type:d,cardinal_txn_id:e,actor_id:c,account_id:f,is_request_from_whatsapp:g}},onCompleted:function(c){c=c.complete_3ds;c=h.$10(c);if(c!=null)h.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.COMPLETE3DS_SUCCESS).setResponseStatus(c.status).setRowID(c.rowID).setCardinalPayload(h.$6).setExternalTransactionID(h.$4).setVersionOf3ds(c.threeDSTransactionData.dsTransactionID).log(),i(c);else{h.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.COMPLETE3DS_ERROR).setRowID(a).setCardinalPayload(h.$6).setExternalTransactionID(h.$4).log();c=b("FBPayments3DSErrorUtils").getError("COMPLETE_3DS_FAILED","Values returned from GraphQL Query were invalid");j(c)}},onError:function(c){h.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.COMPLETE3DS_ERROR).setRowID(a).setCardinalPayload(h.$6).setExternalTransactionID(h.$4).log();c=b("FBPayments3DSErrorUtils").getError("COMPLETE_3DS_FAILED",c.message);j(c)}})})};c.complete3DSAndAuthorize=function(a,c,d,e){var f=this;this.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.COMPLETE3DSANDAUTH_REQUEST).setRowID(a).setCardinalPayload(this.$6).setExternalTransactionID(this.$4).log();return new(b("Promise"))(function(g,h){var i;p(f.$9,{mutation:B,variables:{input:{processor:"CARDINAL_3DS2",auth_row_id:a,credential_id:f.createCredentialID(c),item_type:d,account_id:e,actor_id:c,payload:(i=f.$6)!=null?i:"",transaction_id:f.$4}},onCompleted:function(c){c=c.complete3ds_and_authorize;c=f.$10(c);if(c!=null)f.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.COMPLETE3DSANDAUTH_SUCCESS).setResponseStatus(c.status).setRowID(c.rowID).setCardinalPayload(f.$6).setExternalTransactionID(f.$4).setVersionOf3ds(c.threeDSTransactionData.dsTransactionID).log(),g(c);else{f.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.COMPLETE3DS_ERROR).setRowID(a).setCardinalPayload(f.$6).setExternalTransactionID(f.$4).log();c=b("FBPayments3DSErrorUtils").getError("COMPLETE_3DS_AND_AUTH_FAILED","Values returned from GraphQL Query were invalid");h(c)}},onError:function(c){f.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.COMPLETE3DSANDAUTH_ERROR).setRowID(a).setCardinalPayload(f.$6).setExternalTransactionID(f.$4).log();c=b("FBPayments3DSErrorUtils").getError("COMPLETE_3DS_AND_AUTH_FAILED",c.message);h(c)}})})};c.$10=function(a){return a!=null&&a.three_d_secure_version!=null&&a.ds_transaction_id!=null&&a.cavv!=null&&a.eci_flag!=null&&a.auth_row_id!=null&&a.status!=null&&a.xid!=null&&a.cardinal_txn_id!=null?{status:a.status,rowID:a.auth_row_id,cardinalTransactionID:a.cardinal_txn_id,threeDSTransactionData:{threeDsSecureVersion:a.three_d_secure_version,cavv:a.cavv,eciFlag:a.eci_flag,xid:a.xid,dsTransactionID:a.ds_transaction_id}}:null};c.getCardPaymentMethodInfo=function(a){var c=this;this.initLogger(a.itemType,a.credentialId);this.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.GET_CARD_PAYMENT_INFO_REQUEST).log();return new(b("Promise"))(function(d,e){b("promiseDone")(q(c.$9,A,{input:{payment_method:c.getPaymentMethod(),cc_number_bin:a.ccNumberBin,credential_id:a.credentialId,cc_country_code:a.ccCountryCode,item_type:a.itemType,account_currency:a.accountCurrency}}),function(f){f=f.card_payment_method_info_query||{};var g=f.requires_3ds;f=f.mpi_processor;g==!0&&f==t.CARDINAL_3DS2?(c.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.GET_CARD_PAYMENT_INFO_RESPONSE_THREEDS_REQ).log(),c.setRequires3DS(!!g),b("promiseDone")(c.collectDeviceData({ccNumberBin:a.ccNumberBin,credentialID:a.credentialId,amount:{amount:"1",currency:a.accountCurrency},itemType:a.itemType,ccCountryCode:a.ccCountryCode,paymentAccountID:null}),function(){d()},function(a){e(a)})):c.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.GET_CARD_PAYMENT_INFO_RESPONSE_THREEDS_NOT_REQ).log();c.setRequires3DS(!!g);d()},function(a){c.$7.setFlowStep(b("FBPayments3DSLoggerConstants").LoggerEvent.GET_CARD_PAYMENT_INFO_ERROR).log();a=b("FBPayments3DSErrorUtils").getError("CARD_LOOKUP_FAILED",a.message);e(a)})})};c.getBinNumberFromCreditCard=function(a){if(a==null)return null;a=a.replace(/ /g,"");return a.length>=6?a.substr(0,6):null};c.getAcqurerInfoFromCardType=function(a,c,d){a=a.find(function(a){if(!(m||(m=b("isEmpty")))(a.currency))return a.currency===d&&a.cardType===c;else return a.cardType===c});return a==null?void 0:a.info};return a}();e.exports=new c()}),null);
__d("FBPaymentsAsyncCompleteCheckoutManager",["invariant","FBPaymentsCheckoutActions","FBPaymentsLoggerConstants","FBPaymentsModulesAPIShared","FBPaymentsModulesAPIUtils","FBPaymentsPerfLogger","FBPaymentsUniversalErrorUtils","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBPaymentsLoggerConstants").LoggerFlowStep,i=b("FBPaymentsLoggerConstants").LoggerEvent,j=1e4,k=3e3,l=12e4,m=b("keyMirror")({CHARGE:"",POLLING:"",PSI:"",SUBSCRIPTION:"",TIMEOUT:""});a=function(){function a(a,c,d){var e=this;this.$15=function(a){e.$11&&e.$11.setFlowStep(h.PAYMENT_FETCH_PSI).setEventName(i.SUCCESS).addToExtraData("payment_session_id",a).log(),b("FBPaymentsPerfLogger").logPaymentEvent(b("FBPaymentsLoggerConstants").PerformanceLogging.FETCH_PSI_END),b("FBPaymentsCheckoutActions").updatePaymentSessionID(a),e.$13=a,e.$12.payment_session_id=a,e.$17(e.$12)};this.$16=function(a){e.$11&&e.$11.setFlowStep(h.PAYMENT_FETCH_PSI).setEventName(i.FAIL).log(),b("FBPaymentsPerfLogger").logPaymentEvent(b("FBPaymentsLoggerConstants").PerformanceLogging.FETCH_PSI_END),e.$18(a,m.PSI)};this.$25=function(){e.$26(),e.$3=setInterval(e.$26,e.$6)};this.$26=function(a){a===void 0&&(a=h.PAYMENT_POLLING);e.$11&&e.$11.setFlowStep(a).setEventName(i.API_INIT).addToExtraData("payment_session_id",e.$13).log();e.$13||g(0,11227);a={paymentSessionID:e.$13,loggerFlowStep:a,loggingID:e.$11?e.$11.getSessionID():null};b("FBPaymentsModulesAPIShared").queryPaymentSessionCompleteCheckoutStatus(a,e.$27,e.$28)};this.$27=function(a,c){c===void 0&&(c=h.PAYMENT_POLLING);if(!a){e.$29(c,{message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()});return}var d=a.paymentStatus,f=a.paymentsError;!f&&d==="success"?(e.$30(c,d),e.$31(a,m.POLLING)):!f&&d==="in_progress"?e.$30(c,d):d==="failure"?(e.$30(c,d),e.$18(f,m.POLLING)):e.$29(c,{message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()},a)};this.$28=function(a,b){b===void 0&&(b=h.PAYMENT_POLLING),e.$29(b,a)};this.$23=function(a){if(!a){e.$29(h.PAYMENT_SUBSCRIPTION,{message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()});return}var c=a.paymentStatus,d=a.paymentsError;!d&&c==="success"?(e.$30(h.PAYMENT_SUBSCRIPTION,c),e.$31(a,m.SUBSCRIPTION)):c==="failure"?(e.$30(h.PAYMENT_SUBSCRIPTION,c),e.$18(d,m.SUBSCRIPTION)):e.$29(h.PAYMENT_SUBSCRIPTION,{message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()},a)};this.$20=function(a){e.$11&&e.$11.setFlowStep(h.PAYMENT_CHARGE).addToExtraData("payment_session_id",e.$13).addToExtraData("payment_status",a==null?void 0:a.paymentStatus).addToExtraData("async_meta_data",JSON.stringify(a==null?void 0:a.asyncMetadata));if(!a){e.$11&&e.$11.setEventName(i.FAIL).log();e.$18({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()},m.CHARGE);return}var c=a.asyncMetadata,d=a.paymentsError,f=a.paymentStatus;!d&&f==="success"?(e.$11&&e.$11.setEventName(i.SUCCESS).log(),e.$31(a,m.CHARGE)):!d&&f==="in_progress"?(e.$11&&e.$11.setEventName(i.SUCCESS).log(),e.$1||(e.$14(c),e.$2=setTimeout(e.$25,e.$5),e.$4=setTimeout(e.$32,e.$7))):f==="failure"?(e.$11&&e.$11.setEventName(i.SUCCESS).log(),e.$18(d,m.CHARGE)):(e.$11&&e.$11.setEventName(i.FAIL).log(),e.$18({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()},m.CHARGE))};this.$21=function(a){e.$11&&e.$11.setFlowStep(h.PAYMENT_CHARGE).setEventName(i.FAIL).addToExtraData("payment_session_id",e.$13).log(),e.$18(a,m.CHARGE)};this.$32=function(){e.$18({message:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()},m.TIMEOUT)};this.$14();this.$9=a;this.$10=c;this.$11=d}var c=a.prototype;c.makeAsyncPayment=function(a,c){this.$1=!1;if(!a.payment_session_id&&!this.$13){this.$12=a;var d=this.$11&&this.$11.getSessionID();this.$11&&this.$11.setFlowStep(h.PAYMENT_FETCH_PSI).setEventName(i.API_INIT).log();b("FBPaymentsPerfLogger").logPaymentEvent(b("FBPaymentsLoggerConstants").PerformanceLogging.FETCH_PSI_START);b("FBPaymentsModulesAPIShared").createPaymentSessionRelayGraphQL({paymentType:c==null?void 0:c.paymentItemType,receiverId:c==null?void 0:c.receiverId,sessionId:d},this.$15,this.$16)}else this.$13||(this.$13=a.payment_session_id),a.payment_session_id||(a.payment_session_id=this.$13),this.$17(a)};c.$17=function(a){this.$19(),this.$11&&this.$11.setFlowStep(h.PAYMENT_CHARGE).setEventName(i.API_INIT).addToExtraData("payment_session_id",a.payment_session_id).log(),b("FBPaymentsModulesAPIShared").createAsyncCheckoutRelayGraphQL(a,this.$20,this.$21)};c.$14=function(a){this.$5=(a==null?void 0:a.pollTimeMs)||j,this.$6=(a==null?void 0:a.pollTimeRetryMs)||k,this.$7=(a==null?void 0:a.timeoutMs)||l};c.$19=function(){this.$22(!1),this.$11&&this.$11.setFlowStep(h.PAYMENT_SUBSCRIPTION).setEventName(i.API_INIT).addToExtraData("payment_session_id",this.$13).log(),this.$13!=null||g(0,11227),this.$8=b("FBPaymentsModulesAPIShared").createPaymentSessionCompleteCheckoutStatusSubscription(this.$13,this.$23)};c.$22=function(a){a===void 0&&(a=!0),a&&(this.$11&&this.$11.setFlowStep(h.PAYMENT_SUBSCRIPTION).setEventName(i.CANCEL).addToExtraData("payment_session_id",this.$13).log()),this.$8&&this.$8.dispose(),this.$8=null};c.$24=function(){this.$4!==null&&(clearTimeout(this.$4),this.$4=null),this.$3!==null&&(clearInterval(this.$3),this.$3=null),this.$2!==null&&(clearTimeout(this.$2),this.$2=null)};c.$29=function(a,c,d){if(this.$11){d&&this.$11.addToExtraData("consumer_payment_session_status",JSON.stringify(d));d=b("FBPaymentsUniversalErrorUtils").getErrorCode(c);var e=b("FBPaymentsUniversalErrorUtils").getUserFacingErrorMessage(c);c=b("FBPaymentsUniversalErrorUtils").getServerErrorMessage(c);this.$11&&this.$11.setFlowStep(a).setEventName(i.FAIL).setUserFacingMessage(e).setErrorMessage(c).setUserFacingErrorCode(d).setErrorCode(d).addToExtraData("payment_session_id",this.$13).log()}};c.$30=function(a,b){this.$11&&this.$11.setFlowStep(a).setEventName(i.SUCCESS).addToExtraData("payment_session_id",this.$13).addToExtraData("payment_status",b).log()};c.$18=function(a,b){this.$1||(this.$1=!0,this.$22(),this.$24(),this.$10(a,{async:"true",async_checkout_end_stage:b,payment_session_id:this.$13||""}))};c.$31=function(a,b){this.$1||(this.$1=!0,this.$22(),this.$24(),this.$9(a,{async:"true",async_checkout_end_stage:b}))};return a}();e.exports=a}),null);
__d("FBPaymentsAsyncCompleteCheckoutUtils",[],(function(a,b,c,d,e,f){"use strict";a={isAsyncPaymentType:function(a){return["nmor_checkout_experiences","nmor_donation_p4c","nmor_donation_p4p","nmor_marketplace_ticketing","mor_donations","nmor_ppgf_donation","mor_donations_matching_confirmation","mor_donations_matching_pledge","nmor_blackbaud_rwr_donation","mor_game_tipping_token","mor_sotto","mor_open_graph_product","mor_group_subscription","mor_fan_funding","mor_instant_games","mor_oculus_cv1"].includes(a)},isAsyncPayment:function(a){return this.isAsyncPaymentType(a)}};e.exports=a}),null);
__d("FBPaymentsCustomOptionsActions",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConstants","FBPaymentsDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("FBPaymentsCheckoutConstants").Extensions;var g={EXTENSION_NAME:a.CUSTOM_OPTIONS,types:b("keyMirror")({ADD_CUSTOM_OPTION_CLICK:null,CUSTOM_OPTION_SELECTED:null,NEW_CUSTOM_OPTION_FORM_DATA_CHANGE:null,SAVE_NEW_CUSTOM_OPTION:null}),customOptionSelected:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.CUSTOM_OPTION_SELECTED,updateData:a})},addCustomOptionClick:function(){b("FBPaymentsDispatcher").dispatch({type:g.types.ADD_CUSTOM_OPTION_CLICK,data:{}})},newCustomOptionFormDataChange:function(a){b("FBPaymentsDispatcher").dispatch({type:g.types.NEW_CUSTOM_OPTION_FORM_DATA_CHANGE,data:a})},saveNewCustomOption:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.SAVE_NEW_CUSTOM_OPTION,updateData:a})}};e.exports=g}),null);
__d("FBPaymentsCheckoutHelper",["Promise","FBPaymentsCheckoutConstants","gkx","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsCheckoutConstants").Extensions,h=b("FBPaymentsCheckoutConstants").RestoreKey,i=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LU","MT","NL","PL","PT","SK","RO","SI","ES","SE","GB","LT","IS","LI","NO"];a={prepareExtensionDataPromise:function(a){var c=new(b("Promise"))(function(c,d){var e=[],f=[];a.forEach(function(a,b){if(a){a=a();a&&(e.push(a),f.push(b))}});b("promiseDone")(b("Promise").all(e),function(a){var b=new Map();f.forEach(function(c,e){e=a[e];if(e&&e.success)b.set(c,e.data);else{e=(e=e)!=null?e.error:e;var f;e&&e.errorCode&&(f={userFacingError:e});d({message:c+" data preparation failed",error:f})}});c(b)})});return c},buildCheckoutRestoreData:function(a,b){var c=babelHelpers["extends"]({},a);b.forEach(function(a,b){var d={};switch(b){case g.CONTACT_INFO:d=(b={},b[h.CONTACT_INFO_EMAIL_ID]=a.emailID,b[h.CONTACT_INFO_PHONE_NUMBER_ID]=a.phoneNumberID,b);break}c=babelHelpers["extends"]({},c,d)});return c},shouldCollectFraudnetFeatures:function(a){return(a==null?void 0:a.onboardedManagedMerchantPlatform)==="paypal"},shouldUse3DS2Flow:function(a,c){switch(a){case"mor_donations":case"mor_sotto":case"mor_fan_funding":case"mor_group_subscription":case"mor_game_tipping_token":case"nmor_event_ticketing":case"mor_instant_games":return!0;case"mor_open_graph_product":return b("gkx")("1102035");case"mor_facebook_shop":return b("gkx")("1091482");case"nmor_donation_p4p":return i.includes(c)?b("gkx")("1103411"):!1;case"nmor_ppgf_donation":return b("gkx")("1103412");case"nmor_checkout_experiences":return b("gkx")("1105320");default:return!1}}};e.exports=a}),null);
__d("FBPaymentsCheckoutStep",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({ADDRESS_COLLECT:null,CONFIRMATION:null,INCOMPLETE:null,INITIALIZING:null,NUX:null,PAYMENT_PROCESSING:null,PAYMENT_PROCESSING_EXTENDED:null,PIN:null,PIN_BACKLOADED:null,PSD_AGREEMENT_NUX:null,READY_TO_PAY:null,VERIFICATION:null});e.exports=a}),null);
__d("FBPaymentsInvoiceFetchStatus.graphql",["RelayModern","FBPaymentsInvoiceFetchStatusGraphqlQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;a=g!==void 0?g:g=b("FBPaymentsInvoiceFetchStatusGraphqlQuery.graphql");e.exports=a}),null);
__d("FBPaymentsLoggerBase",["abstractMethod","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$2={event_type:"client"},this.$3={},this.$4={},this.$1=this.__getLoggerInstance()}var c=a.prototype;c.log=function(){this.updateData(this.$2),this.updateExtraData(this.$3),this.setClientTime(Math.floor(Date.now()).toString()),this.$1.setPaymodExtraData(JSON.stringify(this.$4)),this.$1.log(),this.clearPaymodExtraData(),this.$1.clear()};c.logVital=function(){this.updateData(this.$2),this.updateExtraData(this.$3),this.setClientTime(Math.floor(Date.now()).toString()),this.$1.setPaymodExtraData(JSON.stringify(this.$4)),this.$1.logVital(),this.clearPaymodExtraData(),this.$1.clear()};c.updateData=function(a){this.$1.updateData(a);return this};c.updateExtraData=function(a){this.$4=babelHelpers["extends"]({},this.$4,a);return this};c.setGlobalFields=function(a){this.$2=babelHelpers["extends"]({},this.$2,a);return this};c.clearGlobalFields=function(){this.$2={event_type:"client"};return this};c.clearPaymodExtraData=function(){this.$4={};return this};c.setGlobalExtraData=function(a){this.clearGlobalExtraData();Object.keys(a).forEach(function(b){this.$3[b]=a[b]},this);return this};c.clearGlobalExtraData=function(){this.$3={};return this};c.setClientTime=function(a){this.$1.setClientTime(a);return this};c.setContainerModule=function(a){this.$1.setContainermodule(a);return this};c.setContextID=function(a){this.$1.setContextID(a);return this};c.setCurrency=function(a){this.$1.setCurrency(a);return this};c.setErrorCategory=function(a){this.$1.setErrorCategory(a);return this};c.setErrorCode=function(a){this.$1.setErrorCode(String(a));return this};c.setErrorMessage=function(a){this.$1.setErrorMessage(a);return this};c.setErrorStacktrace=function(a){this.$1.setErrorStacktrace(a);return this};c.setErrorOrigin=function(a){this.$1.setErrorOrigin(a);return this};c.setEventName=function(a){this.$1.setEventName(a);return this};c.setEventType=function(a){this.$1.setEventType(a);return this};c.setExceptionClass=function(a){this.$1.setExceptionClass(a);return this};c.setFlowName=function(a){this.$1.setFlowName(a);return this};c.setFlowStep=function(a){this.$1.setFlowStep(a);return this};c.setMailingAddressID=function(a){this.$1.setMailingAddressID(a);return this};c.setOrderID=function(a){this.$1.setOrderID(a);return this};c.setOtherProfileID=function(a){this.$1.setOtherProfileID(a);return this};c.setPaymentAccountID=function(a){this.$1.setPaymentAccountID(a);return this};c.setPaymentID=function(a){this.$1.setPaymentID(a);return this};c.setPaymentMethodID=function(a){this.$1.setPaymentMethodID(a);return this};c.setPaymentMethodType=function(a){this.$1.setPaymentMethodType(a);return this};c.setProduct=function(a){this.$1.setProduct(a);return this};c.setProvider=function(a){this.$1.setProvider(a);return this};c.setRawAmount=function(a){this.$1.setRawAmount(a);return this};c.setRedirectURL=function(a){this.$1.setRedirectURL(a);return this};c.setRequestID=function(a){this.$1.setRequestID(a);return this};c.setSessionID=function(a){this.$1.setSessionID(a);return this};c.getSessionID=function(){var a;return(a=this.$2)!=null?a.session_id:a};c.setShippingOptionID=function(a){this.$1.setShippingOptionID(a);return this};c.setUserFacingErrorCode=function(a){this.$1.setUserFacingErrorCode(String(a));return this};c.setUserFacingMessage=function(a){this.$1.setUserFacingMessage(a);return this};c.addToExtraData=function(a,b){var c;this.updateExtraData((c={},c[a]=b,c));return this};c.__getLoggerInstance=function(){return b("abstractMethod")("FBPaymentsLoggerBase","__getLoggerInstance")};return a}();a.LOGGER_FIELD_NAMES=b("keyMirror")({ad_account_id:!0,client_time:!0,containermodule:!0,context_id:!0,currency:!0,error_category:!0,error_code:!0,error_message:!0,error_origin:!0,error_stacktrace:!0,event_name:!0,event_type:!0,exception_class:!0,fbpay_enabled:!0,flow_name:!0,flow_step:!0,incoming_params:!0,is_free:!0,is_test_payment:!0,logging_service_id:!0,mailing_address_id:!0,order_id:!0,other_profile_id:!0,payment_account_id:!0,payment_id:!0,payment_method_id:!0,payment_method_type:!0,paymod_extra_data:!0,product:!0,provider:!0,raw_amount:!0,redirect_url:!0,request_id:!0,session_id:!0,shipping_option_id:!0,user_facing_error_code:!0,user_facing_message:!0});e.exports=a}),null);
__d("FBPaymentsVerificationConstants",["keyMirror"],(function(a,b,c,d,e,f){"use strict";c={ACTIONS:(a=b("keyMirror"))({SET_DATE_OF_BIRTH_DAY:"",SET_DATE_OF_BIRTH_MONTH:"",SET_DATE_OF_BIRTH_YEAR:"",SET_DATE_OF_BIRTH:"",SET_FULL_NAME:"",SET_ADDRESS_STREET1:"",SET_ADDRESS_STREET2:"",SET_ADDRESS_CITY:"",SET_ADDRESS_STATE:"",SET_ADDRESS_ZIP:"",SET_ADDRESS_COUNTRY:"",SET_ADDRESS:"",SET_SSN_FULL:"",SET_SSN_LAST_4:"",SET_NATIONAL_ID:"",SET_IDENTITY_DOCUMENT:"",SET_CREDIT_CARD_CVV:""}),STORE_KEYS:a({DATE_OF_BIRTH_DAY:"",DATE_OF_BIRTH_MONTH:"",DATE_OF_BIRTH_YEAR:"",FIRST_NAME:"",LAST_NAME:"",ADDRESS_STREET1:"",ADDRESS_STREET2:"",ADDRESS_CITY:"",ADDRESS_STATE:"",ADDRESS_ZIP:"",ADDRESS_COUNTRY:"",SSN_LAST_4:"",NATIONAL_ID:"",IDENTITY_DOCUMENT:"",CREDIT_CARD_CVV:""}),PREFILL_MANAGER_KEYS:a({FULL_NAME:"",DATE_OF_BIRTH:"",ADDRESS:""}),VERIFICATION_FLOW_RESULT:a({INCOMPLETE:"",PASSED:"",PENDING_REVIEW:""})};e.exports=c}),null);
__d("PayTransactionStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INITED:0,PENDING:1,COMPLETED:2,CANCELED:3,REFUNDED:4,PARTIAL_REFUND:5,CHARGED_BACK:6,EXPIRED:7,DECLINED:8})}),null);
__d("FBPaymentsCheckoutV2FlowContainerBase.react",["errorDesc","invariant","AllPaymentTypeFields","CommerceOnsiteEvent","DateConsts","FBLogger","FBPayCheckoutWebFunnelLoggingUtils","FBPayGatingUtils","FBPayments3DS","FBPaymentsAsyncCompleteCheckoutManager","FBPaymentsAsyncCompleteCheckoutUtils","FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConfigurationTypes","FBPaymentsCheckoutConstants","FBPaymentsCheckoutContext","FBPaymentsCheckoutHelper","FBPaymentsCheckoutInfoParser","FBPaymentsCheckoutLoggerStore","FBPaymentsCheckoutStep","FBPaymentsCheckoutStrings","FBPaymentsContentConfigurationParser","FBPaymentsCountryCodes","FBPaymentsDispatcher","FBPaymentsFreeTrialExtensionUtil","FBPaymentsInvoiceFetchStatus.graphql","FBPaymentsLinkHelper","FBPaymentsLoggerBase","FBPaymentsLoggerConstants","FBPaymentsModulesAPIShared","FBPaymentsModulesAPIUtils","FBPaymentsModulesErrorConstants","FBPaymentsModulesFlowType","FBPaymentsNewPaymentOptionTypes","FBPaymentsPaymentMethodTypes","FBPaymentsPerfLogger","FBPaymentsPINConstants","FBPaymentsPriceListHelper","FBPaymentsStringHelper","FBPaymentsUniversalErrorUtils","FBPaymentsVerificationConstants","FBPaymentsVerificationFlowHelper","FBPayPINUtils","FBPayStrings","PaymentMethodUtils","PayPalFraudNetNew","PayPalFraudNetUrl","PECurrency","React","RelayAPIConfig","RelayFBEnvironment","RelayHooks","XCommerceOnsiteEventRouter","abstractMethod","enumUtils","getOwnObjectValues","gkx","immutable","keyMirror","promiseDone","prop-types","uuid","PayTransactionStatus"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("FBPayCheckoutWebFunnelLoggingUtils").webFunnelLogFBPayCheckout,j=b("FBPayGatingUtils").shouldShowResearchSurvey,k=b("FBPaymentsPINConstants").PIN_FLOW_STEPS,l=b("PECurrency").formatAmountX,m=b("React"),n=b("RelayHooks").fetchQuery,o=b("DateConsts").MS_PER_SEC;a=b("FBPaymentsCheckoutConfigurationTypes").CheckoutConfigurationPropTypes;var p=(c=b("FBPaymentsCheckoutConstants")).CollectedDataKey,q=c.Extensions,r=c.OrderStatusModelType,s=c.PaymentAction,t=c.PaymentCallbackUpdateState,u=b("FBPaymentsCheckoutStep");b("immutable").List;var v=b("immutable").Set,w=b("FBPaymentsLoggerConstants").LoggerFlowType,x=b("FBPaymentsLoggerConstants").LoggerFlowStep,y=b("FBPaymentsLoggerConstants").LoggerEvent,z=b("FBPaymentsLoggerBase").LOGGER_FIELD_NAMES,A=b("FBPaymentsVerificationConstants").VERIFICATION_FLOW_RESULT,B=b("FBPaymentsModulesErrorConstants").PaymentModulesErrorCode,C=c.RestoreKey,D=b("FBPaymentsPINConstants").RETURNED_FROM_PAYPAL,E=b("FBPaymentsPINConstants").VERIFIED_PAYPAL_STEP,F=b("keyMirror")(b("PayTransactionStatus"));d=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d,e;e=a.call(this,c)||this;e.$20=function(a){e.$1.setFlowStep(x.CHECKOUT_TERMS_FETCH).setEventName(y.SUCCESS).log(),b("FBPaymentsCheckoutActions").termsAndPoliciesLoaded(a)};e.$21=function(a){var c=b("FBPaymentsUniversalErrorUtils").getErrorCode(a);e.$1.setFlowStep(x.CHECKOUT_TERMS_FETCH).setEventName(y.FAIL).setUserFacingMessage(a.message).setUserFacingErrorCode(c).setErrorMessage(a.serverErrorMessage).setErrorCode(c).setExceptionClass(a.exceptionClass).log();b("FBPaymentsCheckoutActions").termsAndPoliciesLoadError()};e.$23=function(a){e.$1.setFlowStep(x.UPDATE_CHECKOUT_API).setEventName(y.SUCCESS).log();var c=e.getCheckoutConfiguration().version;c=b("FBPaymentsContentConfigurationParser").parse(c,a,!0);e.state.step!==u.CONFIRMATION&&b("FBPaymentsCheckoutActions").updateContentConfiguration(c)};e.$26=function(a){b("FBPaymentsCheckoutActions").updateCheckoutInfoGraphQLResponse(a);e.$1.setFlowStep(x.CHECKOUT_INFORMATION).setEventName(y.SUCCESS).log();e.$10("checkout_load_success");a=b("FBPaymentsCheckoutInfoParser").parse(a,e.getCheckoutConfiguration().contentConfiguration,e.getPaymentType());e.state.step!==u.CONFIRMATION&&b("FBPaymentsCheckoutActions").updateCheckoutInfo(a)};e.$24=function(a){e.$1.setFlowStep(x.UPDATE_CHECKOUT_API).setEventName(y.FAIL).setUserFacingMessage(a.message).setErrorMessage(a.serverErrorMessage).setExceptionClass(a.exceptionClass).log(),b("FBPaymentsCheckoutActions").updateCheckoutLoadError(a)};e.$27=function(a){var c=b("FBPaymentsUniversalErrorUtils").getErrorCode(a),d=b("FBPaymentsUniversalErrorUtils").getUserFacingErrorMessage(a),f=b("FBPaymentsUniversalErrorUtils").getServerErrorMessage(a);i("checkout_loading_fail_display",e.state.funnelLoggingSessionID);e.$10("checkout_load_failure");e.$1.setFlowStep(x.CHECKOUT_INFORMATION).setEventName(y.FAIL).setUserFacingMessage(d).setErrorMessage(f).setUserFacingErrorCode(c).setErrorCode(c).log();b("FBPaymentsCheckoutActions").updateCheckoutLoadError(a)};e.$30=function(a){switch(a.state){case t.LOADING:b("FBPaymentsCheckoutActions").paymentProcessingCallbackLoading({paymentProcessingMessage:a.loadingMessage||""});break;case t.DONE:e.$1.setFlowStep(x.PAYMENT).setEventName(y.SUCCESS).logVital();e.$19();b("FBPaymentsCheckoutActions").paymentProcessingCallbackDone({confirmationConfiguration:a.confirmationConfiguration});break;case t.ERROR:e.$1.setFlowStep(x.PAYMENT).setEventName(y.FAIL).setErrorMessage(a.errorMessage).log();e.$10("checkout_flow_failed");e.$19();b("FBPaymentsCheckoutActions").paymentProcessingCallbackError({global:a.errorMessage||b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage(),additional:a.additionalErrors});break;default:throw Error("Invalid payment callback state: "+a.state)}};e.__handleDialogClose=function(){if(e.state.step===u.CONFIRMATION){e.$33(!1);return}var a=e.__isExitCheckoutConfirmDialogEnabled();if(a){b("FBPaymentsCheckoutActions").showExitCheckoutConfirmDialog({showDialog:!0});return}b("FBPaymentsCheckoutActions").toggleIsCheckoutDialogShown(!1);e.$34()};e.$34=function(){var a;e.$1.setFlowStep(x.CHECKOUT_MODULE).setEventName(y.CANCEL).logVital();e.$10("checkout_flow_canceled");a=(a=e.getContentConfiguration())!=null?a.checkoutClosedCallback:a;a&&a();a=e.props.onCheckoutClosed;a&&a()};e.$36=function(a){e.setState({confirmationExtensions:a})};e.$41=function(a){e.setState({paymentsPIN:a}),e.$42()};e.$44=function(){i("pay_button_click",e.state.funnelLoggingSessionID),e.$42()};e.$49=function(){e.$1.setFlowStep(x.VERIFICATION).setEventName(y.BACK_CLICK).setUserFacingMessage(e.state.errors.global).addToExtraData("incomplete_idv_to_checkout","true").log(),i("verification_incomplete",e.state.funnelLoggingSessionID),b("FBPaymentsCheckoutActions").exitIncompleteVerificationFlow(),e.__scrollToTop()};e.$55=function(a){switch(a){case A.PASSED:e.$50();return;case A.PENDING_REVIEW:e.$54();return;default:e.$1.setFlowStep(x.VERIFICATION).setEventName(y.BACK_CLICK).setErrorMessage("Unsupported verification flow result: "+String(a)).log(),b("FBLogger")("purchase_experience").warn("Unsupported verification flow result: %s",a)}};e.$59=function(){i("checkout_exit_dialog_exit_click",e.state.funnelLoggingSessionID),b("FBPaymentsCheckoutActions").showExitCheckoutConfirmDialog({showDialog:!1}),b("FBPaymentsCheckoutActions").toggleIsCheckoutDialogShown(!1),e.$1.setFlowStep(x.CHECKOUT_EXIT_DIALOG).setEventName(y.CLICK).addToExtraData("button_name","exit").addToExtraData("is_payment_processing",e.getIsPaymentProcessing().toString()).logVital(),e.__shouldUseBackButtonOnConfirmedExit()?e.$31():e.$34()};e.$60=function(){i("checkout_exit_dialog_cancel_click",e.state.funnelLoggingSessionID),b("FBPaymentsCheckoutActions").showExitCheckoutConfirmDialog({showDialog:!1}),e.$1.setFlowStep(x.CHECKOUT_EXIT_DIALOG).setEventName(y.CLICK).addToExtraData("button_name","cancel").addToExtraData("is_payment_processing",e.getIsPaymentProcessing().toString()).logVital()};e.$61=function(){b("FBPaymentsCheckoutActions").showDonationLargeAmountConfirmDialog({showDialog:!1}),e.$1.setFlowStep(x.CHECKOUT_DONATION_LARGE_AMOUNT_DIALOG).setEventName(y.CLICK).addToExtraData("button_name","donate").logVital(),b("FBPaymentsCheckoutActions").payButtonClick(!1)};e.$62=function(){b("FBPaymentsCheckoutActions").showDonationLargeAmountConfirmDialog({showDialog:!1}),e.$1.setFlowStep(x.CHECKOUT_DONATION_LARGE_AMOUNT_DIALOG).setEventName(y.CLICK).addToExtraData("button_name","cancel").logVital()};e.$14=function(){var a,c;a=(a=e.state.cachedRequestData)==null?void 0:a.extra_data;c=(c=e.state.cachedRequestData)==null?void 0:c.mailing_address_id;b("FBPaymentsModulesAPIShared").confirmRazorPayPayment({payment_type:e.getPaymentType(),payment_session_id:e.state.paymentSessionID||"",context_id:b("FBPaymentsLinkHelper").getCurrentURIContextID(),product_id:e.getPaymentInfo().orderId,extra_data:a,address_id:c},e.$52,e.$53)};e.$68=function(a){b("FBPaymentsModulesAPIShared").confirmAltPayPayment({payment_type:e.getPaymentType(),payment_session_id:e.state.paymentSessionID||""},a,e.$52,e.$53)};e.$52=function(a,c){e.$67(!0);c&&Object.entries(c).forEach(function(a){var b=a[0];a=a[1];e.$1.addToExtraData(b,a)});e.$1.setFlowStep(x.PAYMENT).setEventName(y.SUCCESS).setPaymentID(a.id).logVital();b("FBPaymentsPerfLogger").logPaymentSuccess(e.getPaymentType());e.$10("checkout_succeeded");e.$19();c=e.props.onCheckoutSuccessCallback;if(c){var d=e.getSelectedPaymentMethod();c(d,a,e.$69.bind(babelHelpers.assertThisInitialized(e),a),e.$51)}else e.$69(a)};e.$53=function(a,c){e.$67(!1);e.__closeRazorPayPopup();c&&Object.entries(c).forEach(function(a){var b=a[0];a=a[1];e.$1.addToExtraData(b,a)});c=b("FBPaymentsUniversalErrorUtils").getErrorCode(a);var d=b("FBPaymentsUniversalErrorUtils").getUserFacingErrorMessage(a),f=b("FBPaymentsUniversalErrorUtils").getServerErrorMessage(a);switch(c){case B.IDV_REQUIRED:e.$1.setFlowStep(x.PAYMENT).setEventName(y.FAIL).setUserFacingMessage(d).setErrorMessage(f).setUserFacingErrorCode(c).setErrorCode(c).addToExtraData("idv_status","required").log();b("FBPaymentsCheckoutActions").enterVerificationFlow({userFacingMessage:d});return;case B.ALT_PAY_FLOW_CANCELLED:e.$1.setFlowStep(x.PAYMENT).setEventName(y.CANCEL).setUserFacingMessage(d).setErrorMessage(f).setUserFacingErrorCode(c).setErrorCode(c).addToExtraData("alt_pay_cancelled","true").log();b("FBPaymentsPerfLogger").logPaymentFail(e.getPaymentType());b("FBPaymentsCheckoutActions").altPayFlowCancelled(a);break;case B.IDV_PENDING_MANUAL_REVIEW:e.$1.setFlowStep(x.PAYMENT).setEventName(y.FAIL).setUserFacingMessage(d).setErrorMessage(f).setUserFacingErrorCode(c).setErrorCode(c).addToExtraData("idv_status","pending_manual_review").log();b("FBPaymentsCheckoutActions").paymentProcessingError({global:d||b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()});e.__scrollToTop();return}e.$1.setFlowStep(x.PAYMENT).setEventName(y.FAIL).setUserFacingMessage(d).setErrorMessage(f).setUserFacingErrorCode(c).setErrorCode(c).log();b("FBPaymentsPerfLogger").logPaymentFail(e.getPaymentType());e.$19();f=a&&a.errorCode?{userFacingError:a}:{global:d||b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()};b("FBPaymentsCheckoutActions").paymentProcessingError(f);e.__scrollToTop()};e.$11=function(a,b){var c,d,f,g;a=a.transactionOrderDetails;a!=null||h(0,14199);c=(c=a==null?void 0:a.paymentID)!=null?c:"";d=(d=a==null?void 0:a.id)!=null?d:"";f=(f=a==null?void 0:a.receiptUrl)!=null?f:"";g=(g=a==null?void 0:(g=a.confirmationMessage)==null?void 0:g.text)!=null?g:"";e.$10("checkout_flow_failed",d);f={id:c,extra_data:{order_id:d,receipt_url:f,message_with_email:g,subscription_agreement:a.subscriptionAgreement}};g=(g=a)!=null?g.altpayRedirectURL:g;a=(a=a)!=null?a.razorpayRedirectURL:a;if(g){g={initURL:g,paymentID:c,onCancel:e.$68,onSuccess:e.$68,orderID:d};e.__connectAltPay(g)}else if(a){c=e.state.checkoutRestoreData;d={initURL:a,checkoutRestoreData:c,logger:e.$1,paymentType:e.getPaymentInfo().paymentItemType,onCancel:e.$14,onError:e.$14,onSuccess:e.$14};e.__connectRazorPay(d)}else e.$52(f,b)};e.$12=function(a,b){e.$53(a,b),e.$10("checkout_flow_failed")};e.$71=function(a){var b;b=(b=e.getContentConfiguration())!=null?b.dialogWidth:b;(e.state.activeExtension!==null||e.state.activeExtensionForVerification!==null)&&(b=a||b);if(b===e.state.dialogWidth)return;e.setState({dialogWidth:b})};b("FBPaymentsPerfLogger").logCheckoutFlowAppear(e.getPaymentType());e.validateProps(c);var f=e.$6(),g=e.$7();i("checkout_init",f,g);e.initializeLogging(c,f);b("FBPaymentsDispatcher").explicitlyRegisterStores(e.constructor.getStores());e.isGuestCheckout()&&e.props.guestActorID&&b("RelayAPIConfig").DO_NOT_USE_setActorID(e.props.guestActorID);g=c.configuration.contentConfiguration;e.state={activeExtension:null,activeExtensionForVerification:null,anyOngoingAPICall:!1,areAllExtensionsReady:!1,buttonPrice:null,cachedRequestData:{},checkoutRestoreData:{},confirmationExtensions:new Map(),contactInfoData:null,contentConfiguration:g,dialogWidth:c.dialogWidth||((d=g)!=null?d.dialogWidth:d),errors:{},extensionDataMap:b("immutable").Map(),extensionDataPreparerMap:b("immutable").Map(),extensionFlagsMap:b("immutable").OrderedMap(),extensionsToTriggerUpdateCheckout:v(),extensionUserFacingErrorMap:b("immutable").Map(),finalPriceList:[],freeTrialData:null,frequencySelectorData:null,funnelLoggingSessionID:f,hasInitializationError:!1,isCheckoutDialogShown:!0,isInitialized:!1,isUpdatingCheckout:!1,paymentMethodData:null,paymentsPIN:"",paymentProcessingMessage:"",paymentSessionID:null,priceSelectorData:null,receiverInfo:null,ResearchSurvey:null,shouldEnablePaypal:!1,showContactSupportFlow:!1,showExitCheckoutConfirmDialog:!1,showDonationLargeAmountConfirmDialog:!1,showUpfrontAddressCollection:!1,showVerificationFlow:!1,step:u.INCOMPLETE,termsAndPolicies:null,updateCheckoutLoadError:null,cardinal3DSProcessorData:null,altPayCancelledError:null,banner:null,isSecondaryPaymentMethodChecked:!1,paymentSecurity:null,redirectFromPaypalURL:null};b("FBPaymentsCheckoutActions").initializeCheckout({contentConfiguration:g,disableUpfrontAddressCollect:!!c.disableUpfrontAddressCollect,enableCheckoutNUX:e.isCheckoutNUXEnabled(),enablePSDAgreementNUX:e.isPaymentsPSDAgreementEnabled(),logger:e.$1,receiverCountry:(d=e.getPaymentInfo())==null?void 0:(f=d.extraData)==null?void 0:f.receiverCountry,shouldLoadContentConfiguration:!e.getIsUsingUpdateCheckoutAPI()&&!e.getIsUsingUpdateCheckoutInfoAPI(),paymentType:e.getPaymentType()});e.__completePaymentOnPaymentProcessing=!1;e.__restorePaymentFromRazorPayRedirect=!1;e.$2=!1;return e}var d=c.prototype;d.validateProps=function(a){a=a.configuration;var b=a.orderStatusModel.type;switch(b){case r.FIXED_AMOUNT:!a.contentConfiguration&&h(0,319,b);break;case r.UPDATE_CHECKOUT_API:case r.CHECKOUT_INFORMATION:break;default:h(0,320,b)}};d.initializeLogging=function(a,c){var d,e,f;switch(a.paymentModuleFlowType){case b("FBPaymentsModulesFlowType").INVOICE:e=w.INVOICE;f=x.INVOICE;break;default:e=w.CHECKOUT;f=x.CHECKOUT_MODULE;break}var g=this.__getLogger();this.$1=new g();g=a.configuration.paymentInfo;var h=g.orderId,i=g.receiverId,j=g.paymentItemType,k=g.isFreePurchase;g=g.extraData;this.$1.setGlobalFields((d={},d[z.session_id]=c,d[z.product]=j,d[z.order_id]=h,d[z.other_profile_id]=i,d[z.flow_name]=e,d[z.is_free]=k,d));c=b("gkx")("676854");h=b("gkx")("684838");g=babelHelpers["extends"]({},g,a.extraDataForLogging,a.checkoutExtraProps,(d={non_compliant_browser:c?"1":"",user_facing_error:h?"1":"",use_checkout_info:this.getIsUsingUpdateCheckoutInfoAPI()?"1":"",use_3ds2_flow:b("FBPaymentsCheckoutHelper").shouldUse3DS2Flow(j,(i=this.getPaymentInfo())==null?void 0:(k=i.extraData)==null?void 0:k.receiverCountry)},d[z.fbpay_enabled]=b("FBPayGatingUtils").isFBPayExperienceEnabled(),d));this.$1.setGlobalExtraData(g);f&&this.$1.setFlowStep(f).setEventName(y.INIT).logVital()};c.getStores=function(){return[this.__getCheckoutStore(),b("FBPaymentsCheckoutConfigurationStore"),b("FBPaymentsCheckoutLoggerStore")]};c.__getCheckoutStore=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getCheckoutStore")};c.calculateState=function(a,c){var d;a=babelHelpers["extends"]({},a);var e=this.__getCheckoutStore(),f=e.getState();a.priceSelectorData=f.priceSelectorData;a.freeTrialData=f.freeTrialData;a.frequencySelectorData=f.frequencySelectorData;a.contactInfoData=f.contactInfoData;var g=f.paymentMethodData;a.paymentMethodData=f.isSecondaryPaymentMethodChecked?g:babelHelpers["extends"]({},g,{secondaryPaymentMethod:null});a.checkoutRestoreData=f.checkoutRestoreData;a.buttonPrice=f.buttonPrice;a.termsAndPolicies=f.termsAndPolicies;a.receiverInfo=f.receiverInfo;a.extensionDataPreparerMap=f.extensionDataPreparerMap;a.extensionDataMap=f.extensionDataMap;a.extensionFlagsMap=f.extensionFlagsMap;a.extensionUserFacingErrorMap=f.extensionUserFacingErrorMap;a.step=f.checkoutStep;a.paymentProcessingMessage=f.paymentProcessingMessage;a.activeExtension=f.activeExtension;a.activeExtensionForVerification=f.activeExtensionForVerification;a.errors=f.checkoutErrors;a.showContactSupportFlow=f.showContactSupportFlow;a.showVerificationFlow=f.showVerificationFlow;a.cachedRequestData=f.cachedRequestData;a.isCheckoutDialogShown=f.isCheckoutDialogShown;a.isUpdatingCheckout=f.isUpdatingCheckout;a.isSecondaryPaymentMethodChecked=f.isSecondaryPaymentMethodChecked;a.contentConfiguration=b("FBPaymentsCheckoutConfigurationStore").getContentConfiguration();g=e.getFinalPriceList(a.contentConfiguration);d=(d=c.configuration)==null?void 0:(d=d.paymentInfo)==null?void 0:d.paymentItemType;d=(d==="mor_donations_cause_for_charities"||d==="mor_donations_matching_confirmation")&&((d=c.configuration)==null?void 0:(d=d.orderStatusModel)==null?void 0:d.type)===r.CHECKOUT_INFORMATION;c=((c=c.configuration)==null?void 0:(c=c.contentConfiguration)==null?void 0:c.priceList)||g;d=d?c:g;a.finalPriceList=d;a.isInitialized=e.isCheckoutInitialized(a.contentConfiguration);a.hasInitializationError=e.hasAnyInitializationError();a.areAllExtensionsReady=e.areAllExtensionsReady();a.showUpfrontAddressCollection=e.shouldShowUpfrontAddressCollection();a.paymentSessionID=f.paymentSessionID;a.ResearchSurvey=f.getResearchSurvey();a.extensionsToTriggerUpdateCheckout=f.extensionsToTriggerUpdateCheckout;a.showExitCheckoutConfirmDialog=f.showExitCheckoutConfirmDialog;a.showDonationLargeAmountConfirmDialog=f.showDonationLargeAmountConfirmDialog;a.updateCheckoutLoadError=f.updateCheckoutLoadError;a.cardinal3DSProcessorData=f.cmpi3DSResult;a.anyOngoingAPICall=f.getIsAnyAPICallsOngoing();a.altPayCancelledError=f.altPayCancelledError;a.banner=f.banner;a.paymentSecurity=f.getPaymentSecurity();a.shouldEnablePaypal=f.shouldEnablePaypal;return a};d.isCheckoutNUXEnabled=function(){return!!this.props.enableCheckoutNUX};d.isPaymentsPSDAgreementEnabled=function(){return!!this.props.psdAgreementID};d.getExtensionName=function(a){return a.identifier==="CUSTOM_EXTENSION"?a.extensionKey:a.identifier};d.getCheckoutConfiguration=function(){return this.props.configuration};d.getPaymentInfo=function(){return this.props.configuration.paymentInfo};d.getContentConfiguration=function(){if(this.getIsUsingUpdateCheckoutAPI()||this.getIsUsingUpdateCheckoutInfoAPI())return this.state.contentConfiguration;else return this.getCheckoutConfiguration().contentConfiguration};d.getPayActionContent=function(){var a=this.getContentConfiguration();return a&&a.payActionContent};d.getPayActionTitle=function(a,c){if(!(a==null?void 0:a.customLabelsForCredentials)&&(c==null?void 0:c.newPaymentOptionType)===b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL)return b("FBPaymentsCheckoutStrings").getNewPayPalPayActionTitle();if(!(a==null?void 0:a.customLabelsForCredentials)&&(c==null?void 0:c.newPaymentOptionType)===b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM)return b("FBPaymentsCheckoutStrings").getNewAffirmPayActionTitle();if(!(a==null?void 0:a.customLabelsForCredentials)||!c)return a==null?void 0:a.actionTitle;c=(c==null?void 0:c.newPaymentOptionType)?c==null?void 0:c.newPaymentOptionType:c==null?void 0:(c=c.paymentMethod)==null?void 0:c.type;var d=b("PaymentMethodUtils").getGraphQLPaymentMethodTypeFromLegacyType(c);c=(c=a==null?void 0:a.customLabelsForCredentials)!=null?c:[];c=c.find(function(a){return a.credential_type===d});return(c=c==null?void 0:c.label)!=null?c:a==null?void 0:a.actionTitle};d.getConfirmationConfiguration=function(){var a=this.state.contentConfiguration;return a&&a.confirmationConfiguration||{}};d.getSelectedPaymentMethod=function(){var a=this.state.extensionDataMap.get(q.PAYMENT_METHOD);return(a=a)!=null?a.paymentMethod:a};d.getIsUsingUpdateCheckoutAPI=function(){return this.getCheckoutConfiguration().orderStatusModel.type===r.UPDATE_CHECKOUT_API};d.getIsUsingUpdateCheckoutInfoAPI=function(){return this.isGuestCheckout()?!1:this.getCheckoutConfiguration().orderStatusModel.type===r.CHECKOUT_INFORMATION};d.getIsPaymentProcessing=function(){return this.state.step===u.PAYMENT_PROCESSING||this.state.step===u.PAYMENT_PROCESSING_EXTENDED};d.componentDidMount=function(){this.logExperimentExposures(),this.$8(!0),this.getIsUsingUpdateCheckoutInfoAPI()||this.$9(),this.$10("checkout_impression"),this.isAsyncPaymentType()&&(this.$5=new(b("FBPaymentsAsyncCompleteCheckoutManager"))(this.$11,this.$12,this.$1))};d.componentWillUnmount=function(){b("FBPaymentsCheckoutActions").unmountCheckoutFlow()};d.componentDidUpdate=function(a,c){var d=this;c.step!==u.PAYMENT_PROCESSING&&this.state.step===u.PAYMENT_PROCESSING&&(this.__completePaymentOnPaymentProcessing?(this.__completePaymentOnPaymentProcessing=!1,this.$13()):this.__restorePaymentFromRazorPayRedirect&&(this.__restorePaymentFromRazorPayRedirect=!1,this.$14()));if(this.getIsUsingUpdateCheckoutAPI()||this.getIsUsingUpdateCheckoutInfoAPI()){a=c.extensionDataMap;var e=this.state.extensionDataMap;c=a.some(function(a,b){if(d.$15(b)){a=JSON.stringify(a)!==JSON.stringify(e.get(b));return a}return!1});c&&(this.getIsUsingUpdateCheckoutInfoAPI()?this.$16():this.$17())}!this.state.anyOngoingAPICall&&this.state.isInitialized&&!this.state.isUpdatingCheckout&&!this.$3&&(b("FBPaymentsPerfLogger").annotateAddressFormUpfront(23265284,this.state.showUpfrontAddressCollection),b("FBPaymentsPerfLogger").markerEnd(23265284,this.getPaymentType()),this.$3=!0,this.$18());(this.state.step===b("FBPaymentsCheckoutStep").INCOMPLETE||this.state.step===b("FBPaymentsCheckoutStep").READY_TO_PAY)&&(this.$2||(this.$2=!0,this.$1.setFlowStep(x.CHECKOUT_SCREEN).setEventName(y.DISPLAY).logVital(),i("checkout_display",this.state.funnelLoggingSessionID)))};d.$18=function(){var a,b=Date.now();a=(a=this.props.checkoutExtraProps)==null?void 0:a.countdownTimerDurationInS;var c=3*o/4;a&&(this.__countdownTimerEndTime=b+a*o+c,this.forceUpdate())};d.$19=function(){var a;this.$1.setGlobalFields((a={},a[z.payment_method_id]=null,a[z.payment_method_type]=null,a[z.mailing_address_id]=null,a[z.shipping_option_id]=null,a[z.raw_amount]=null,a[z.currency]=null,a))};d.logExperimentExposures=function(){};d.$9=function(){var a,c=this.getPaymentInfo();a=(a=this.getPayActionContent())!=null?a.actionTitle:a;this.$1.setFlowStep(x.CHECKOUT_TERMS_FETCH).setEventName(y.API_INIT).log();this.isGuestCheckout()?b("FBPaymentsModulesAPIShared").fetchTermsAndPoliciesGraphQLRelay(c.paymentItemType,c.receiverId,c.orderId,c.extraData,a,this.$20,this.$21):this.__getAPI().fetchTermsAndPolicies(c.paymentItemType,c.receiverId,c.orderId,c.extraData,a,this.$20,this.$21)};d.$8=function(a){a===void 0&&(a=!1),this.getIsUsingUpdateCheckoutInfoAPI()?this.$16(a):this.getIsUsingUpdateCheckoutAPI()&&this.$17()};d.$17=function(){var a=this.$22();b("FBPaymentsCheckoutActions").setIsUpdatingCheckout();this.__getAPI().updateCheckoutGraphql(a,this.$23,this.$24)};d.$16=function(a){a===void 0&&(a=!1);var c=this.$25(a);b("FBPaymentsCheckoutActions").setIsUpdatingCheckout();this.$1.setFlowStep(x.CHECKOUT_INFORMATION).setEventName(y.API_INIT).addToExtraData("initial_load",a.toString()).log();b("FBPaymentsModulesAPIShared").updateCheckoutInformationGraphQL(c,this.$26,this.$27)};d.$25=function(a){var c,d;a===void 0&&(a=!1);var e=this.getPaymentInfo();c=(c=e==null?void 0:(c=e.extraData)==null?void 0:c.products)!=null?c:[];var f={};c={payment_type:e.paymentItemType,order_id:e.orderId,receiver_id:e.receiverId,logging_id:this.$1.getSessionID(),payment_session_id:this.state.paymentSessionID,products:c.map(function(a){var b;return{product_id:a.product_id,quantity:a.quantity,per_unit_price:a.price?{currency:(b=a.price)==null?void 0:b.currency,amount:(b=a.price)==null?void 0:b.amount}:null}}),is_initial_load:a};a=e.extraData||{};for(var e=this.state.extensionDataMap.entries(),g=Array.isArray(e),h=0,e=g?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];switch(j){case q.PAYMENT_METHOD:j=i.newPaymentOptionType?b("PaymentMethodUtils").getGraphQLPaymentMethodTypeFromLegacyType(i.newPaymentOptionType):i.paymentMethod.credentialType;d=(d=i)!=null?d.altPayData:d;d&&(f={altpay_data:{payment_provider:d.payment_provider,pricepoint_id:d.pricepoint_id,msisdn:d.msisdn}});c.selected_payment_credentials=babelHelpers["extends"]({},f,{credential_type:j,credential_id:i.paymentMethodID,billing_country:i.selectedBillingCountry});break;case q.SHIPPING_ADDRESS:c.selected_shipping_address_id=i.selectedMailingAddressID;break;case q.CONTACT_INFO:c.contact_name=i.name;c.selected_contact_email_id=i.emailID;c.selected_contact_phone_id=i.phoneNumberID;break;case q.CUSTOM_OPTIONS:c.selected_delivery_option_id=i==null?void 0:(d=i.selectedOption)==null?void 0:d.optionId;break;case q.COUPON_CODE:c.coupon_code=i.couponCode;break}}c.extra_data=JSON.stringify(a);return c};d.$22=function(){var a,c=this.getPaymentInfo(),d={payment_type:c.paymentItemType,order_id:c.orderId,receiver_id:c.receiverId,session_id:this.$1.getSessionID()};c=c.extraData||{};var e={};for(var f=this.state.extensionDataMap.entries(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];switch(j){case q.PAYMENT_METHOD:j=b("FBPaymentsModulesAPIUtils").getPaymentMethodRequestParamsGraphQL(i.paymentMethod,i.bank);a=(a=i)!=null?(a=a.altPayData)!=null?a.fee:a:a;a&&(e={payment_credential_data:JSON.stringify({altpay_fee:a}),payment_instrument_type:"ALTPAY"});d=babelHelpers["extends"]({},e,d,j);c=babelHelpers["extends"]({},c,{billingCountryCode:i.selectedBillingCountry});break;case q.SHIPPING_ADDRESS:d.mailing_address_id=i.selectedMailingAddressID;break;case q.CUSTOM_OPTIONS:j=(a=i)!=null?(a=a.extraData)!=null?a.collectedDataKey:a:a;a=(a=i)!=null?(a=a.selectedOption)!=null?a.optionId:a:a;switch(j){case p.SHIPPING_OPTION:d.shipping_option_id=a;break;default:if(j){var k;c=babelHelpers["extends"]({},c,(k={},k[j]=a,k))}}break;case q.COUPON_CODE:d.coupon_code=i.couponCode;break}}d.extra_data=JSON.stringify(c);return d};d.$15=function(a){if(this.getIsUsingUpdateCheckoutInfoAPI())return this.state.extensionsToTriggerUpdateCheckout.has(a);switch(a){case q.CONTACT_INFO:case q.COUPON_CODE:case q.PAYMENT_METHOD:case q.CUSTOM_OPTIONS:case q.SHIPPING_ADDRESS:return!0;default:return!1}};d.shouldConnectPayPalInCheckoutContainer=function(){return this.constructor.__getCheckoutStore().shouldConnectPayPalInCheckoutContainer()};d.areAllExtensionsReady=function(){return this.state.areAllExtensionsReady};d.isCheckoutInitialized=function(){return this.state.isInitialized};d.isGuestCheckout=function(){return!!this.props.guestActorID};d.isAsyncPaymentType=function(){return b("FBPaymentsAsyncCompleteCheckoutUtils").isAsyncPaymentType(this.getPaymentType())};d.isAsyncPayment=function(){return b("FBPaymentsAsyncCompleteCheckoutUtils").isAsyncPayment(this.getPaymentType())};d.$28=function(){return b("gkx")("763695")};d.$29=function(){var a,c;a=((a=this.state.paymentMethodData)==null?void 0:a.newPaymentOptionType)===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD||((a=this.state.paymentMethodData)==null?void 0:a.newPaymentOptionType)===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD_FROM_GRAPHQL||((a=this.state.paymentMethodData)==null?void 0:(a=a.paymentMethod)==null?void 0:a.type)===b("FBPaymentsPaymentMethodTypes").CREDIT_CARD||((a=this.state.paymentMethodData)==null?void 0:(a=a.paymentMethod)==null?void 0:a.type)===b("FBPaymentsPaymentMethodTypes").CREDIT_CARD_FROM_GRAPHQL;return b("FBPaymentsCheckoutHelper").shouldUse3DS2Flow(this.getPaymentType(),(c=this.getPaymentInfo())==null?void 0:(c=c.extraData)==null?void 0:c.receiverCountry)&&a&&b("FBPayments3DS").requires3DS2()};d.getPaymentType=function(){return this.getPaymentInfo().paymentItemType};d.__handleBackButtonClick=function(a){a===void 0&&(a=!1),!a&&this.__isExitCheckoutConfirmDialogEnabled()?(b("FBPaymentsCheckoutActions").showExitCheckoutConfirmDialog({showDialog:!0}),this.$1.setFlowStep(x.CHECKOUT_EXIT_DIALOG).setEventName(y.DISPLAY).addToExtraData("is_payment_processing",this.getIsPaymentProcessing().toString()).logVital()):this.$31()};d.$31=function(){this.$1.setFlowStep(x.CHECKOUT_MODULE).setEventName(y.CANCEL).logVital();this.$10("checkout_flow_canceled");var a=this.props.onBackButtonClick;if(a)a&&a();else{a=(a=this.getPayActionContent())!=null?a.backButtonCallback:a;a&&a()}};d.$32=function(){b("FBPaymentsCheckoutActions").nuxContinueButtonClick()};d.__exitCheckoutFlow=function(a){a===void 0;return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__exitCheckoutFlow")};d.$33=function(a){this.$35();var b=this.getConfirmationConfiguration().confirmationClosedCallback;b&&b(a,this.state.confirmationExtensions);b=this.props.onConfirmationClosed;b&&b(a,this.state.confirmationExtensions)};d.$35=function(){if(j()){var a=this.$37();a&&this.__getOpenSurveyRequest(a)}};d.$37=function(){var a=this.state.ResearchSurvey;return a?this.__getIsDesktop()?a.desktop_uri:a.msite_uri:null};d.$38=function(){var a=this.state.buttonPrice,c=this.getContentConfiguration(),d=b("FBPaymentsFreeTrialExtensionUtil").getIsUsingFreeTrial(this.state.freeTrialData),e=this.state.finalPriceList;if(c==null?void 0:c.newPriceTable){a=c==null?void 0:(c=c.newPriceTable)==null?void 0:c.totalPrice.price;if(d){a=b("FBPaymentsFreeTrialExtensionUtil").getFreeTrialPrice((c=(c=a)==null?void 0:c.currency)!=null?c:"")}}else if(this.isPriceListValid(e)){c=b("FBPaymentsPriceListHelper").calculateTotal(e);e=c.currency;e&&(a=d?b("FBPaymentsFreeTrialExtensionUtil").getFreeTrialPrice(e):{amount:c.amount.toString(),currency:e})}return a};d.$39=function(){var a,c,d=b("enumUtils").enumValueToKeyEnforcing(this.getPaymentType(),b("AllPaymentTypeFields")),e=this.state.paymentMethodData;c=((c=e)!=null?c.paymentMethodID:c)||"";e=(e=e)!=null?e.paymentMethod:e;e=(e==null?void 0:e.cardType)||"";a=((a=this.$38())==null?void 0:a.currency)||"";c={credentialID:c,creditCardType:e,currency:a,paymentInfo:this.getPaymentInfo(),paymentType:d};return b("FBPayments3DS").getAcquirerMerchantInfo(c)};d.$40=function(a){var c=this.state.paymentMethodData;c=(c=c)!=null?c.paymentMethodID:c;var d=this.$38();c={credentialID:c!=null?c:"",amount:{currency:(d==null?void 0:d.currency)||"",amount:(d==null?void 0:d.amount)||""},itemType:b("enumUtils").enumValueToKeyEnforcing(this.getPaymentType(),b("AllPaymentTypeFields")),lookupData:{email:"",mobile_phone:"",billing_first_name:"",billing_middle_name:"",billing_last_name:"",credit_card_address:{street:"",street2:"",city:"",state:"",zip:"",country_code:""},acs_window_size:"05",acquirer_merchant_info:a,challenge_indicator:""}};return c};d.$42=function(){var a,c;if(this.state.step===u.PAYMENT_PROCESSING)return;var d=this.state.paymentMethodData;c=(c=d)!=null?c.newPaymentOptionType:c;a=(a=d)!=null?a.paymentMethodID:a;var e={};this.state.extensionFlagsMap.forEach(function(a,b){e[b]=a.isReady?1:0});this.$1.setFlowStep(x.PAYMENT).setEventName(y.CLICK).setPaymentMethodType(c).setPaymentMethodID(a).addToExtraData("components",JSON.stringify(e)).addToExtraData("CVV data",JSON.stringify(d==null?void 0:(c=d.paymentMethod)==null?void 0:(a=c.csc)==null?void 0:a.length)).logVital();this.__completePaymentOnPaymentProcessing=!0;b("FBPaymentsCheckoutActions").payButtonClick(this.__isDonationLargeAmountConfirmDialogEnabled())};d.$43=function(){return this.state.step===u.READY_TO_PAY&&!this.state.isUpdatingCheckout&&this.areAllExtensionsReady()};d.$45=function(){return b("FBPayPINUtils").getShouldShowPinFlow(this.state.paymentSecurity)&&!Boolean(this.state.paymentsPIN)};d.$46=function(){return b("FBPayPINUtils").getPINFlowStep(this.state.paymentSecurity)};d.$47=function(a){return a==="SHIPPING_ADDRESS"&&this.$48().paymentType==="mor_facebook_shop"};d.$50=function(){this.$1.setFlowStep(x.VERIFICATION).setEventName(y.DONE).addToExtraData("passed_idv_to_checkout","true").logVital();i("verification_passed",this.state.funnelLoggingSessionID);b("FBPaymentsCheckoutActions").exitPassedVerificationFlow();var a=this.state.cachedRequestData;if(!a){this.$51();return}this.isAsyncPayment()?(this.__startChannelManager(),this.$5!=null||h(0,11262),this.$5.makeAsyncPayment(a,this.getPaymentInfo())):this.__getAPI().completeCheckoutGraphQL(a,this.$52,this.$53)};d.$54=function(){this.$1.setFlowStep(x.VERIFICATION).setEventName(y.DONE).addToExtraData("pending_review_idv_to_checkout","true").logVital(),i("verification_pending",this.state.funnelLoggingSessionID),this.__exitCheckoutFlow(!0)};d.$56=function(){b("FBPaymentsCheckoutActions").contactSupportClick()};d.$57=function(){b("FBPaymentsCheckoutActions").exitIncompleteContactSupport()};d.$58=function(){b("FBPaymentsCheckoutActions").exitCompletedContactSupport()};d.__isDonationLargeAmountConfirmDialogEnabled=function(){var a,c;switch(this.getPaymentType()){case"mor_donations":case"mor_donations_cause_for_charities":case"mor_donations_matching_confirmation":case"mor_donations_matching_pledge":case"nmor_donation_p4p":case"nmor_blackbaud_rwr_donation":case"nmor_ppgf_donation":a=Number((a=(a=this.$38())==null?void 0:a.amount)!=null?a:"");c=Number((c=this.props.checkoutExtraProps)==null?void 0:c.amountForConfirmationDialog);return a>=c?b("gkx")("1176429"):!1;default:return!1}};d.__getDonationLargeAmountConfirmDialogCancelButtonLabel=function(){return b("FBPaymentsCheckoutStrings").getDonationLargeAmountConfirmDialogCancelButtonLabel()};d.__getDonationLargeAmountConfirmDialogConfirmButtonLabel=function(){return b("FBPaymentsCheckoutStrings").getDonationLargeAmountConfirmDialogConfirmButtonLabel()};d.__getDonationLargeAmountConfirmDialogDescription=function(){var a,c=this.$38(),d={showCurrencyCode:!1,showDecimals:!0,showSymbol:!0,stripZeros:!0,thousandSeparator:!0};c=l((a=c==null?void 0:c.currency)!=null?a:"",Number((a=c==null?void 0:c.amount)!=null?a:"")*100,d);return b("FBPaymentsCheckoutStrings").getDonationLargeAmountConfirmDialogDescription(c,(a=this.getContentConfiguration())==null?void 0:(d=a.entity)==null?void 0:d.participant.title)};d.$13=function(){var a=this;b("FBPaymentsCheckoutActions").updateCheckoutStep(u.PAYMENT_PROCESSING);var c=this.state.extensionDataPreparerMap,d=this.getPaymentInfo();d.paymentItemType==="nmor_donation_p4c"&&this.__connectRazorPay();b("promiseDone")(b("FBPaymentsCheckoutHelper").prepareExtensionDataPromise(c).then(function(b){!b&&h(0,960),a.$63(b)})["catch"](function(c){a.__closeRazorPayPopup();c=(c=c)!=null?c.error:c;b("FBPaymentsPerfLogger").logPaymentFail(a.getPaymentType());if(c)b("FBPaymentsCheckoutActions").paymentProcessingExtensionDataPrepError(c);else{c=b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage();b("FBPaymentsCheckoutActions").paymentProcessingExtensionDataPrepError({global:c})}a.__scrollToTop()}))};d.$63=function(a){var c=this;!this.$29()?this.$64(a):(i("use_threeds2_flow",this.state.funnelLoggingSessionID),b("promiseDone")(this.$39(),function(d){d=c.$40(d);b("promiseDone")(b("FBPayments3DS").fetchAuthenticationURL(d),function(d){b("FBPaymentsCheckoutActions").successful3DS({cmpiLookupResult:d}),i("threeds2_flow_complete",c.state.funnelLoggingSessionID),c.$64(a)},function(a){i("threeds2_flow_incomplete",c.state.funnelLoggingSessionID);a=a.fetch_3rd_party_payment_auth||"";a=a.status;a==="CHALLENGED"?(b("FBPaymentsPerfLogger").logPaymentCancel(c.getPaymentType()),c.$51()):c.$12()})}))};d.$64=function(a){var c=this,d,e=this.getPaymentInfo(),f=this.$65(a),g;d=(d=this.state.paymentMethodData)!=null?d.newPaymentOptionType:d;f.nmor_payment_method&&(g=JSON.parse(f.nmor_payment_method).type);var i=this.shouldConnectPayPalInCheckoutContainer()&&d===b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL,j=i?x.ADD_PAYPAL:x.PAYMENT;this.$1.setFlowStep(j).setEventName(y.API_INIT).setGlobalFields((j={},j[z.payment_method_id]=f.credential_id,j[z.payment_method_type]=g,j[z.mailing_address_id]=f.mailing_address_id,j[z.shipping_option_id]=f.shipping_option_id,j[z.raw_amount]=f.amount,j[z.currency]=f.currency,j));f.payment_type!=="nmor_event_ticketing"&&this.$1.updateExtraData(JSON.parse(f.extra_data));this.$10("purchase_button_clicked");var k;!i&&e.action!==s.CUSTOM_CALLBACK&&(k=this.isAsyncPayment(),this.$1.addToExtraData("async",k?"true":"false"));this.$1.logVital();if(i){j=b("FBPaymentsCheckoutHelper").buildCheckoutRestoreData(this.state.checkoutRestoreData,a);this.__connectPayPal({checkoutRestoreData:j,logger:this.$1,paymentType:e.paymentItemType})}else if(this.$45()){i=b("FBPaymentsCheckoutHelper").buildCheckoutRestoreData(this.state.checkoutRestoreData,a);j=(j=this.state.paymentMethodData)==null?void 0:j.paymentMethodID;var l=b("getOwnObjectValues")(C);i=b("FBPaymentsLinkHelper").getCurrentURI().removeQueryData(l).addQueryData(babelHelpers["extends"]({},i,(l={},l[C.PAYMENT_METHOD_ID]=j,l[C.RETURNED_FROM_PAYPAL]=D.VERIFY,l[C.RETURNED_FROM_VERIFY_PAYPAL_STEP]=E.UPDATE_PIN_IN_CHECKOUT,l)));this.setState({redirectFromPaypalURL:i.toString()});b("FBPaymentsCheckoutActions").updateCheckoutStep(u.PIN);return}else if(e.action===s.CUSTOM_CALLBACK)e.payCallbackV2!=null||h(0,961),e.payCallbackV2(this.state.extensionDataMap,this.$30,f);else{b("FBPaymentsCheckoutActions").cacheRequestData(f);if(k){d===b("FBPaymentsNewPaymentOptionTypes").NEW_ALT_PAY&&this.__connectAltPay();this.__startChannelManager();if(e.paymentItemType==="nmor_donation_p4c"){j=b("FBPaymentsCheckoutHelper").buildCheckoutRestoreData(this.state.checkoutRestoreData,a);b("promiseDone")(this.__getRazorPayCallbackURL({checkoutRestoreData:j,extraData:(l=this.state.cachedRequestData)==null?void 0:l.extra_data,addressId:(i=this.state.cachedRequestData)==null?void 0:i.mailing_address_id,logger:this.$1,paymentType:e.paymentItemType,paymentSessionID:this.state.paymentSessionID}),function(a){f.razorpay_callback_url=a,c.$5!=null||h(0,11262),c.$5.makeAsyncPayment(f,c.getPaymentInfo())},function(a){var c=b("FBPaymentsUniversalErrorUtils").getUserFacingErrorMessage(a);a=a&&a.errorCode?{userFacingError:a}:{global:c!=null?c:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()};b("FBPaymentsCheckoutActions").paymentProcessingError(a)})}else this.$5!=null||h(0,11262),this.$5.makeAsyncPayment(f,this.getPaymentInfo())}else this.isGuestCheckout()||this.getPaymentType()==="mor_facebook_shop"?(f.paymentType=e.paymentItemType,b("FBPaymentsModulesAPIShared").completeCheckoutRelayGraphQL(f,this.$52,this.$53)):this.__getAPI().completeCheckoutGraphQL(f,this.$52,this.$53)}f.email_opt_in!=null&&f.email_opt_in!=void 0&&this.$1.setEventType(w.CHECKOUT).setFlowStep(x.EMAIL_OPT_IN).setEventName(y.SUBMIT).addToExtraData("requestData.email_opt_in",f.email_opt_in).log();f.email_opt_in===!0&&this.$1.setEventType(w.CHECKOUT).setFlowStep(x.EMAIL_OPT_IN).setEventName(y.CONFIRM).addToExtraData("requestData.email_opt_in",f.email_opt_in).log()};d.$66=function(a){if(b("FBPaymentsCheckoutHelper").shouldCollectFraudnetFeatures(a)){this.$4=(a=this.$4)!=null?a:b("PayPalFraudNetNew").collectFraudnetFeatures("FB_CHECKOUT_FLOW_ID",b("PayPalFraudNetUrl").fraudnet_url)}return this.$4};d.$65=function(a){var c,d,e=this.state,f=this.getPaymentInfo(),g=f.paymentItemType,i=this.$66(e.receiverInfo);g={action:f.action,payment_type:g,receiver_id:f.receiverId,order_id:f.orderId,products:(g=f.extraData)==null?void 0:g.products,session_id:this.$1.getSessionID(),payment_session_id:e.paymentSessionID,paypal_fraudnet_id:i};i=f.extraData||{};f=!1;var j={};for(var k=e.extensionDataMap.entries(),l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=k.length)break;n=k[m++]}else{m=k.next();if(m.done)break;n=m.value}n=n;var o=n[0];n=n[1];switch(o){case q.COUPON_CODE:g=babelHelpers["extends"]({},g,{coupon_code:n.couponCode});break;case q.TAX_INFO:var r=a.get(o);g=babelHelpers["extends"]({},g,{tax_info_id:r==null?void 0:r.taxInfoID});break;case q.PAYMENT_METHOD:r=a.get(o);d=(d=r)!=null?d.paymentMethod:d;c=(c=n)!=null?c.altPayData:c;var s=void 0;if(c)delete c.fee,s={altPayData:c};else if(!((c=r)!=null?c.credit_card:c)){c=d||n.paymentMethod;n.secondaryPaymentMethod?(f=!0,j=n):s=b("FBPaymentsModulesAPIUtils").getPaymentMethodRequestParams(c,n.bank)}g=babelHelpers["extends"]({},g,s);n.csc&&(g.csc=n.csc);((d=r)!=null?d.credit_card:d)&&(g=babelHelpers["extends"]({},g,r));break;case q.CONTACT_INFO:c=a.get(o);d=(s=c)!=null?s.emailID:s;s=(r=c)!=null?r.emailAddress:r;c=(r=c)!=null?r.phoneNumberID:r;r=e.contactInfoData;r&&(g.contact_name=r.name,g.email_address_id=d||r.emailID,g.email_address=s||r.email,g.contact_number_id=c||r.phoneNumberID);break;case q.PRICE_SELECTOR:d=e.priceSelectorData;d&&(g.amount=b("FBPaymentsPriceListHelper").formatStringAmount(Number(d.selectedAmount)),g.currency=d.currency);break;case q.SHIPPING_ADDRESS:g.mailing_address_id=n.selectedMailingAddressID;break;case q.CUSTOM_OPTIONS:c=(s=n)!=null?(s=s.extraData)!=null?s.collectedDataKey:s:s;d=(r=n)!=null?(r=r.selectedOption)!=null?r.optionId:r:r;switch(c){case p.SHIPPING_OPTION:g.shipping_option_id=d;break;default:if(c){i=babelHelpers["extends"]({},i,(s={},s[c]=d,s))}}break;case q.FREQUENCY_SELECTOR:r=n.subscriptionType;c=n.subscriptionPeriod;r&&(g.subscription_type=r,g.subscription_period=c);break;case q.NATIONALITY_SELECTOR:d=n.isCitizen;g.is_citizen=d;break;case q.FREE_TRIAL:s=n.trialType;g.trial_type=s;break;case q.USER_INFO_OPT_IN:r=n.optIn;g.email_opt_in=r;break;default:i=babelHelpers["extends"]({},i,(c={},c[o]=n,c));break}}i.subscriptionType&&i.subscriptionPeriod&&(g.subscription_type=i.subscriptionType,g.subscription_period=i.subscriptionPeriod);d=this.state.finalPriceList;if((s=this.getContentConfiguration())==null?void 0:s.newPriceTable){o=(r=this.getContentConfiguration())==null?void 0:r.newPriceTable;g.currency=o==null?void 0:(n=o.totalPrice)==null?void 0:(c=n.price)==null?void 0:c.currency;g.amount=o==null?void 0:(m=o.totalPrice)==null?void 0:(l=m.price)==null?void 0:l.amount}else if(!g.currency||!g.amount){this.isPriceListValid(d)||h(0,962);k=b("FBPaymentsPriceListHelper").calculateTotal(d);g.currency=k.currency;g.amount=b("FBPaymentsPriceListHelper").formatStringAmount(k.amount)}if(f){!g.amount&&h(0,12982);a=b("FBPaymentsModulesAPIUtils").getMultiCredentialRequestParams(j,g.currency,g.amount);g=babelHelpers["extends"]({},g,a)}this.state.paymentsPIN&&(g.security_pin={sensitive_string_value:this.state.paymentsPIN});s=(e=this.getContentConfiguration())!=null?e.taxID:e;s&&(i=babelHelpers["extends"]({},i,{taxID:s}));c=(r=this.getContentConfiguration())==null?void 0:(n=r.taxInfo)==null?void 0:n.tax_info_collection_map;c&&(g.tax_info_collection_map=c);if(b("FBPaymentsFreeTrialExtensionUtil").getIsUsingFreeTrial(this.state.freeTrialData)){m=(o=this.state.freeTrialData)==null?void 0:o.subscriptionPrice;g.amount=m==null?void 0:m.amount;g.currency=m==null?void 0:m.currency}if(this.state.cardinal3DSProcessorData){l=this.state.cardinal3DSProcessorData;d=l.cardinalTransactionID;k=l.rowID;f=l.status;j=l.threeDSTransactionData;var t;j&&(t={threeDs_secure_version:j.threeDsSecureVersion,cavv:j.cavv,eci_flag:j.eciFlag,xid:j.xid,ds_transaction_id:j.dsTransactionID});g.cardinal_3ds_processor_data={ref_id:k||"",status:f,transaction_id:d||"",threeDS_transaction_data:t}}g.extra_data=JSON.stringify(i);return g};d.$67=function(a){this.$28()&&b("FBPaymentsModulesAPIShared").logPaymentSessionStatus({paymentSessionID:this.state.paymentSessionID,paymentType:this.getPaymentType(),sessionID:this.$1&&this.$1.getSessionID(),success:a})};d.$51=function(){b("FBPaymentsCheckoutActions").updateCheckoutStep(u.READY_TO_PAY)};d.$70=function(){var a=this.getPaymentInfo();if(a.paymentItemType!=="nmor_pages_commerce")return;n(b("RelayFBEnvironment"),b("FBPaymentsInvoiceFetchStatus.graphql"),{query_params:{id:a.orderId,critical_read:!0}}).toPromise()};d.$69=function(a,c){var d;this.$70();c=c||this.getConfirmationConfiguration();d=(d=a.extra_data)==null?void 0:d.order_status;if(d===F.PENDING){d=(d=a)!=null?(d=d.extra_data)!=null?d.confirmation_message:d:d;c.isPaymentStatusPending=!0}else{var e;c.receiptUrl=((e=this.props.checkoutExtraProps)!=null?e.receiptUrl:e)||((e=a)!=null?(e=e.extra_data)!=null?e.receipt_url:e:e)||b("FBPaymentsLinkHelper").getPaymentSettingsReceiptURI(a.id).toString();e=this.getPaymentType();d=e==="nmor_donation_p4c"?(e=a)!=null?(e=e.extra_data)!=null?e.confirmation_message:e:e:(e=a)!=null?(e=e.extra_data)!=null?e.message_with_email:e:e}d&&(c.confirmationText=b("FBPaymentsStringHelper").stringToMarkup(d));d=(e=a)!=null?(e=e.extra_data)!=null?e.subscription_details:e:e;d&&(c.subscriptionConfirmationDetails={image:d.subscription_image.uri,name:d.subscription_name,renewMessage:d.renew_amount,renewTitle:d.renew_date,subtitle:d.subscription_subtitle.text});d=(e=a.extra_data)==null?void 0:e.subscription_agreement;if(d){c.subscriptionConfirmationDetails={image:(a=d.image)==null?void 0:a.uri,name:d.name,renewMessage:d.editMessage,renewTitle:d.renewMessage,subtitle:d.subtitle.text}}a=(e=this.props.checkoutExtraProps)!=null?e.doneButtonText:e;a&&(c.doneButtonText=a);e=(d=this.props.checkoutExtraProps)!=null?d.doneButtonTrackingNodeType:d;e&&(c.doneButtonTrackingNodeType=e);a=this.getContentConfiguration();a||h(0,323);a.confirmationConfiguration=c;b("FBPaymentsCheckoutActions").updateContentConfiguration(a);b("FBPaymentsCheckoutActions").updateCheckoutStep(u.CONFIRMATION)};d.$72=function(){b("FBPaymentsCheckoutActions").updateCheckoutStep(u.READY_TO_PAY)};d.$10=function(a,c){var d;if(this.getPaymentType()!=="nmor_checkout_experiences")return;d=(d=(d=this.getPaymentInfo().extraData)==null?void 0:d.products)!=null?d:[];d=d.map(function(a){return a.product_id});b("XCommerceOnsiteEventRouter").logEvent(a,{productIDs:d,adID:(a=this.getPaymentInfo().extraData)==null?void 0:(d=a.server_logging_params)==null?void 0:d.ad_id,orderID:c})};d.isPriceListValid=function(a){return!!a&&a.length>0};d.$73=function(a){var c=this,d=b("FBPaymentsLinkHelper").getVerifiedPaypalAccessToken();a={cred_id:a,pp_access_token:d,payment_type:this.getPaymentType()};this.__getAPI().verifyConsumerAuthGraphQL(a,!0,function(){c.$8(),b("FBPaymentsCheckoutActions").shouldEnablePaypal(!1)},function(a){b("FBPaymentsCheckoutActions").shouldEnablePaypal(!1);var c=b("FBPaymentsUniversalErrorUtils").getUserFacingErrorMessage(a);a=a&&a.errorCode?{userFacingError:a}:{global:c!=null?c:b("FBPaymentsModulesAPIUtils").getUncaughtErrorMessage()};b("FBPaymentsCheckoutActions").paymentProcessingError(a)})};d.$74=function(a,b,c){var d=a.identifier==="CUSTOM_EXTENSION"?a["class"]:this.__getExtensionManager().getExtensionContainer(a.identifier);return d==null?null:m.jsx(d,{checkoutConfiguration:this.getCheckoutConfiguration(),checkoutExtraProps:this.props.checkoutExtraProps,extensionConfiguration:a,isActive:b,isActiveForVerification:c,isGuestCheckout:this.isGuestCheckout(),isUsingUpdateCheckoutInfoAPI:this.getIsUsingUpdateCheckoutInfoAPI(),logger:this.$1,onContactSupportClick:this.$56,onExtensionWidthChange:this.$71})};d.$48=function(){return{banner:this.state.banner,funnelLoggingSessionID:this.state.funnelLoggingSessionID,logger:this.$1,paymentType:this.getPaymentType(),theme:this.props.theme||"DEFAULT"}};d.$75=function(a){a===void 0&&(a=!1);return b("FBPayGatingUtils").isFBPayExperienceEnabled(this.getPaymentType())?b("FBPayStrings").FACEBOOK_PAY:a?b("FBPaymentsFreeTrialExtensionUtil").getFreeTrialCheckoutDialogTitle(this.state.freeTrialData,this.getPaymentType()):this.props.dialogTitle};d.$6=function(){return b("FBPaymentsLinkHelper").getCurrentURISessionID()||b("uuid")()};d.$7=function(){var a=this.__getFunnelLoggingPlatform(),b=this.getPaymentType();return{product_type:b,platform:a,app:"Facebook",external_session_id:(b=this.props.externalSessionID)!=null?b:null,page_id:null,product_id:null}};d.render=function(){var a=this,c=this.getContentConfiguration(),d,e,f,j,l,n,o=[],p,r=!1,s=!1,t=!1,v=!!this.props.renderInline,w=!!this.props.renderInlineWithPadding,x=b("FBPaymentsFreeTrialExtensionUtil").getIsUsingFreeTrial(this.state.freeTrialData),y=this.__isExtensionDisplayWhenValidatePIN(),z;if(this.state.showVerificationFlow){var A=this.__getVerificationFlowContainer(),B=b("FBPaymentsVerificationFlowHelper").getVerificationFlowPaymentType(this.getPaymentType()),C=b("FBPaymentsVerificationFlowHelper").getVerificationFlowProductType(B);!!B&&!!C||h(0,963,this.getPaymentType());z=m.jsx(A,{isAsyncDialogBody:!0,onBackClick:this.$49,onClose:this.$55,paymentType:B,verificationProductType:C})}var D;B=(A=this.state.errors)!=null?A.userFacingError:A;if(B){var E;C=this.__getUserFacingErrorNotice();A=B.primaryCta;!!A&&A.type==="contact_us"&&(A.onClick=this.$56);E=(E=B)!=null?E.flowStep:E;D=m.jsx(C,{callToAction:A,description:B.errorDescription,flowStep:E,logger:this.$1,title:B.errorTitle,use:B.imageType})}var F;if(this.state.showContactSupportFlow){C=this.__getContactSupportContainer();A=this.state.showUpfrontAddressCollection?q.SHIPPING_ADDRESS:this.state.activeExtension||this.state.activeExtensionForVerification;if(A!=null){E=this.state.extensionUserFacingErrorMap.get(A);B=E||B}E=(A=B)!=null?A.errorCode:A;B=(A=B)!=null?A.flowStep:A;A=this.getPaymentType();!!E&&!!B&&!!A||h(0,964);E={errorCode:E,flowStep:B,paymentType:A};F=m.jsx(C,{extraInfo:E,logger:this.$1,onBackClick:this.$57,onClose:this.$58})}var G;if(this.state.showExitCheckoutConfirmDialog){B=this.__getExitCheckoutConfirmDialog();B!=null&&(i("checkout_exit_click_display",this.state.funnelLoggingSessionID),G=m.jsx(B,{isShown:this.state.showExitCheckoutConfirmDialog,cancelButtonLabel:this.__getExitCheckoutConfirmDialogCancelButtonLabel(),confirmButtonLabel:this.__getExitCheckoutConfirmDialogConfirmButtonLabel(),description:b("FBPaymentsCheckoutStrings").getExitCheckoutConfirmDialogDescription(),logger:this.$1,onCancelClick:this.$60,onConfirmClick:this.$59,title:b("FBPaymentsCheckoutStrings").getExitCheckoutConfirmDialogTitle()}))}var H;if(this.state.showDonationLargeAmountConfirmDialog){A=this.__getDonationLargeAmountConfirmDialog();A!=null&&(H=m.jsx(A,{isShown:this.state.showDonationLargeAmountConfirmDialog,cancelButtonLabel:this.__getDonationLargeAmountConfirmDialogCancelButtonLabel(),confirmButtonLabel:this.__getDonationLargeAmountConfirmDialogConfirmButtonLabel(),description:this.__getDonationLargeAmountConfirmDialogDescription(),logger:this.$1,onCancelClick:this.$62,onConfirmClick:this.$61,title:b("FBPaymentsCheckoutStrings").getDonationLargeAmountConfirmDialogTitle()}))}var I;if(this.state.altPayCancelledError){C=this.__getCheckoutAlertDialog();if(C!=null){E=b("FBPaymentsUniversalErrorUtils").getErrorTitle(this.state.altPayCancelledError);B=b("FBPaymentsUniversalErrorUtils").getUserFacingErrorMessage(this.state.altPayCancelledError);E&&B&&(I=m.jsx(C,{isShown:!0,confirmButtonLabel:this.__getAltPayCancelledDialogButtonLabel(),description:B,logger:this.$1,onConfirmClick:this.$34,title:E}))}}if(!c||this.state.hasInitializationError){A=this.__getLoadingView();f=m.jsx(A,{showLockSpinner:!0});C=b("FBPaymentsUniversalErrorUtils").getErrorDescription(this.state.updateCheckoutLoadError);E=this.state.hasInitializationError?b("gkx")("676858")?(B=C)!=null?B:b("FBPaymentsCheckoutStrings").getCheckoutInitializationErrorMessage():String(g._(function(a,b){return a._("This action can't be completed at this time due to a temporary system error. Please come back later and try again.")},{})):void 0;f=m.jsx(A,{loadingText:E,logger:this.$1,loggerExtraData:{item_loading:c?null:"contentConfiguration"},showError:this.state.hasInitializationError,showLockSpinner:!0})}else{C=this.state.finalPriceList;B=c.payActionContent;A=c.entity;if(A){E=this.__getEntityHeaderContainer();j=m.jsx(E,{entity:A})}if(!!c.newPriceTable||this.isPriceListValid(C)){E=this.__getPriceTableComponent();A=!x&&!!((A=this.props)!=null?(A=A.checkoutExtraProps)!=null?A.showTaxDisclaimer:A:A)&&((A=this.state.paymentMethodData)!=null?A.selectedBillingCountry:A)===b("FBPaymentsCountryCodes").US;l=m.jsx(E,{hidePriceTable:!!((E=this.props)!=null?(E=E.checkoutExtraProps)!=null?E.hidePriceTable:E:E),hideTotal:!!((E=this.props)!=null?(E=E.checkoutExtraProps)!=null?E.hidePriceTableTotal:E:E),isCalculating:this.state.isUpdatingCheckout,isCollapsed:!!((E=this.props)!=null?(E=E.checkoutExtraProps)!=null?E.isPriceTableCollapsedInitially:E:E),newPriceTable:c.newPriceTable,logger:this.$1,priceList:C,showTaxDisclaimer:A,showTotalOnly:(E=this.props.checkoutExtraProps)==null?void 0:E.showTotalOnly,customTotalLabel:(A=this.props.checkoutExtraProps)==null?void 0:A.customTotalLabel})}E=this.state.buttonPrice;var J;if(c.newPriceTable)J=c.newPriceTable.totalPrice.displayPrice,E=c.newPriceTable.totalPrice.price,x&&(E=b("FBPaymentsFreeTrialExtensionUtil").getFreeTrialPrice(E.currency));else if(this.isPriceListValid(C)){A=b("FBPaymentsPriceListHelper").calculateTotal(C);C=A.currency;C&&(E=x?b("FBPaymentsFreeTrialExtensionUtil").getFreeTrialPrice(C):{amount:A.amount.toString(),currency:C})}A=this.getPaymentInfo().extraData;var K;C=((C=this.state)!=null?(C=C.frequencySelectorData)!=null?C.subscriptionType:C:C)||(A==null?void 0:A.subscriptionType);C&&(K={type:C,price:E});((A=this.props)==null?void 0:(C=A.checkoutExtraProps)==null?void 0:C.hidePayButtonPrice)&&(E=null);A=this.__getPayActionRowContainer();C=this.getPayActionTitle(B,this.state.paymentMethodData);n=m.jsx(A,{actionTitle:C,backButton:this.props.backButton||B.backButton,checkoutStep:this.state.step,configuration:B,isLoading:this.state.step===u.PAYMENT_PROCESSING,logger:this.$1,onBackButtonClick:function(){a.__handleBackButtonClick(!1)},onPayButtonClick:this.$44,payButtonEnabled:this.$43(),price:E,displayPrice:J,renderInline:v,subscriptionTermsDetails:K,termsAndPolicies:this.state.termsAndPolicies});r=this.state.activeExtension!==null;s=this.state.activeExtensionForVerification!==null;t=this.state.activeExtensionForVerification===q.PIN_VERIFICATION;A=c.purchaseInfo;for(var C=0;C<A.length;C++){B=A[C];E=this.getExtensionName(B);c=this.state.activeExtension===E;var L=this.state.activeExtensionForVerification===E,M=this.$47(E),N=t&&y?!1:r&&!c||s&&!L||this.state.showUpfrontAddressCollection&&E!==q.SHIPPING_ADDRESS;o.push(m.jsx("div",{style:{display:N||M?"none":""},children:this.$74(B,c,L)},E))}M=(N=this.getSelectedPaymentMethod())==null?void 0:N.id;this.state.shouldEnablePaypal&&M!=null&&this.$73(M);if(this.state.step===u.NUX){B=this.__getNUXContainer();d=m.jsx(B,{onBackButtonClick:function(){a.__handleBackButtonClick(!1)},onContinueButtonClick:this.$32,logger:this.$1})}else if(this.state.step===u.PSD_AGREEMENT_NUX){c=this.__getPSDAgreementNUXContainer();d=m.jsx(c,{logger:this.$1,onAccepted:this.$32,onBackButtonClick:function(){a.__handleBackButtonClick(!1)},paymentType:this.getPaymentType(),psdAgreementID:this.props.psdAgreementID})}else if(this.state.step===u.PIN){L=this.__getPINFlowContainer();e=m.jsx(L,{flowStep:this.$46(),onCancel:this.$72,onSuccess:this.$41,pinCreationFlowType:(E=this.state.paymentSecurity)==null?void 0:E.fbpay_pin_creation_flow_type,redirectFromPaypalURL:this.state.redirectFromPaypalURL,title:this.$75()})}else if(this.state.step===u.PIN_BACKLOADED){C=this.__getPINFlowContainer();e=m.jsx(C,{flowStep:k.CREATE_PIN,onCancel:function(){a.setState({step:u.CONFIRMATION})},onSuccess:function(){b("FBPaymentsCheckoutActions").createPINSuccess(),a.setState({step:u.CONFIRMATION})},pinCreationFlowType:(A=this.state.paymentSecurity)==null?void 0:A.fbpay_pin_creation_flow_type})}N=this.state.step===u.INITIALIZING||!this.isCheckoutInitialized()||this.state.step===u.PAYMENT_PROCESSING_EXTENDED||this.state.shouldEnablePaypal;if(N){M=this.__getLoadingView();f=m.jsx(M,{loadingText:this.state.paymentProcessingMessage,logger:this.$1,loggerExtraData:{item_loading:"checkout"},showLockSpinner:!0})}if(this.state.step===u.CONFIRMATION||this.state.step===u.PIN_BACKLOADED){B=this.__getConfirmationContainer();p=m.jsx(B,{configuration:this.getConfirmationConfiguration(),onBackloadedPINCreationClick:function(){a.setState({step:u.PIN_BACKLOADED})},onConfirmationDoneClick:this.$33.bind(this,!0),enableInlineBackloadedPINCreationView:(c=this.props.checkoutExtraProps)==null?void 0:c.enableInlineBackloadedPINCreationView,onExtensionsUpdate:this.$36,paymentInfo:this.getPaymentInfo(),paymentSecurity:this.state.paymentSecurity,researchSurvey:this.$37()})}}L=this.__getCheckoutFlowView();E=this.$75(x);return m.jsx(b("FBPaymentsCheckoutContext").Provider,{value:this.$48(),children:m.jsx(L,{banner:this.state.banner,checkoutErrors:this.state.errors,checkoutHeader:this.props.checkoutHeader,confirmationContainer:p,contactSupportContainer:F,countdownTimerEndTime:this.__countdownTimerEndTime,dialogTitle:E,dialogWidth:this.state.dialogWidth||void 0,disableClose:this.state.step===u.PAYMENT_PROCESSING||this.state.step===u.PAYMENT_PROCESSING_EXTENDED,entityHeaderContainer:j,exitCheckoutConfirmDialog:G,donationLargeAmountConfirmDialog:H,altPayCancelledDialog:I,extensionContainers:o,hideCheckoutHeader:this.props.hideCheckoutHeader,isCheckoutDialogShown:this.state.isCheckoutDialogShown,isCometView:this.props.isCometView,isExtensionActive:r,isExtensionActiveForVerification:s,isPINActiveAndExtensionsDisplay:t&&y,isProcessing:this.state.step===u.PAYMENT_PROCESSING,logger:this.$1,loadingView:f,nuxContainer:d,onBackButtonClick:function(){a.__handleBackButtonClick(!1)},onDialogClose:this.__handleDialogClose,payActionRowContainer:n,priceTable:l,showUpfrontAddressCollection:this.state.showUpfrontAddressCollection,renderInline:v,renderInlineWithPadding:w,userFacingErrorNotice:D,verificationFlowContainer:z,pinFlowContainer:e})})};d.__scrollToTop=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__scrollToTop")};d.__shouldUseBackButtonOnConfirmedExit=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__shouldUseBackButtonOnConfirmedExit")};d.__connectAltPay=function(a){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__connectAltPay")};d.__connectPayPal=function(a){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__connectPayPal")};d.__connectRazorPay=function(a){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__connectRazorPay")};d.__closeRazorPayPopup=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__closeRazorPayPopup")};d.__getExtensionManager=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getExtensionManager")};d.__getCheckoutFlowView=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getCheckoutFlowView")};d.__getNUXContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getNUXContainer")};d.__getPSDAgreementNUXContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getPSDAgreementNUXContainer")};d.__getLoadingView=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getLoadingView")};d.__getConfirmationContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getConfirmationContainer")};d.__getEntityHeaderContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getEntityHeaderContainer")};d.__getPayActionRowContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getPayActionRowContainer")};d.__getPINFlowContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getPINFlowContainer")};d.__getVerificationFlowContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getVerificationFlowContainer")};d.__getUserFacingErrorNotice=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getUserFacingErrorNotice")};d.__getContactSupportContainer=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getContactSupportContainer")};d.__isExitCheckoutConfirmDialogEnabled=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__isExitCheckoutConfirmDialogEnabled")};d.__isExtensionDisplayWhenValidatePIN=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__isExtensionDisplayWhenValidatePIN")};d.__getCheckoutAlertDialog=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getCheckoutAlertDialog")};d.__getExitCheckoutConfirmDialog=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getExitCheckoutConfirmDialog")};d.__getExitCheckoutConfirmDialogCancelButtonLabel=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getExitCheckoutConfirmDialogCancelButtonLabel")};d.__getExitCheckoutConfirmDialogConfirmButtonLabel=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getExitCheckoutConfirmDialogConfirmButtonLabel")};d.__getDonationLargeAmountConfirmDialog=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getDonationLargeAmountConfirmDialog")};d.__getAltPayCancelledDialogButtonLabel=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getAltPayCancelledDialogButtonLabel")};d.__getRazorPayCallbackURL=function(a){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getRazorPayCallbackURL")};d.__getPriceTableComponent=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getPriceTableComponent")};d.__getAPI=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getAPI")};d.__getLogger=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getLogger")};d.__startChannelManager=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__startChannelManager")};d.__getFunnelLoggingPlatform=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getFunnelLoggingPlatform")};d.__getIsDesktop=function(){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getIsDesktop")};d.__getOpenSurveyRequest=function(a){return b("abstractMethod")("FBPaymentsCheckoutV2FlowContainerBase","__getOpenSurveyRequest")};return c}(m.Component);d.propTypes={checkoutExtraProps:(f=b("prop-types")).object,configuration:a.isRequired,dialogTitle:f.node,enableCheckoutNUX:f.bool,extraDataForLogging:f.object,hideCheckoutHeader:f.bool,onCheckoutClosed:f.func,onCheckoutSuccessCallback:f.func,onConfirmationClosed:f.func,paymentModuleFlowType:f.oneOf(Object.values(b("FBPaymentsModulesFlowType"))).isRequired};d.defaultProps={paymentModuleFlowType:b("FBPaymentsModulesFlowType").CHECKOUT};e.exports=d}),null);
__d("FBPaymentsBanner.react",["cx","FBPayCheckoutWebFunnelLoggingUtils","FBPaymentsCheckoutContext","FBPaymentsLoggerConstants","FDSText.react","FlexLayout.react","Image.react","Link.react","React","TextWithEntities.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBPayCheckoutWebFunnelLoggingUtils").webFunnelLogFBPayCheckout,i=b("FBPaymentsLoggerConstants").LoggerEvent,j=b("FBPaymentsLoggerConstants").LoggerFlowStep,k=b("React");c=b("React");var l=c.useContext,m=18;function a(a){var c=a.banner;a=a.logger;var d=a===void 0?null:a;a=l(b("FBPaymentsCheckoutContext"));var e=a.funnelLoggingSessionID;if(!c)return null;a=c.description_with_entity;var f=c.image_url;c=c.title;var g=a==null?void 0:a.ranges;a=a==null?void 0:a.text;var n=function(){d!=null&&d.setFlowStep(j.CHECKOUT_BANNER_LEARN_MORE).setEventName(i.CLICK).log(),e!=null&&h("fbpay_nux_banner_learn_more_click",e)};d!=null&&d.setFlowStep(j.CHECKOUT_BANNER).setEventName(i.DISPLAY).log();return k.jsx("div",{className:"_8blz",children:k.jsx(b("FlexLayout.react"),{justify:"all",align:"center",children:k.jsxs(b("FlexLayout.react"),{children:[k.jsx(b("FlexLayout.react"),{children:k.jsx(b("Image.react"),{src:f,width:m,height:m,className:"_3-91"})}),k.jsxs(b("FlexLayout.react"),{direction:"vertical",children:[k.jsx(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold",children:c}),k.jsx(b("FDSText.react"),{color:"secondary",size:"body2",children:k.jsx(b("TextWithEntities.react"),{interpolator:function(a,c){c=(c.entity||{}).url;return c==null||c==void 0?k.jsx("span",{children:a}):k.jsx(b("Link.react"),{onClick:n,href:c,target:"_blank",children:a})},ranges:g,text:a})})]})]})})})}e.exports=a}),null);
__d("FBPaymentsCheckoutV2FlowViewBase.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c=440;d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.__isNUX=function(){return!!this.props.nuxContainer};c.__isExtensionActive=function(){return this.props.isExtensionActive};c.__isLoading=function(){return!!this.props.loadingView};c.__isConfirmation=function(){return!!this.props.confirmationContainer};c.__shouldHideExtensionBecauseExtensionActiveForVerification=function(){return this.props.isExtensionActiveForVerification&&!this.props.isPINActiveAndExtensionsDisplay};c.__shouldShowNUX=function(){return this.__isNUX()};c.__shouldShowCountdownTimer=function(){return!!this.props.countdownTimerEndTime&&!this.__isLoading()&&!this.__isConfirmation()};c.__shouldShowHeader=function(){return!this.props.hideCheckoutHeader&&!this.__isNUX()&&!this.__isExtensionActive()&&!this.__isLoading()&&!this.__isConfirmation()&&!this.__shouldHideExtensionBecauseExtensionActiveForVerification()&&!this.__shouldShowContactSupportScreen()&&!this.__shouldShowPINFlow()};c.__shouldShowLoading=function(){return this.__isLoading()};c.__shouldShowContactSupportScreen=function(){return!!this.props.contactSupportContainer};c.__shouldShowVerificationFlow=function(){return!!this.props.verificationFlowContainer};c.__shouldShowPINFlow=function(){return!!this.props.pinFlowContainer};c.__shouldDisableForProcessing=function(){return this.props.isProcessing};c.__shouldShowConfirmation=function(){return this.__isConfirmation()};c.__shouldShowEntityHeader=function(){return!this.__isNUX()&&!this.__isExtensionActive()&&!this.__isLoading()&&!this.__isConfirmation()&&!this.__shouldHideExtensionBecauseExtensionActiveForVerification()&&!this.__shouldShowContactSupportScreen()};c.__shouldShowPriceTable=function(){return!this.__isNUX()&&!this.__isExtensionActive()&&!this.__isLoading()&&!this.__isConfirmation()&&!this.__shouldHideExtensionBecauseExtensionActiveForVerification()&&!this.__shouldShowUpfrontAddressCollection()&&!!this.props.priceTable&&!this.__shouldShowContactSupportScreen()};c.__shouldShowExtensions=function(){return!this.__isNUX()&&!this.__isLoading()&&!this.__isConfirmation()&&!this.__shouldShowContactSupportScreen()};c.__shouldShowPayActionRow=function(){return!this.__isNUX()&&!this.__isExtensionActive()&&!this.__isLoading()&&!this.__isConfirmation()&&!this.__shouldHideExtensionBecauseExtensionActiveForVerification()&&!this.__shouldShowUpfrontAddressCollection()&&!this.__shouldShowContactSupportScreen()};c.__shouldShowUpfrontAddressCollection=function(){return this.props.showUpfrontAddressCollection};c.__maybeShowCheckoutError=function(){return!!this.props.checkoutErrors&&!this.__shouldShowContactSupportScreen()&&!this.__isExtensionActive()};c.__shouldShowDialogTitle=function(){return!this.__shouldShowContactSupportScreen()};c.getBackButtonText=function(){return g._("Back")};c.getCancelButtonText=function(){return g._("Cancel")};c.getCheckoutHeaderTitle=function(){return this.props.dialogTitle||g._("Checkout")};return b}(a.Component);d.defaultProps={dialogWidth:c};e.exports=d}),null);
__d("FBPaymentsCountdownTimerBadge.react",["cx","FBPaymentsCountdownTimer.react","FDSText.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["className"]);return h.jsx("span",{className:c,children:h.jsx(b("FDSText.react"),{size:"meta1",children:h.jsx("span",{className:"_6xqk",children:h.jsx(b("FBPaymentsCountdownTimer.react"),babelHelpers["extends"]({},a))})})})};return c}(h.Component);e.exports=a}),null);
__d("FBPaymentsCheckoutV2FlowView.react",["cx","DialogExpansion","FBPaymentsBanner.react","FBPaymentsCheckoutContext","FBPaymentsCheckoutV2FlowViewBase.react","FBPaymentsCountdownTimerBadge.react","FBPaymentsLoadingView.react","LayerFadeOnHide","React","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","XUINotice.react","cxMargin","isMobilePlatform"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$FBPaymentsCheckoutV2FlowView1=function(){c.props.onDialogClose()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.__getFlowVersionStyleClass=function(){return"_3kok"};d.__shouldShowScrollableContent=function(){return this.context.paymentType=="mor_game_tipping_token"};d.renderCheckoutError=function(){var a=this.props.checkoutErrors,c;a&&(a.global!=null?c=h.jsx("div",{className:"_3-98",children:h.jsxs(b("XUINotice.react"),{className:"_q-q","data-testid":void 0,use:"warn",children:[a.global,a.additional]})}):this.props.userFacingErrorNotice!=null&&(c=h.jsx("div",{className:"_3-98",children:this.props.userFacingErrorNotice})));return c};d.render=function(){var a=navigator.userAgent.match(/iPhone/),c;if(this.__shouldShowVerificationFlow())c=this.props.verificationFlowContainer;else{var d=null;this.__shouldShowHeader()&&this.props.checkoutHeader!=null&&(d=this.props.checkoutHeader);a=h.jsxs("div",{children:[h.jsx("div",{className:this.__maybeShowCheckoutError()?"":"hidden_elem",children:this.renderCheckoutError()}),h.jsx("div",{className:this.__shouldShowContactSupportScreen()?"":"hidden_elem",children:this.props.contactSupportContainer}),h.jsx("div",{className:this.__shouldShowNUX()?"":"hidden_elem",children:this.props.nuxContainer}),h.jsx("div",{className:this.__shouldShowLoading()?"":"hidden_elem",children:this.props.loadingView}),h.jsx("div",{className:this.__shouldShowConfirmation()?"":"hidden_elem",children:this.props.confirmationContainer}),h.jsxs("div",{className:"_1jnq",children:[h.jsx(b("FBPaymentsLoadingView.react"),{loadingIndicatorVisible:!1,overlay:!0,visible:this.__shouldDisableForProcessing()}),h.jsx("div",{className:this.__shouldShowConfirmation()||this.__shouldShowLoading()||this.context.paymentType==="mor_facebook_shop"?"hidden_elem":"",children:h.jsx(b("FBPaymentsBanner.react"),{banner:this.props.banner,logger:this.props.logger})}),h.jsx("div",{className:(this.__shouldShowEntityHeader()?"":"hidden_elem")+" _2pit",children:this.props.entityHeaderContainer}),h.jsx("div",{className:(this.__shouldShowPriceTable()?"":"hidden_elem")+" _2ph_",children:this.props.priceTable}),h.jsx("div",{className:(this.__shouldShowExtensions()?"":"hidden_elem")+(Boolean(!this.props.renderInline)&&!this.__isExtensionActive()&&!this.__shouldHideExtensionBecauseExtensionActiveForVerification()?" _1j8c":""),children:this.props.extensionContainers}),h.jsx(b("XUIDialog.react"),{className:"_8wni"+(a?" _8wnz":""),label:"PINFlowDialog",behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},shown:this.__shouldShowPINFlow(),layerHideOnBlur:!1,width:b("isMobilePlatform")?255:445,children:this.props.pinFlowContainer})]}),h.jsx("div",{className:this.__shouldShowPayActionRow()?"":"hidden_elem",children:this.props.payActionRowContainer})]});if(Boolean(this.props.renderInline))return h.jsxs("div",{className:(this.props.renderInlineWithPadding?"_2ph_":"")+" _3kok",children:[d,a,this.props.altPayCancelledDialog]});d=this.props.countdownTimerEndTime;d=this.__shouldShowCountdownTimer()&&d!=null?h.jsx(b("FBPaymentsCountdownTimerBadge.react"),{className:"_3-91",endTime:d}):null;d=this.__shouldShowDialogTitle()?h.jsxs(b("XUIDialogTitle.react"),{className:"_qu3",showCloseButton:!this.props.disableClose,children:[this.getCheckoutHeaderTitle(),d]}):null;c=h.jsxs("div",{className:this.__shouldShowScrollableContent()?"_933j":"",children:[d,h.jsx(b("XUIDialogBody.react"),{children:a})]})}return Boolean(this.props.isCometView)?h.jsx("div",{className:this.__getFlowVersionStyleClass(),children:c}):h.jsxs(h.Fragment,{children:[h.jsx(b("XUIDialog.react"),{label:"CheckoutDialog",behaviors:{DialogExpansion:b("DialogExpansion")},className:this.__getFlowVersionStyleClass(),"data-testid":void 0,isStrictlyControlled:!0,layerHideOnBlur:!1,onHide:this.$FBPaymentsCheckoutV2FlowView1,shown:this.props.isCheckoutDialogShown,width:this.props.dialogWidth,children:c}),this.props.exitCheckoutConfirmDialog,this.props.donationLargeAmountConfirmDialog,this.props.altPayCancelledDialog]})};d.__shouldShowOrderSummary=function(){return!this.__isNUX()&&!this.__isLoading()&&!this.__isConfirmation()&&!this.__shouldHideExtensionBecauseExtensionActiveForVerification()};return c}(b("FBPaymentsCheckoutV2FlowViewBase.react"));a.contextType=b("FBPaymentsCheckoutContext");e.exports=a}),null);
__d("FBPaymentsCouponCodeActions",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConstants","FBPaymentsDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("FBPaymentsCheckoutConstants").Extensions;var g={EXTENSION_NAME:a.COUPON_CODE,types:b("keyMirror")({COUPON_CODE_ENTERED:null,COUPON_CODE_REMOVED:null,DISMISS_FORM:null,DISPLAY_FORM:null,SAVE_COUPON_CODE:null}),displayForm:function(){b("FBPaymentsDispatcher").dispatch({type:g.types.DISPLAY_FORM})},dismissForm:function(){b("FBPaymentsDispatcher").dispatch({type:g.types.DISMISS_FORM})},couponCodeEntered:function(a){b("FBPaymentsDispatcher").dispatch({type:g.types.COUPON_CODE_ENTERED,data:a})},saveCouponCode:function(){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.SAVE_COUPON_CODE,updateData:{}})},couponCodeRemoved:function(){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.COUPON_CODE_REMOVED,updateData:{}})}};e.exports=g}),null);
__d("FBPaymentsFrequencySelectorActions",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConstants","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("FBPaymentsCheckoutConstants").Extensions;var g={EXTENSION_NAME:a.FREQUENCY_SELECTOR,types:b("keyMirror")({FREQUENCY_SELECTOR_OPTION_CLICK:null,FREQUENCY_SELECTOR_LOADED:null}),frequencySelectorOptionClick:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.FREQUENCY_SELECTOR_OPTION_CLICK,updateData:a})},frequencySelectorLoaded:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.FREQUENCY_SELECTOR_LOADED,updateData:{frequencySelectorOptionsData:a}})}};e.exports=g}),null);
__d("FBPaymentsNationalitySelectorActions",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConstants","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("FBPaymentsCheckoutConstants").Extensions;var g={EXTENSION_NAME:a.NATIONALITY_SELECTOR,types:b("keyMirror")({NATIONALITY_SELECTOR_LOADED:null,NATIONALITY_SELECTOR_OPTION_CLICK:null}),nationalitySelectorOptionClick:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.NATIONALITY_SELECTOR_OPTION_CLICK,updateData:a})},nationalitySelectorLoaded:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.NATIONALITY_SELECTOR_LOADED,updateData:{nationalitySelectorOptionsData:a}})}};e.exports=g}),null);
__d("FBPaymentsTaxInfoActions",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConstants","FBPaymentsDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("FBPaymentsCheckoutConstants").Extensions;var g={EXTENSION_NAME:a.TAX_INFO,types:b("keyMirror")({TAX_ID_UPDATED:null,TAX_ID_LOADED:null,TAX_ID_SAVED:null}),newSavedTaxID:function(a){b("FBPaymentsDispatcher").dispatch({type:g.types.TAX_ID_SAVED,data:a})},taxIDUpdated:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.TAX_ID_UPDATED,updateData:a})},taxIDLoaded:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.TAX_ID_LOADED,updateData:a})},registerExtensionDataPreparer:function(a){b("FBPaymentsCheckoutActions").registerExtensionDataPreparer({extensionDataPreparer:a,extensionName:g.EXTENSION_NAME})}};e.exports=g}),null);
__d("FBPaymentsUserInfoOptInActions",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConstants","FBPaymentsDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("FBPaymentsCheckoutConstants").Extensions;var g={EXTENSION_NAME:a.USER_INFO_OPT_IN,types:b("keyMirror")({OPT_IN_TOGGLED:null}),toggleOptIn:function(a){b("FBPaymentsDispatcher").dispatch({type:g.types.OPT_IN_TOGGLED,data:a}),b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.OPT_IN_TOGGLED,updateData:{}})}};e.exports=g}),null);
__d("FBPaymentsContactInfoStoreBase",["FBPaymentsCheckoutActions","FBPaymentsContactInfoActions","FBPaymentsContactInfoTypes","FBPaymentsDispatcher","FluxLoadObjectStore","immutable","abstractMethod"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("FBPaymentsDispatcher"))||this}var d=c.prototype;d.reduce=function(a,c){var d=c.data;switch(c.type){case b("FBPaymentsCheckoutActions").types.UNMOUNT_CHECKOUT_FLOW:return this.getInitialState();case b("FBPaymentsContactInfoActions").types.CONTACT_NAME_LOADED:return this.__handleOne(a,b("FBPaymentsContactInfoTypes").NAME,d.contactName);case b("FBPaymentsContactInfoActions").types.CONTACT_NAME_ERROR:return this.__handleOne(a,b("FBPaymentsContactInfoTypes").NAME,d.error);case b("FBPaymentsContactInfoActions").types.CONTACT_EMAILS_LOADED:return this.__handleOne(a,b("FBPaymentsContactInfoTypes").EMAIL,d.contactEmails);case b("FBPaymentsContactInfoActions").types.CONTACT_EMAILS_ERROR:return this.__handleOne(a,b("FBPaymentsContactInfoTypes").EMAIL,d.error);case b("FBPaymentsContactInfoActions").types.CONTACT_PHONE_NUMBERS_LOADED:return this.__handleOne(a,b("FBPaymentsContactInfoTypes").PHONE_NUMBER,d.contactPhoneNumbers);case b("FBPaymentsContactInfoActions").types.CONTACT_PHONE_NUMBERS_ERROR:return this.__handleOne(a,b("FBPaymentsContactInfoTypes").PHONE_NUMBER,d.error);case b("FBPaymentsContactInfoActions").types.MAILING_ADDRESSES_LOADED:return this.__handleOne(a,b("FBPaymentsContactInfoTypes").MAILING_ADDRESS,d.mailingAddresses);case b("FBPaymentsContactInfoActions").types.MAILING_ADDRESSES_ERROR:return this.__handleOne(a,b("FBPaymentsContactInfoTypes").MAILING_ADDRESS,d.error);case b("FBPaymentsContactInfoActions").types.CONTACT_CURRENT_COUNTRY_LOADED:return this.__handleOne(a,b("FBPaymentsContactInfoTypes").CURRENT_COUNTRY,d.contactCurrentCountry);case b("FBPaymentsContactInfoActions").types.CONTACT_CURRENT_COUNTRY_ERROR:return this.__handleOne(a,b("FBPaymentsContactInfoTypes").CURRENT_COUNTRY,d.error);default:return a}};d.fetch=function(a){this.__load(a)};d.__load=function(a){this.__getAPI().fetchContactInfosByType(a)};d.__getAPI=function(){return b("abstractMethod")("FBPaymentsContactInfoStoreBase","__getAPI")};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("FBPaymentsContactInfoStore",["FBPaymentsContactInfoStoreBase","FBPaymentsModulesAPI"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getAPI=function(){return b("FBPaymentsModulesAPI")};return c}(b("FBPaymentsContactInfoStoreBase"));e.exports=new a()}),null);
__d("FBPaymentsContactInfoExtensionStore",["FBPaymentsContactInfoExtensionStoreBase","FBPaymentsContactInfoStore"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getContactInfoStore=function(){return b("FBPaymentsContactInfoStore")};return c}(b("FBPaymentsContactInfoExtensionStoreBase"));e.exports=new a()}),null);
__d("AffirmPopupManager",[],(function(a,b,c,d,e,f){"use strict";a={_instances:{},register:function(a,b){Object.prototype.hasOwnProperty.call(this._instances,a),this._instances[a]=b},processPopup:function(a){var b=a.instance_id;!Object.prototype.hasOwnProperty.call(this._instances,b);b=this._instances[b];b.close(a)}};e.exports=a}),null);
__d("AffirmPopup",["AffirmPopupManager","PopupWindow","XFBSbxAffirmInitController","XShopPaymentAffirmRedirectController","guid"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.width=600,this.height=600,this.timerID=0,this.pollingInterval=100,this.checkoutObject=a.affirmCheckoutObject,this.cancelHandler=a.onCancel,this.successHandler=a.onSuccess,this.$1="affirmPopup$"+b("guid")(),b("AffirmPopupManager").register(this.$1,this)}var c=a.prototype;c.open=function(){var a=b("XShopPaymentAffirmRedirectController").getURIBuilder().setString("instance_id",this.$1).getURI().setDomain("portal.facebook.com").setProtocol("https").toString();a=babelHelpers["extends"]({merchant:{user_confirmation_url:a,user_cancel_url:a,user_confirmation_url_action:"GET",name:"Facebook"}},this.checkoutObject);a=JSON.stringify(a);a=b("XFBSbxAffirmInitController").getURIBuilder().setString("checkout_object",a).getURI().setDomain("www.fbsbx.com").setProtocol("https").toString();this.popup=b("PopupWindow").open(a,this.height,this.width);this.setupPopupOpenCheck()};c.setupPopupOpenCheck=function(){this.timerID=setInterval(function(){this.popup&&this.popup.closed&&(this.closePopup(),this.cancelHandler&&this.cancelHandler())}.bind(this),this.pollingInterval)};c.close=function(a){this.closePopup(),a.checkout_token?this.successHandler(a):this.cancelHandler()};c.closePopup=function(){this.popup&&(this.popup.close(),this.popup=null)};return a}();e.exports=a}),null);
__d("FBPaymentsPaymentMethodStore",["FBPaymentsModulesAPI","FBPaymentsPaymentMethodStoreBase"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getAPI=function(){return b("FBPaymentsModulesAPI")};return c}(b("FBPaymentsPaymentMethodStoreBase"));e.exports=new a()}),null);
__d("FBPaymentsPaymentMethodExtensionStore",["invariant","AffirmPopup","FBPaymentsLoggerConstants","FBPaymentsModulesAPI","FBPaymentsPaymentMethodSelectorExtensionStoreBase","FBPaymentsPaymentMethodStore","FBPaymentsPerfLogger","PaypalPopup","URI","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i=100,j=500;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getPaymentMethodStore=function(){return b("FBPaymentsPaymentMethodStore")};d.__getAPI=function(){return b("FBPaymentsModulesAPI")};d.__connectPayPal=function(a){var c=this,d=this.getState();d=d.connectPayPalURL;d||g(0,2786);d=new(h||(h=b("URI")))(d);d=d.getQueryData();var e=babelHelpers["extends"]({placement:"cm_payment_methods_tab"},d);delete e.redirect_url;d=new(b("PaypalPopup"))(e).setIsDigitalGoodsFlow(!1).setIsFinalDigitalGoodFlow(!0).setWidth(j).setHeight(j).setHandler(function(d){d.payment_type=a.paymentType,d.paypal_ba_type=e.paypal_ba_type,d.session_id=b("nullthrows")(a.logger).getSessionID(),c.__getAPI().completePayPal(d,a.onSuccess,a.onError)}).setCancelHandler(a.onCancel).setPollingInterval(i);b("FBPaymentsPerfLogger").logPaymentEvent(b("FBPaymentsLoggerConstants").PerformanceLogging.PAYPAL_FLOW_OPENED);d.open()};d.__connectAffirm=function(a){a=new(b("AffirmPopup"))(a);a.open()};return c}(b("FBPaymentsPaymentMethodSelectorExtensionStoreBase"));e.exports=new a()}),null);
__d("FBPaymentsShippingAddressActions",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConstants","FBPaymentsDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("FBPaymentsCheckoutConstants").Extensions;var g={EXTENSION_NAME:a.SHIPPING_ADDRESS,types:b("keyMirror")({ADDRESS_FORM_CONFIG_FETCH_ERROR:null,ADDRESS_FORM_CONFIG_FETCHED:null,CLEAR_SAVE_ERRORS:null,MAILING_ADDRESS_EDIT_CANCELED:null,MAILING_ADDRESS_EDIT_SELECTED:null,MAILING_ADDRESS_ENTERED_CLEARED:null,MAILING_ADDRESS_EXTENSION_HIDDEN_CHANGED:null,MAILING_ADDRESS_SAVE_ERROR:null,MAILING_ADDRESS_SAVED:null,MAILING_ADDRESS_SELECTED:null,MAILING_ADDRESS_SUGGESTED:null,MAILING_ADDRESS_SUGGESTED_CLEARED:null,NEW_MAILING_ADDRESS_FORM_DATA_CHANGE:null,SAVE_MAILING_ADDRESS:null,TOGGLE_MAILING_ADDRESS_FORM:null}),mailingAddressExtensionHiddenStatusChanged:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.MAILING_ADDRESS_EXTENSION_HIDDEN_CHANGED,updateData:a})},mailingAddressSelected:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.MAILING_ADDRESS_SELECTED,updateData:a})},mailingAddressSuggested:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.MAILING_ADDRESS_SUGGESTED,updateData:a})},mailingAddressSuggestedCleared:function(){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.MAILING_ADDRESS_SUGGESTED_CLEARED,updateData:{}})},mailingAddressEnteredCleared:function(){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.MAILING_ADDRESS_ENTERED_CLEARED,updateData:{}})},mailingAddressEditCanceled:function(){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.MAILING_ADDRESS_EDIT_CANCELED,updateData:{}})},mailingAddressEditSelected:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.MAILING_ADDRESS_EDIT_SELECTED,updateData:a})},saveMailingAddress:function(){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.SAVE_MAILING_ADDRESS,updateData:{}})},mailingAddressSaved:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.MAILING_ADDRESS_SAVED,updateData:a})},mailingAddressSaveError:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.MAILING_ADDRESS_SAVE_ERROR,updateData:a})},addressFormConfigFetched:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.ADDRESS_FORM_CONFIG_FETCHED,updateData:a})},addressFormConfigFetchError:function(a){b("FBPaymentsCheckoutActions").updateExtension({extensionName:g.EXTENSION_NAME,extensionActionType:g.types.ADDRESS_FORM_CONFIG_FETCH_ERROR,updateData:a})},newMailingAddressFormDataChange:function(a){b("FBPaymentsDispatcher").dispatch({type:g.types.NEW_MAILING_ADDRESS_FORM_DATA_CHANGE,data:a})},toggleMailingAddressForm:function(a){b("FBPaymentsDispatcher").dispatch({type:g.types.TOGGLE_MAILING_ADDRESS_FORM,data:a})},clearSaveErrors:function(){b("FBPaymentsDispatcher").dispatch({type:g.types.CLEAR_SAVE_ERRORS,data:{}})}};e.exports=g}),null);
__d("FBPaymentsShippingAddressExtensionStore",["FBPaymentsContactInfoStore","FBPaymentsShippingAddressExtensionStoreBase"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getContactInfoStore=function(){return b("FBPaymentsContactInfoStore")};return c}(b("FBPaymentsShippingAddressExtensionStoreBase"));e.exports=new a()}),null);
__d("FBPaymentsCheckoutV2Store",["FBPaymentsCheckoutV2StoreBase","FBPaymentsContactInfoExtensionStore","FBPaymentsPaymentMethodExtensionStore","FBPaymentsPINStore","FBPaymentsShippingAddressExtensionStore"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldConnectPayPalInCheckoutContainer=function(){return!1};d.__getContactInfoExtensionStore=function(){return b("FBPaymentsContactInfoExtensionStore")};d.__getPaymentMethodExtensionStore=function(){return b("FBPaymentsPaymentMethodExtensionStore")};d.__getShippingAddressExtensionStore=function(){return b("FBPaymentsShippingAddressExtensionStore")};d.__getPINVerificationExtensionStore=function(){return b("FBPaymentsPINStore")};return c}(b("FBPaymentsCheckoutV2StoreBase"));e.exports=new a()}),null);
__d("PaymentsFlowsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:PaymentsFlowsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:PaymentsFlowsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PaymentsFlowsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActorID=function(a){this.$1.actor_id=a;return this};c.setAdAccountID=function(a){this.$1.ad_account_id=a;return this};c.setClientAppUserID=function(a){this.$1.client_app_user_id=a;return this};c.setClientTime=function(a){this.$1.client_time=a;return this};c.setContainermodule=function(a){this.$1.containermodule=a;return this};c.setContextID=function(a){this.$1.context_id=a;return this};c.setCountryCode=function(a){this.$1.country_code=a;return this};c.setCurrency=function(a){this.$1.currency=a;return this};c.setErrorCategory=function(a){this.$1.error_category=a;return this};c.setErrorCode=function(a){this.$1.error_code=a;return this};c.setErrorMessage=function(a){this.$1.error_message=a;return this};c.setErrorOrigin=function(a){this.$1.error_origin=a;return this};c.setErrorStacktrace=function(a){this.$1.error_stacktrace=a;return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setEventType=function(a){this.$1.event_type=a;return this};c.setExceptionClass=function(a){this.$1.exception_class=a;return this};c.setExternalSessionID=function(a){this.$1.external_session_id=a;return this};c.setFlowName=function(a){this.$1.flow_name=a;return this};c.setFlowStep=function(a){this.$1.flow_step=a;return this};c.setIncomingParams=function(a){this.$1.incoming_params=a;return this};c.setIsFree=function(a){this.$1.is_free=a;return this};c.setIsTestPayment=function(a){this.$1.is_test_payment=a;return this};c.setLoggingServiceID=function(a){this.$1.logging_service_id=a;return this};c.setMailingAddressID=function(a){this.$1.mailing_address_id=a;return this};c.setOrderID=function(a){this.$1.order_id=a;return this};c.setOtherProfileID=function(a){this.$1.other_profile_id=a;return this};c.setPaymentAccountID=function(a){this.$1.payment_account_id=a;return this};c.setPaymentID=function(a){this.$1.payment_id=a;return this};c.setPaymentMethodID=function(a){this.$1.payment_method_id=a;return this};c.setPaymentMethodType=function(a){this.$1.payment_method_type=a;return this};c.setPaymodExtraData=function(a){this.$1.paymod_extra_data=a;return this};c.setProduct=function(a){this.$1.product=a;return this};c.setProvider=function(a){this.$1.provider=a;return this};c.setRawAmount=function(a){this.$1.raw_amount=a;return this};c.setRedirectURL=function(a){this.$1.redirect_url=a;return this};c.setRequestID=function(a){this.$1.request_id=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setShippingOptionID=function(a){this.$1.shipping_option_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setUserFacingErrorCode=function(a){this.$1.user_facing_error_code=a;return this};c.setUserFacingMessage=function(a){this.$1.user_facing_message=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={actor_id:!0,ad_account_id:!0,client_app_user_id:!0,client_time:!0,containermodule:!0,context_id:!0,country_code:!0,currency:!0,error_category:!0,error_code:!0,error_message:!0,error_origin:!0,error_stacktrace:!0,event_name:!0,event_type:!0,exception_class:!0,external_session_id:!0,flow_name:!0,flow_step:!0,incoming_params:!0,is_free:!0,is_test_payment:!0,logging_service_id:!0,mailing_address_id:!0,order_id:!0,other_profile_id:!0,payment_account_id:!0,payment_id:!0,payment_method_id:!0,payment_method_type:!0,paymod_extra_data:!0,product:!0,provider:!0,raw_amount:!0,redirect_url:!0,request_id:!0,session_id:!0,shipping_option_id:!0,time:!0,user_facing_error_code:!0,user_facing_message:!0,weight:!0};e.exports=a}),null);
__d("FBPaymentsLogger",["FBPaymentsLoggerBase","PaymentsFlowsTypedLogger"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getLoggerInstance=function(){return new(b("PaymentsFlowsTypedLogger"))()};return c}(b("FBPaymentsLoggerBase"));e.exports=a}),null);
__d("FBPaymentsConfirmationConstants",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a={Extensions:b("keyMirror")({CUSTOM_EXTENSION:null})};e.exports=a}),null);
__d("FBPaymentsConfirmationContainerBase.react",["fbt","FBPaymentsConfirmationConstants","React","abstractMethod"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("FBPaymentsConfirmationConstants").Extensions;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={extensionData:new Map()};return b}var d=c.prototype;d.handleConfirmationExtensionUpdate=function(a,b){var c={extensionData:this.state.extensionData};c.extensionData.set(a,b.data);this.setState(c);this.props.onExtensionsUpdate(c.extensionData)};d.$1=function(a){var b=this,c=this.getExtensionName(a),d=a["class"];d=a.identifier===i.CUSTOM_EXTENSION?d:this.__getConfirmationExtensionManager().getConfirmationExtensionContainer(c);if(!d)throw Error("Unimplemented payments confirmation extension "+c);return h.jsx(d,{extensionConfiguration:a,onConfirmationExtensionUpdate:function(a){b.handleConfirmationExtensionUpdate(c,a)}})};d.getExtensionName=function(a){return a.extensionKey||a.identifier};d.getCustomReceiptText=function(){var a=this.props.paymentInfo&&this.props.paymentInfo.paymentItemType;return a==="nmor_checkout_experiences"?g._("Review order details"):null};d.getShouldShowBackloadedPINCreationView=function(){var a=this.props.paymentSecurity||{},b=a.user_has_pin;a=a.fbpay_pin_creation_flow_type;return!Boolean(b)&&a==="BACKLOADED"};d.render=function(){var a=this.__getView(),b=[],c=this.props.configuration.confirmationExtensions;for(var d=0;c&&d<c.length;d++){var e=c[d],f=this.getExtensionName(e);b.push(h.jsx("div",{children:this.$1(e)},f+d));f==="share"&&this.getShouldShowBackloadedPINCreationView()&&this.props.enableInlineBackloadedPINCreationView&&b.push(h.jsx("div",{children:this.__getInlineBackloadedPINCreationView()},"inlineBackloadedPINCreation"))}e=this.props.configuration;f=e.confirmationText;c=e.customConfirmationImage;d=e.doneButtonText;var g=e.doneButtonTrackingNodeType,i=e.enableReceiptFooterLink,j=e.forceHideReceiptCTA,k=e.merchantLogoUrl,l=e.receiptUrl,m=e.subscriptionConfirmationDetails,n=e.hideDoneButton;e=e.isPaymentStatusPending;return h.jsx(a,{confirmationText:f,customConfirmationImage:c,customReceiptText:this.getCustomReceiptText(),doneButtonText:d,doneButtonTrackingNodeType:g,enableInlineBackloadedPINCreationView:this.props.enableInlineBackloadedPINCreationView,enableReceiptFooterLink:i,forceHideReceiptCTA:j,handleConfirmationDone:this.props.onConfirmationDoneClick,hideDoneButton:n,isPaymentStatusPending:e,merchantLogoUrl:k,onBackloadedPINCreationClick:this.props.onBackloadedPINCreationClick,paymentSecurity:this.props.paymentSecurity,receiptUrl:l,researchSurvey:this.props.researchSurvey,subscriptionConfirmationDetails:m,children:b})};d.__getView=function(){return b("abstractMethod")("FBPaymentsConfirmationContainerBase","__getView")};d.__getInlineBackloadedPINCreationView=function(){return b("abstractMethod")("FBPaymentsConfirmationContainerBase","__getInlineBackloadedPINCreationView")};d.__getConfirmationExtensionManager=function(){return b("abstractMethod")("FBPaymentsConfirmationContainerBase","__getConfirmationExtensionManager")};return c}(h.Component);e.exports=a}),null);
__d("FBPaymentsConfirmationExtensionInterface.react",["FBPaymentsCheckoutConfigurationTypes","React","prop-types"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=b("FBPaymentsCheckoutConfigurationTypes").ConfirmationExtensionPropTypes;d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a.Component);d.propTypes={extensionConfiguration:c,onConfirmationExtensionUpdate:b("prop-types").func.isRequired};e.exports=d}),null);
__d("FBPaymentsConfirmationExtensionManagerBase",["FBPaymentsConfirmationConstants","FBPaymentsConfirmationExtensionInterface.react","abstractMethod"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsConfirmationConstants").Extensions;a=function(){function a(){}var c=a.prototype;c.getConfirmationExtensionContainer=function(a){if(!g[a])throw Error("Non-existent payments confirmation extension "+a);var b=this.__getConfirmationExtensionMap().get(a);if(!b)throw Error("Unimplemented payments confirmation extension "+a);return b};c.__getConfirmationExtensionMap=function(){return b("abstractMethod")("FBPaymentsConfirmationExtensionManagerBase","__getConfirmationExtensionMap")};return a}();e.exports=a}),null);
__d("FBPaymentsConfirmationExtensionManager",["FBPaymentsConfirmationExtensionManagerBase"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this)||this;b.confirmationExtensionMap=new Map();return b}var c=b.prototype;c.__getConfirmationExtensionMap=function(){return this.confirmationExtensionMap};return b}(b("FBPaymentsConfirmationExtensionManagerBase"));e.exports=new a()}),null);
__d("FBPayBackloadedPINCreationView.react",["ix","cx","FBPayGatingUtils","FBPaymentsCheckoutStrings","FDSButton.react","FDSText.react","FlexLayout.react","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("FBPaymentsCheckoutStrings").getBackloadedPINCreationButtonLabel,j=b("FBPaymentsCheckoutStrings").getBackloadedPINCreationDescription,k=b("FBPaymentsCheckoutStrings").getBackloadedPINCreationTitle,l=b("React");function a(a){var c=b("FBPayGatingUtils").isFBPayExperienceEnabled(),d=c?"flatWhite":"primary";return l.jsxs("div",{className:"_2ph_ _8n-q",children:[l.jsxs(b("FlexLayout.react"),{className:"_3-96",children:[l.jsx(b("FlexLayout.react"),{className:"_3-91",children:l.jsx(b("Image.react"),{src:g("1485718")})}),l.jsxs(b("FlexLayout.react"),{direction:"vertical",children:[l.jsx(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold",children:k()}),l.jsx(b("FDSText.react"),{color:"secondary",size:"body2",children:j()})]})]}),l.jsx("div",{className:c?"_8pyi":"",children:l.jsx(b("FDSButton.react"),{label:i(),onClick:a.onClick,size:"medium",use:d,width:"100%"})})]})}e.exports=a}),null);
__d("FBPaymentsConfirmationViewBase.react",["fbt","FBPayGatingUtils","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getConfirmationText=function(){var a;return(a=this.props.confirmationText)!=null?a:h.jsx("span",{children:g._("Thanks for your purchase!")})};d.getConfirmationTitle=function(){return g._("Confirmation")};d.getReceiptText=function(){var a;return(a=this.props.customReceiptText)!=null?a:g._("See receipt")};d.getPINSettingsText=function(){var a=b("FBPayGatingUtils").isFBPayExperienceEnabled();return a?g._("Manage Facebook Pay PIN"):null};d.getDoneButtonText=function(){var a;return(a=this.props.doneButtonText)!=null?a:g._("Done")};d.getShouldShowBackloadedPINCreationView=function(){var a=this.props.paymentSecurity||{},b=a.user_has_pin;a=a.fbpay_pin_creation_flow_type;return!Boolean(b)&&a==="BACKLOADED"};return c}(h.Component);e.exports=a}),null);
__d("PECurrency.react",["PECurrency","React","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){return g.jsx("span",{className:a.className,children:b("PECurrency").formatAmount(a.code,a.value,a.showSymbol,a.showIso,a.stripZeros,a.showThousandDelimiter)})};a.defaultProps={showSymbol:!0};a.propTypes={code:(c=b("prop-types")).string.isRequired,showIso:c.bool,showSymbol:c.bool,showThousandDelimiter:c.bool,stripZeros:c.bool,value:c.number.isRequired};e.exports=a}),null);
__d("FBPaymentsTextWithEntities.react",["React","TextWithEntities.react","immutable","linkifyEntityRange"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("immutable").List;function a(a){var c=a.textWithEntities,d=a.topSeparatorClassName,e=a.className,f=babelHelpers.objectWithoutPropertiesLoose(a,["textWithEntities","topSeparatorClassName","className"]);if(!c)return null;return Array.isArray(c)||c instanceof h?c.map(function(a,c){var e=c===0?null:d;return g.jsx("div",{className:e,children:g.jsx(b("TextWithEntities.react"),babelHelpers["extends"]({interpolator:b("linkifyEntityRange")},f,a))},c)}):g.jsx(b("TextWithEntities.react"),babelHelpers["extends"]({className:e,interpolator:b("linkifyEntityRange")},f,c))}e.exports=a}),null);
__d("FBPaymentsSubscriptionConfirmationView.react",["cx","FBPaymentsTextWithEntities.react","FDSText.react","FlexLayout.react","Image.react","React","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.renewTitle!=null?h.jsx(b("FDSText.react"),{color:"positive",display:"block",margin:"_3-96",size:"body1",weight:"bold",children:a.renewTitle}):null;return h.jsxs("div",{className:"_40c7 _52ju _68_r _28cv",children:[h.jsxs(b("FlexLayout.react"),{align:"center",className:"_2pio",children:[h.jsx(b("Image.react"),{className:"_2pij",height:36,src:a.image,width:36}),h.jsxs(b("FlexLayout.react"),{direction:"vertical",children:[h.jsx(b("FDSText.react"),{color:"primary",size:"body1",weight:"bold",children:a.name}),h.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1",children:a.subtitle})]})]}),c,h.jsx(b("FBPaymentsTextWithEntities.react"),{textWithEntities:a.renewMessage})]})}e.exports=a}),null);
__d("FBPaymentsConfirmationView.react",["cx","ix","CurrentUser","FBPayBackloadedPINCreationView.react","FBPaymentsCheckoutContext","FBPaymentsConfirmationViewBase.react","FBPaymentsDialogActions","FBPaymentsLinkHelper","FBPaymentsLoggerBase","FBPaymentsLoggerConstants","FBPaymentsReceiptDialog.react","FBPaymentsSubscriptionConfirmationView.react","Image.react","Link.react","React","TrackingNodes","URI","XPaymentsTransactionHubController","XUIButton.react","XUIGrayText.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("FBPaymentsLoggerBase").LOGGER_FIELD_NAMES,k=b("FBPaymentsLoggerConstants").LoggerEvent,l=b("FBPaymentsLoggerConstants").LoggerFlowStep,m=b("FBPaymentsLoggerConstants").LoggerFlowType,n=b("React"),o=36;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.logger=c.context.logger,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a;this.logger.setGlobalFields((a={},a[j.flow_name]=m.FBPAY_HUB,a))};d.$FBPaymentsConfirmationView1=function(){this.logger.setFlowStep(l.OPEN_HUB_RECEIPT_FROM_CONFIRMATION_SCREEN).setEventName(k.CLICK).log()};d.$FBPaymentsConfirmationView2=function(){this.logger.setFlowStep(l.OPEN_HUB_SETTINGS_FROM_CONFIRMATION_SCREEN).setEventName(k.CLICK).log()};d.$FBPaymentsConfirmationView3=function(a){this.$FBPaymentsConfirmationView1();var c=new(i||(i=b("URI")))(a).getProtocol();c=c!=="http"&&c!=="https"&&c!=="";if(c){c=b("FBPaymentsLinkHelper").parseInAppUrl(a);var d=c.clientType;c=c.productID;b("FBPaymentsDialogActions").showDialog(b("FBPaymentsReceiptDialog.react"),{actorID:b("CurrentUser").getAccountID(),onDialogToggle:this.$FBPaymentsConfirmationView4,receiptID:c,receiptClientType:d})}else window.open(a,"_blank")};d.$FBPaymentsConfirmationView4=function(a){a||b("FBPaymentsDialogActions").hideDialog()};d.$FBPaymentsConfirmationView5=function(){var a=this,c=this.props.receiptUrl;if(c==null||this.props.forceHideReceiptCTA===!0||this.props.isPaymentStatusPending===!0)return null;return this.props.enableReceiptFooterLink===!0?n.jsx("div",{className:"_2ppt",children:n.jsx(b("Link.react"),{"data-testid":void 0,onClick:function(){return a.$FBPaymentsConfirmationView3(c)},children:this.getReceiptText()})}):n.jsx("div",{className:"_2ppt",children:n.jsx(b("XUIButton.react"),{"data-testid":void 0,label:this.getReceiptText(),onClick:function(){return a.$FBPaymentsConfirmationView3(c)},size:"xlarge"})})};d.$FBPaymentsConfirmationView6=function(){var a=this;return Boolean(this.getPINSettingsText())?n.jsx(b("Link.react"),{href:this.getHubSettingsURL(),target:"_blank",className:"_2ppt",children:n.jsx(b("XUIButton.react"),{label:this.getPINSettingsText(),size:"xlarge",onClick:function(){return a.$FBPaymentsConfirmationView2()}})}):null};d.getHubSettingsURL=function(){var a=this.logger.getSessionID();return b("XPaymentsTransactionHubController").getURIBuilder().setString("subpath","settings").setString("session_id",a).getURI().toString()};d.render=function(){var a=this.props.customConfirmationImage!=null?this.props.customConfirmationImage:this.props.isPaymentStatusPending===!0?n.jsx(b("Image.react"),{src:h("661256")}):n.jsx(b("Image.react"),{className:"_3fai",src:h("94361")}),c=n.jsx(b("XUIGrayText.react"),{className:"_2ppu",children:this.getConfirmationText()}),d=this.props.merchantLogoUrl!=null?n.jsx(b("Image.react"),{className:"_2ppv",height:o,src:this.props.merchantLogoUrl}):null,e=this.props.doneButtonTrackingNodeType?b("TrackingNodes").getTrackingInfo(this.props.doneButtonTrackingNodeType):void 0;e=this.props.hideDoneButton===!0?null:n.jsx(b("XUIButton.react"),{"data-ft":e,"data-testid":void 0,label:this.getDoneButtonText(),onClick:this.props.handleConfirmationDone,size:"xlarge",use:"confirm"});var f=this.props.subscriptionConfirmationDetails?n.jsx("div",{className:"_2o1p",children:n.jsx(b("FBPaymentsSubscriptionConfirmationView.react"),babelHelpers["extends"]({},this.props.subscriptionConfirmationDetails))}):null,g=this.props.enableReceiptFooterLink===!0?n.jsxs("div",{children:[this.props.children,this.$FBPaymentsConfirmationView6(),this.$FBPaymentsConfirmationView5()]}):n.jsxs("div",{children:[this.$FBPaymentsConfirmationView5(),this.props.children,this.$FBPaymentsConfirmationView6()]}),i=this.getShouldShowBackloadedPINCreationView()&&this.props.enableInlineBackloadedPINCreationView!==!0?n.jsx("div",{className:"_2pie",children:n.jsx(b("FBPayBackloadedPINCreationView.react"),{onClick:this.props.onBackloadedPINCreationClick})}):null;return n.jsxs("div",{"data-testid":void 0,children:[n.jsxs("div",{className:"_2ppw",children:[n.jsxs("div",{className:"_2owm"+(f?"":" _2o1p"),children:[a,c,d]}),f,g,i]}),n.jsx("div",{className:"_5kyc _2ph_ _52jw",children:e})]})};return c}(b("FBPaymentsConfirmationViewBase.react"));a.contextType=b("FBPaymentsCheckoutContext");e.exports=a}),null);
__d("FBPaymentsConfirmationContainer.react",["FBPaymentsConfirmationContainerBase.react","FBPaymentsConfirmationExtensionManager","FBPaymentsConfirmationView.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getConfirmationExtensionManager=function(){return b("FBPaymentsConfirmationExtensionManager")};d.__getView=function(){return b("FBPaymentsConfirmationView.react")};d.__getInlineBackloadedPINCreationView=function(){return null};d.render=function(){return a.prototype.render.call(this)};return c}(b("FBPaymentsConfirmationContainerBase.react"));a.propTypes=b("FBPaymentsConfirmationContainerBase.react").propTypes;e.exports=a}),null);
__d("FBPaymentsContactSupportConfirmationScreen.react",["cx","invariant","FBPaymentsContactSupportHelper","FDSButton.react","FDSText.react","React","XUIDialogBody.react","XUIDialogTitle.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){this.props.screenConfig||h(0,2249);var a=this.props.screenConfig,c=a.description;a=a.title;return i.jsxs("div",{children:[i.jsx(b("XUIDialogTitle.react"),{className:"_6k1k _qu2",showCloseButton:!0,children:a}),i.jsxs(b("XUIDialogBody.react"),{useCustomPadding:!0,children:[i.jsx("div",{className:"_qu2",children:i.jsx(b("FDSText.react"),{color:"primary",margin:"_3-8t _3-8q",size:"body1",children:c})}),i.jsx("div",{children:i.jsx(b("FDSButton.react"),{label:b("FBPaymentsContactSupportHelper").getDoneButtonText(),onClick:this.props.onDoneClick,size:"large",margin:"_3-8j",use:"primary"})})]})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("FBPaymentsContactSupportSupportFormScreen.react",["cx","FBPaymentsContactSupportHelper","FBPaymentsLoadingView.react","FBPaymentsUserFacingErrorNotice.react","FDSButton.react","FDSText.react","React","SUIBusinessTheme","SUITextArea.react","XUIDialogBody.react","XUIDialogTitle.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){return h.jsxs("div",{children:[h.jsx(b("FDSText.react"),{color:"primary",margin:"_3-8t _3-8-",size:"header4",weight:"bold",children:b("FBPaymentsContactSupportHelper").getSupportFormLabel()}),h.jsx(b("SUITextArea.react"),{margin:"_3-8t _3-8x _3-96",onChange:this.props.onFormDataChange,placeholder:b("FBPaymentsContactSupportHelper").getSupportFormPlaceholder(),rows:5,theme:b("SUIBusinessTheme"),width:"95%"})]})};d.$2=function(){return h.jsxs("div",{children:[h.jsx(b("FDSButton.react"),{label:b("FBPaymentsContactSupportHelper").getCancelButtonText(),onClick:this.props.onBackClick,size:"large",margin:"_3-8o _3-9b _3-90"}),h.jsx(b("FDSButton.react"),{isDisabled:this.props.isFormValid!==!0||this.props.isLoading,label:b("FBPaymentsContactSupportHelper").getSubmitButtonText(),onClick:this.props.onSubmitClick,size:"large",margin:"_3-8o",use:"primary"})]})};d.$3=function(){return this.props.error?h.jsx("div",{className:"_3-8t",children:h.jsx(b("FBPaymentsUserFacingErrorNotice.react"),{description:b("FBPaymentsContactSupportHelper").getSubmissionErrorDescription(),title:b("FBPaymentsContactSupportHelper").getSubmissionErrorTitle(),use:"caution"})}):null};d.render=function(){return h.jsxs("div",{children:[h.jsx(b("XUIDialogTitle.react"),{className:"_6k1k _qu2",showCloseButton:!0,children:b("FBPaymentsContactSupportHelper").getSupportFormScreenTitle()}),h.jsxs(b("XUIDialogBody.react"),{className:"_1jnq",useCustomPadding:!0,children:[this.$3(),this.$1(),this.$2(),h.jsx(b("FBPaymentsLoadingView.react"),{overlay:this.props.isLoading,showLockSpinner:!0,visible:this.props.isLoading})]})]})};return c}(h.PureComponent);e.exports=a}),null);
__d("FBPaymentsContactSupportScreenManager",["FBPaymentsContactSupportConfirmationScreen.react","FBPaymentsContactSupportConstants","FBPaymentsContactSupportScreenManagerBase","FBPaymentsContactSupportSupportFormScreen.react"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsContactSupportConstants").Screens;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__createScreenMap=function(){this.screenMap.set(g.SUPPORT_FORM,b("FBPaymentsContactSupportSupportFormScreen.react")),this.screenMap.set(g.CONFIRMATION,b("FBPaymentsContactSupportConfirmationScreen.react"))};return c}(b("FBPaymentsContactSupportScreenManagerBase"));e.exports=new a()}),null);
__d("FBPaymentsContactSupportView.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsx("div",{children:this.props.screen})};return b}(g.PureComponent);e.exports=a}),null);
__d("FBPaymentsContactInfoExtension",["invariant","Promise","FBPayCheckoutWebFunnelLoggingUtils","FBPaymentsCheckoutContext","FBPaymentsContactInfoActions","FBPaymentsContactInfoTypes","FBPaymentsDispatcher","FBPaymentsLoggerConstants","FBPaymentsModulesAPIShared","FBPaymentsUniversalErrorUtils","FluxContainer","React","shallowArrayEqual"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBPayCheckoutWebFunnelLoggingUtils").webFunnelLogFBPayCheckout,i=b("React"),j=b("FBPaymentsLoggerConstants").LoggerEvent,k=b("FBPaymentsLoggerConstants").LoggerFlowStep;function a(a,c,d,e,f){f=function(f){babelHelpers.inheritsLoose(l,f);function l(a){var c;c=f.call(this,a)||this;c.state={contactInfoDisclaimer:null,contactName:"",isContactEmailRequired:!0,isContactNameRequired:!0,isContactPhoneRequired:!0,isNewContactEmailValid:!1,isNewContactNameValid:!1,isNewContactPhoneNumberValid:!1,newContactEmail:"",newContactPhoneNumber:"",selectedContactEmail:null,selectedContactPhoneNumber:null,showHardError:!1,validationContactEmailErrorMessage:null,validationContactNameErrorMessage:null,validationContactPhoneNumberErrorMessage:null};c.handleContactInfoDataPreparation=function(){var a=c.state,d=a.isContactEmailRequired,e=a.isContactPhoneRequired,f=a.selectedContactEmail;a=a.selectedContactPhoneNumber;var g=c.context.funnelLoggingSessionID;if((f||!d)&&(a||!e))return null;var i=null;if(!f&&d){var l=c.state.newContactEmail;h("add_email",g);c.props.logger.setFlowStep(k.ADD_EMAIL).setEventName(j.API_INIT).log();i=new(b("Promise"))(function(a,d){b("FBPaymentsModulesAPIShared").addUserContactEmail(l,c.$1(),c.props.logger.getSessionID(),function(d){b("FBPaymentsContactInfoActions").newSavedContactEmail({id:d,email:l}),c.props.logger.setFlowStep(k.ADD_EMAIL).setEventName(j.SUCCESS).log(),a({success:!0,data:{emailAddress:l,emailID:d}})},function(d){var e=b("FBPaymentsUniversalErrorUtils").getErrorCode(d),f=b("FBPaymentsUniversalErrorUtils").getUserFacingErrorMessage(d),g=b("FBPaymentsUniversalErrorUtils").getServerErrorMessage(d);c.props.logger.setFlowStep(k.ADD_EMAIL).setEventName(j.FAIL).setUserFacingMessage(f).setErrorMessage(g).setUserFacingErrorCode(e).setErrorCode(e).log();a({success:!1,error:d})})})}f=null;if(!a&&e){var m=c.state.newContactPhoneNumber,n={raw_input:m,payment_type:c.$1(),logging_id:c.props.logger.getSessionID()};h("add_phone",g);c.props.logger.setFlowStep(k.ADD_PHONE).setEventName(j.API_INIT).log();f=new(b("Promise"))(function(a,d){b("FBPaymentsModulesAPIShared").addContactPhoneNumber(n,function(d){b("FBPaymentsContactInfoActions").newSavedContactPhoneNumber({id:d,intlNumberWithPlus:m,formattedIntlNumberWithPlus:m}),c.props.logger.setFlowStep(k.ADD_PHONE).setEventName(j.SUCCESS).log(),a({success:!0,data:{phoneNumberID:d}})},function(d){var e=b("FBPaymentsUniversalErrorUtils").getErrorCode(d),f=b("FBPaymentsUniversalErrorUtils").getUserFacingErrorMessage(d),g=b("FBPaymentsUniversalErrorUtils").getServerErrorMessage(d);c.props.logger.setFlowStep(k.ADD_PHONE).setEventName(j.FAIL).setUserFacingMessage(f).setErrorMessage(g).setUserFacingErrorCode(e).setErrorCode(e).log();a({success:!1,error:d})})})}return b("Promise").all([i,f]).then(function(a){var b={},c=!0,d;a.forEach(function(a){if(!a)return;a.success?b=babelHelpers["extends"]({},b,a.data):(c=!1,d=a.error)});return!c?{success:!1,error:d}:{success:!0,data:b}})};b("FBPaymentsDispatcher").explicitlyRegisterStores(c.constructor.getStores(a));var d=c.getPrefilledDataFromProps(a);d&&b("FBPaymentsContactInfoActions").setPrefilledData(d);d=c.getContactInfoTypesFromProps(a);b("FBPaymentsContactInfoActions").contactInfoTypesChanged({contactInfoTypes:d});return c}var m=l.prototype;m.componentDidUpdate=function(a){var c=this.getContactInfoTypesFromProps(this.props);a=this.getContactInfoTypesFromProps(a);b("shallowArrayEqual")(c,a)||b("FBPaymentsContactInfoActions").contactInfoTypesChanged({contactInfoTypes:c})};m.getContactInfoTypesFromProps=function(a){a.extensionConfiguration.identifier!=="CONTACT_INFO"&&g(0,2820,a.extensionConfiguration.identifier);return a.extensionConfiguration.contactInfoTypes};m.getPrefilledDataFromProps=function(a){a.extensionConfiguration.identifier!=="CONTACT_INFO"&&g(0,2820,a.extensionConfiguration.identifier);return a.extensionConfiguration.extensionPrefillData};l.getStores=function(a){if(a.isUsingUpdateCheckoutInfoAPI)return[e,c];else return[e,d,c]};l.calculateState=function(a,f){f.isUsingUpdateCheckoutInfoAPI||(d.get(b("FBPaymentsContactInfoTypes").NAME),d.get(b("FBPaymentsContactInfoTypes").EMAIL),d.get(b("FBPaymentsContactInfoTypes").PHONE_NUMBER));a=f.extensionConfiguration.identifier;f=e.getShowHardErrorOnExtension(a);a=c.getState();f={isContactNameRequired:a.isContactNameRequired,contactName:a.contactName,isNewContactNameValid:a.isNewContactNameValid,validationContactNameErrorMessage:a.validationContactNameErrorMessage,isContactEmailRequired:a.isContactEmailRequired,selectedContactEmail:a.selectedContactEmail,newContactEmail:a.newContactEmail,isNewContactEmailValid:a.isNewContactEmailValid,validationContactEmailErrorMessage:a.validationContactEmailErrorMessage,isContactPhoneRequired:a.isContactPhoneRequired,selectedContactPhoneNumber:a.selectedContactPhoneNumber,newContactPhoneNumber:a.newContactPhoneNumber,isNewContactPhoneNumberValid:a.isNewContactPhoneNumberValid,validationContactPhoneNumberErrorMessage:a.validationContactPhoneNumberErrorMessage,showHardError:f,contactInfoDisclaimer:a.contactInfoDisclaimer};return f};m.componentDidMount=function(){b("FBPaymentsContactInfoActions").registerExtensionDataPreparer(this.handleContactInfoDataPreparation)};m.handleContactNameChange=function(a,c,d){b("FBPaymentsContactInfoActions").contactNameUpdated({contactName:c,validationResult:d})};m.handleNewContactEmailChange=function(a,c,d){b("FBPaymentsContactInfoActions").newContactEmailUpdated({newContactEmail:c,validationResult:d})};m.handleNewContactPhoneNumberChange=function(a,c,d){b("FBPaymentsContactInfoActions").newContactPhoneNumberUpdated({newContactPhoneNumber:c,validationResult:d})};m.$2=function(){var a=this.props.extensionConfiguration;return a.identifier!=="CONTACT_INFO"?null:a.customContent};m.$1=function(){return this.props.checkoutConfiguration.paymentInfo.paymentItemType};m.render=function(){var b=this.$2();return i.jsx(a,babelHelpers["extends"]({},this.state,{customContent:b,isActive:this.props.isActive,onContactNameChange:this.handleContactNameChange,onNewContactEmailChange:this.handleNewContactEmailChange,onNewContactPhoneNumberChange:this.handleNewContactPhoneNumberChange}))};return l}(i.PureComponent);f.contextType=b("FBPaymentsCheckoutContext");return b("FluxContainer").create(f,{withProps:!0})}e.exports={create:a}}),null);
__d("FBPaymentsContactInfoSelectorViewV2Base.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getHardErrorMessage=function(){return g._("Please enter your information.")};c.getContactInformationLabel=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.title:a:a)||g._("Contact information")};c.getCustomContentIconSrc=function(){var a;return(a=this.props)!=null?(a=a.customContent)!=null?a.iconSrc:a:a};c.getContactEmailLabel=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.emailFieldLabel:a:a)||g._("Email address")};c.getContactNameLabel=function(){return g._("Full name")};c.getContactPhoneNumberLabel=function(){return g._("Phone number")};return b}(a.Component);e.exports=c}),null);
__d("FBPaymentsNameFormField.react",["fbt","FBPaymentsFormField.react","FBPaymentsFormFieldInputConfigs","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getPlaceholderText=function(){return g._("Please enter your name")};d.render=function(){var a=this.props.enableFloatingLabel?null:this.getPlaceholderText();return h.jsx(b("FBPaymentsFormField.react"),babelHelpers["extends"]({config:b("FBPaymentsFormFieldInputConfigs").NAME_INPUT_CONFIG,placeholder:a},this.props))};return c}(h.Component);e.exports=a}),null);
__d("FBPaymentsSimpleExtensionView.react",["cx","FDSText.react","React","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsxs("div",{className:"_3itb",children:[h.jsx(b("FDSText.react"),{margin:"_3-8o",size:"header3",children:a.title}),a.children]})}e.exports=a}),null);
__d("FBPaymentsContactInfoSelectorViewV2.react",["ix","cx","FBPaymentsContactInfoSelectorViewV2Base.react","FBPaymentsEmailFormField.react","FBPaymentsNameFormField.react","FBPaymentsPhoneNumberFormField.react","FBPaymentsSimpleExtensionView.react","FDSText.react","React","asset","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderContactEmailInput=function(){return!this.props.isContactEmailRequired?null:i.jsx("div",{className:"_3-8x",children:i.jsx(b("FBPaymentsEmailFormField.react"),{className:"_3vg0","data-testid":void 0,enableFloatingLabel:!0,errorMessage:this.props.validationContactEmailErrorMessage,label:this.getContactEmailLabel(),name:"email",onChange:this.props.onNewContactEmailChange,showFieldLevelErrors:!0,showHardError:this.props.showHardError,value:this.props.newContactEmail})})};d.renderContactNameInput=function(){return!this.props.isContactNameRequired?null:i.jsx("div",{className:"_3-8x",children:i.jsx(b("FBPaymentsNameFormField.react"),{className:"_3vg0","data-testid":void 0,enableFloatingLabel:!0,errorMessage:this.props.validationContactNameErrorMessage,height:"tall",label:this.getContactNameLabel(),name:"name",onChange:this.props.onContactNameChange,showFieldLevelErrors:!0,showHardError:this.props.showHardError,value:this.props.contactName})})};d.renderContactPhoneNumberInput=function(){return!this.props.isContactPhoneRequired?null:i.jsx("div",{className:"_3-8x",children:i.jsx(b("FBPaymentsPhoneNumberFormField.react"),{className:"_3vg0","data-testid":void 0,enableFloatingLabel:!0,errorMessage:this.props.validationContactPhoneNumberErrorMessage,height:"tall",label:this.getContactPhoneNumberLabel(),name:"phoneNumber",onChange:this.props.onNewContactPhoneNumberChange,showFieldLevelErrors:!0,showHardError:this.props.showHardError,value:this.props.newContactPhoneNumber})})};d.renderContactInfoSectionDisclaimer=function(){return this.props.contactInfoDisclaimer==null?null:i.jsx(b("FDSText.react"),{display:"block",children:this.props.contactInfoDisclaimer})};d.render=function(){return i.jsxs(b("FBPaymentsSimpleExtensionView.react"),{iconSrc:g("394675"),title:this.getContactInformationLabel(),children:[this.renderContactInfoSectionDisclaimer(),this.renderContactNameInput(),this.renderContactEmailInput(),this.renderContactPhoneNumberInput()]})};return c}(b("FBPaymentsContactInfoSelectorViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsCouponCodeExtension",["FBPayCheckoutWebFunnelLoggingUtils","FBPaymentsCheckoutConstants","FBPaymentsCheckoutContext","FBPaymentsLoggerConstants","FBPaymentsCheckoutActions","FBPaymentsCouponCodeActions","FBPaymentsCouponCodeExtensionStore","FluxContainer","React"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPayCheckoutWebFunnelLoggingUtils").webFunnelLogFBPayCheckout,h=b("FBPaymentsCheckoutConstants").Extensions,i=b("FBPaymentsLoggerConstants").LoggerEvent,j=b("FBPaymentsLoggerConstants").LoggerFlowStep,k=b("React");function a(a){var c=function(d){babelHelpers.inheritsLoose(c,d);function c(){var a,c;for(var e=arguments.length,f=new Array(e),k=0;k<e;k++)f[k]=arguments[k];return(a=c=d.call.apply(d,[this].concat(f))||this,c.state={couponCode:null,isApplied:!1,isCouponValid:!1,isFormFieldDisplayed:!1,isLoading:!1,message:null,placeholderText:null},c.handleActionButtonClick=function(){b("FBPaymentsCouponCodeActions").displayForm(),c.props.logger.setFlowStep(j.COUPON_CODE).setEventName(i.CLICK).log()},c.handleActionButtonRowClick=function(){b("FBPaymentsCouponCodeActions").displayForm(),b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:h.COUPON_CODE,active:!0}),c.props.logger.setFlowStep(j.COUPON_CODE).setEventName(i.CLICK).log()},c.handleCancelClick=function(){b("FBPaymentsCouponCodeActions").dismissForm(),c.props.logger.setFlowStep(j.COUPON_CODE_FORM).setEventName(i.CLICK).updateExtraData({button_name:"cancel"}).updateExtraData({coupon:c.state.couponCode}).log(),g("coupon_code_form_exit_click",c.context.funnelLoggingSessionID)},c.handleCancelActiveStateClick=function(){b("FBPaymentsCouponCodeActions").dismissForm(),b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:h.COUPON_CODE,active:!1}),c.props.logger.setFlowStep(j.COUPON_CODE_FORM).setEventName(i.CLICK).updateExtraData({button_name:"cancel"}).updateExtraData({coupon:c.state.couponCode}).log()},c.handleSaveClick=function(){var a;b("FBPaymentsCouponCodeActions").saveCouponCode();a=(a=c.props)==null?void 0:(a=a.checkoutExtraProps)==null?void 0:a.onCouponCodeApplied;a&&a(c.state.couponCode);c.props.logger.setFlowStep(j.COUPON_CODE_FORM).setEventName(i.CLICK).updateExtraData({button_name:"save"}).updateExtraData({coupon:c.state.couponCode}).log();g("add_coupon_code",c.context.funnelLoggingSessionID)},c.handleRemoveClick=function(){var a;b("FBPaymentsCouponCodeActions").couponCodeRemoved();a=(a=c.props)==null?void 0:(a=a.checkoutExtraProps)==null?void 0:a.onCouponCodeRemoved;a&&a();c.props.logger.setFlowStep(j.COUPON_CODE).setEventName(i.CLICK).updateExtraData({button_name:"remove"}).log()},a)||babelHelpers.assertThisInitialized(c)}var e=c.prototype;e.componentDidMount=function(){this.props.logger.setFlowStep(j.COUPON_CODE).setEventName(i.DISPLAY).updateExtraData({coupon:this.state.couponCode}).log()};e.componentDidUpdate=function(a,c){!c.isFormFieldDisplayed&&this.state.isFormFieldDisplayed&&(this.props.logger.setFlowStep(j.COUPON_CODE_FORM).setEventName(i.DISPLAY).updateExtraData({coupon:this.state.couponCode}).log(),g("coupon_code_form_display",this.context.funnelLoggingSessionID)),!c.isCouponValid&&this.state.isCouponValid&&this.state.isApplied&&b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:h.COUPON_CODE,active:!1})};c.getStores=function(){return[b("FBPaymentsCouponCodeExtensionStore")]};c.calculateState=function(){var a=b("FBPaymentsCouponCodeExtensionStore").getState();a={couponCode:a.couponCode,isApplied:a.isApplied,isCouponValid:a.isCouponValid,isFormFieldDisplayed:a.isFormFieldDisplayed,isLoading:a.isLoading,message:a.message,placeholderText:a.placeholderText};return a};e.handleInputChange=function(a,c,d){b("FBPaymentsCouponCodeActions").couponCodeEntered({couponCode:c})};e.render=function(){var b=this.state.couponCode!=null&&this.state.couponCode.trim().length>0;return k.jsx(a,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,isReadyToSave:b,onActionButtonClick:this.handleActionButtonClick,onCancelActiveStateClick:this.handleCancelActiveStateClick,onCancelClick:this.handleCancelClick,onInputChange:this.handleInputChange,onRemoveClick:this.handleRemoveClick,onRowClicked:this.handleActionButtonRowClick,onSaveClick:this.handleSaveClick}))};return c}(k.PureComponent);c.contextType=b("FBPaymentsCheckoutContext");return b("FluxContainer").create(c)}e.exports={create:a}}),null);
__d("FBPaymentsCouponCodeViewV2Base.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getFormTitle=function(){return g._("Promotions")};c.getPlaceholderText=function(){var a;return(a=this.props.placeholderText)!=null?a:g._("Enter promo code")};c.getActionButtonText=function(){return g._("Add Promo Code")};c.getCouponCodeCancelText=function(){return g._("Cancel")};c.getCouponCodeSaveText=function(){return g._("Apply")};c.getCouponCodeRemoveText=function(){return g._("Remove")};c.getCouponCodeErrorMessage=function(){return g._("The provided coupon was invalid.")};return b}(a.PureComponent);e.exports=c}),null);
__d("FBPaymentsCouponCodeViewV2.react",["cx","FBPaymentsCouponCodeViewV2Base.react","FBPaymentsFormField.react","FBPaymentsToastView.react","FDSText.react","React","ShimButton.react","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$FBPaymentsCouponCodeViewV21=function(){return h.jsx(b("ShimButton.react"),{className:"_69gb _69gc","data-testid":void 0,onClick:this.props.onActionButtonClick,children:h.jsx(b("FDSText.react"),{size:"body1",color:"highlight",display:"block",children:this.getActionButtonText()})})};d.$FBPaymentsCouponCodeViewV22=function(){var a;a=this.props.isApplied&&!this.props.isCouponValid?h.jsx(b("FBPaymentsToastView.react"),{text:(a=this.props.message)!=null?a:this.getCouponCodeErrorMessage(),type:"user_level_error",visible:!0}):null;return h.jsxs("div",{children:[h.jsxs("div",{className:"_69gd _69gc _69lh"+(!this.props.isCouponValid&&this.props.message!=null?" _69li":""),children:[h.jsx(b("FBPaymentsFormField.react"),{className:"_3vg0","data-testid":void 0,enableFloatingLabel:!1,hideBorder:!0,name:"couponCode",initiallyFocused:!0,onChange:this.props.onInputChange,placeholder:this.getPlaceholderText(),showHardError:!1,value:this.props.couponCode===null?void 0:this.props.couponCode}),h.jsx(b("ShimButton.react"),{className:"_69ge _69gb","data-testid":void 0,onClick:this.props.onCancelClick,children:h.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:this.getCouponCodeCancelText()})}),h.jsx(b("ShimButton.react"),{className:"_69ge _69gb","data-testid":void 0,onClick:this.props.isReadyToSave?this.props.onSaveClick:void 0,children:h.jsx(b("FDSText.react"),{color:this.props.isReadyToSave?"highlight":"disabled",display:"block",size:"body3",children:this.getCouponCodeSaveText()})})]}),a]})};d.$FBPaymentsCouponCodeViewV23=function(){return h.jsxs("div",{className:"_69gd _69gc _69lj",children:[h.jsxs("div",{className:"_69lk",children:[h.jsx(b("FDSText.react"),{color:"primary",display:"block",size:"body2",children:this.props.couponCode}),h.jsx(b("FDSText.react"),{color:"positive",display:"block",size:"body3",children:this.props.message})]}),h.jsx(b("ShimButton.react"),{className:"_69ge _69gb","data-testid":void 0,onClick:this.props.onRemoveClick,children:h.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:this.getCouponCodeRemoveText()})})]})};d.$FBPaymentsCouponCodeViewV24=function(){if(this.props.isLoading)return h.jsx("div",{className:"_2ph_ _75n3",children:h.jsx(b("XUISpinner.react"),{size:"small"})});else if(this.props.isApplied&&this.props.isCouponValid)return this.$FBPaymentsCouponCodeViewV23();else if(this.props.isFormFieldDisplayed)return this.$FBPaymentsCouponCodeViewV22();else return this.$FBPaymentsCouponCodeViewV21()};d.render=function(){return h.jsx("div",{className:"_3itb",children:this.$FBPaymentsCouponCodeViewV24()})};return c}(b("FBPaymentsCouponCodeViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsCustomOptionsExtension",["invariant","FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationStore","FBPaymentsCheckoutConstants","FBPaymentsCustomOptionsActions","FBPaymentsCustomOptionsExtensionStore","FBPaymentsLoggerConstants","FluxContainer","React","guid"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("FBPaymentsCheckoutConstants").CollectedDataKey,j=b("FBPaymentsCheckoutConstants").Extensions,k=b("FBPaymentsLoggerConstants").LoggerEvent,l=b("FBPaymentsLoggerConstants").LoggerFlowStep,m="custom_",n="price";function a(a,c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){var a,c;for(var d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];return(a=c=e.call.apply(e,[this].concat(f))||this,c.state={configuration:null,customOptionFormData:null,isCustomOptionFormValid:!1,selectedOptionID:null,showForm:!1,showHardError:!1},c.handleCustomOptionClick=function(a){b("FBPaymentsCustomOptionsActions").customOptionSelected({selectedOptionID:a}),c.props.logger.setFlowStep(c.$1()).setEventName(k.CLICK).addToExtraData("selected_option_id",a).log()},c.handleCustomOptionRowClicked=function(){b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:j.CUSTOM_OPTIONS,active:!0}),c.props.logger.setFlowStep(c.$1()).setEventName(k.INIT).log()},c.handleCancelActiveStateClick=function(){b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:j.CUSTOM_OPTIONS,active:!1}),c.props.logger.setFlowStep(c.$1()).setEventName(k.CANCEL).log()},c.handleAddCustomOptionClick=function(){b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:j.CUSTOM_OPTIONS,active:!0}),b("FBPaymentsCustomOptionsActions").addCustomOptionClick(),c.props.logger.setFlowStep(l.ADD_CUSTOM_OPTION).setEventName(k.INIT).log()},c.handleNewCustomOptionFormDataChange=function(a,d){b("FBPaymentsCustomOptionsActions").newCustomOptionFormDataChange({customOptionFormData:a,isCustomOptionFormValid:d}),d||c.props.logger.setFlowStep(l.ADD_CUSTOM_OPTION).setEventName(k.CLICK).addToExtraData("form_data",JSON.stringify(a)).addToExtraData("isInvalid","true").log()},c.handleRemoveCustomOptionClick=function(){var a=c.state.configuration;if(!a)return;var b=a.options;b.length===1&&b[0].optionId.startsWith(m)&&(b.pop(),c.setState({configuration:a}))},c.handleSaveNewCustomOption=function(){var a=c.state.configuration;if(!a){c.$2(l.ADD_CUSTOM_OPTION);return}var d=a.customOption||{},e=d.formFields,f=c.state.customOptionFormData;e&&f||g(0,4982);var h=f.title;f=f.price;var i;if(f){e=e.get(n);e&&e.currency||g(0,4983);i={currency:e.currency,amount:f}}e={optionId:m+b("guid")(),optionPrice:i,optionPriceList:[{label:d.priceLabel||"",price:i}],optionTitle:h};a.options.push(e);b("FBPaymentsCustomOptionsActions").saveNewCustomOption({newOption:e,newOptionsExtensionConfig:a});b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:j.CUSTOM_OPTIONS,active:!1});c.props.logger.setFlowStep(l.ADD_CUSTOM_OPTION).setEventName(k.SAVE_CLICK).addToExtraData("new_option",JSON.stringify(e)).log()},a)||babelHelpers.assertThisInitialized(c)}d.getStores=function(){return[c,b("FBPaymentsCustomOptionsExtensionStore"),b("FBPaymentsCheckoutConfigurationStore")]};d.calculateState=function(a,d){a=b("FBPaymentsCheckoutConfigurationStore").getCustomOptionsExtensionConfig();d=d.extensionConfiguration.identifier;d=c.getShowHardErrorOnExtension(d);var e=b("FBPaymentsCustomOptionsExtensionStore").getState();a={configuration:a,selectedOptionID:(a=e.selectedOption)!=null?a.optionId:a,showHardError:d,customOptionFormData:e.customOptionFormData,isCustomOptionFormValid:e.isCustomOptionFormValid,showForm:e.showForm};return a};var f=d.prototype;f.$1=function(){var a;return((a=this.state.configuration)==null?void 0:a.collectedDataKey)===i.SHIPPING_OPTION?l.SELECT_SHIPPING_OPTION:l.SELECT_CUSTOM_OPTION};f.$2=function(a){this.props.logger.setFlowStep(a).setEventName(k.INIT).addToExtraData("error","extension config is null").log()};f.render=function(){var b=this.state.configuration;if(!b){this.$2(this.$1());return null}return h.jsx(a,{configuration:b,isActive:this.props.isActive,isCustomOptionFormSaveEnabled:this.state.isCustomOptionFormValid,onAddCustomOptionClick:this.handleAddCustomOptionClick,onCancelActiveStateClick:this.handleCancelActiveStateClick,onCustomOptionClick:this.handleCustomOptionClick,onCustomOptionFormDataChange:this.handleNewCustomOptionFormDataChange,onRemoveCustomOptionClick:this.handleRemoveCustomOptionClick,onRowClicked:this.handleCustomOptionRowClicked,onSaveNewCustomOption:this.handleSaveNewCustomOption,selectedOptionID:this.state.selectedOptionID,showForm:this.state.showForm,showHardError:this.state.showHardError})};return d}(h.PureComponent);return b("FluxContainer").create(d,{withProps:!0})}e.exports={create:a}}),null);
__d("FBPaymentsAddButton.react",["ix","cx","Image.react","React","XUIButton.react","fbglyph","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=i.jsx(b("Image.react"),{className:"_2vzy",src:g("139437")});return i.jsx(b("XUIButton.react"),{className:b("joinClasses")("_2vzz _53q9",this.props.className),"data-testid":void 0,imageRight:a,label:this.props.label,onClick:this.props.onClick})};return c}(i.Component);a.propTypes={label:b("prop-types").node.isRequired,onClick:b("prop-types").func};e.exports=a}),null);
__d("FBPaymentsCustomForm.react",["fbt","FBPaymentsForm.react","FBPaymentsFormField.react","FBPaymentsNormalizers","FBPaymentsPriceFormField.react","FBPaymentsValidators","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="currency";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),j=0;j<e;j++)f[j]=arguments[j];return(c=d=a.call.apply(a,[this].concat(f))||this,d.renderCustomItemInfoField=function(a){var c={key:a.identifier,name:a.identifier,placeholder:a.placeholderText,required:!a.optional};if(a.type===i)return h.jsx(b("FBPaymentsPriceFormField.react"),babelHelpers["extends"]({},c,{currency:a.currency}));var e=[],f=[];a.length&&e.push(b("FBPaymentsNormalizers").truncate(a.length));if(!a.optional){a=g._("Required");a=d.props.customNonEmptyErrorMessage||a;f.push({validator:b("FBPaymentsValidators").nonEmpty,errorMessage:a})}return h.jsx(b("FBPaymentsFormField.react"),babelHelpers["extends"]({},c,{config:{normalizeOnChange:!0,normalizers:e,validations:f}}))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return h.jsx(b("FBPaymentsForm.react"),{onChange:this.props.onChange,children:this.props.fields.map(this.renderCustomItemInfoField)})};return c}(h.PureComponent);a.propTypes={fields:b("prop-types").array.isRequired,onChange:b("prop-types").func.isRequired,customNonEmptyErrorMessage:b("prop-types").node};e.exports=a}),null);
__d("FBPaymentsCustomOptionsViewV2Base.react",["fbt","FBPaymentsPriceListHelper","PECurrency","PECurrency.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("PECurrency").DEFAULT_AMOUNT_OFFSET,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.ADD_CUSTOM_OPTION_KEY="add_custom_option",b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.shouldShowErrorMessage=function(){return this.props.showHardError};d.getBackButtonText=function(){return g._("Back")};d.getAddButtonLabel=function(){return g._("Add")};d.getHardErrorMessage=function(){return g._("Please enter a valid option.")};d.getFreePriceText=function(){return g._("Free")};d.getDefaultTitle=function(){return g._("Delivery method")};d.getOptionPrice=function(a){var c=a.optionPriceList;a=a.optionPrice;if(c)c=b("FBPaymentsPriceListHelper").calculateTotal(c);else if(a)c={currency:a.currency,amount:Number(a.amount)};else return null;a=((a=c)!=null?a.currency:a)||"USD";c=((c=c)!=null?c.amount:c)||0;return c===0?this.getFreePriceText():i.jsx(b("PECurrency.react"),{code:a,showSymbol:!0,value:h*c})};return c}(i.Component);e.exports=a}),null);
__d("FBPaymentsCustomOptionsViewV2.react",["cx","fbt","invariant","FBPaymentsAddButton.react","FBPaymentsCustomForm.react","FBPaymentsCustomOptionsViewV2Base.react","FDSButton.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSDropdownSelectorSeparator.react","FDSText.react","FlexLayout.react","LeftRight.react","Link.react","React","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k="custom_";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.handleSelectorChange=function(a,b){if(a===d.ADD_CUSTOM_OPTION_KEY){d.props.onAddCustomOptionClick();return}b=a;d.props.onCustomOptionClick(b)},d.renderSelectorOptionItem=function(a){return j.jsx(b("FDSDropdownSelectorOption.react"),{value:a.optionId,description:a.optionDescription,children:d.renderOptionItem(a)},a.optionId)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.isCustomOption=function(a){return a.optionId.startsWith(k)};d.renderOptionItem=function(a){var c=this.getOptionPrice(a);if(!c)return a.optionTitle;c=j.jsxs(b("FlexLayout.react"),{justify:"all",children:[j.jsxs(b("FDSText.react"),{margin:"_3-91",size:"meta1",children:[a.optionTitle," "]}),j.jsx(b("FDSText.react"),{color:"positive",size:"meta1",children:this.getOptionPrice(a)})]});return c};d.renderAddCustomOptionButton=function(){var a=this.props.configuration.customOption;return!a?null:j.jsx(b("FBPaymentsAddButton.react"),{"data-testid":void 0,label:a.actionableTitle||"",onClick:this.props.onAddCustomOptionClick})};d.renderAddCustomOptionListItems=function(){var a=this.props.configuration.customOption;return!a?null:[j.jsx(b("FDSDropdownSelectorSeparator.react"),{},"separator"),j.jsx(b("FDSDropdownSelectorOption.react"),{value:this.ADD_CUSTOM_OPTION_KEY,children:j.jsx(b("FDSText.react"),{color:"highlight",children:a.actionableTitle||""})},this.ADD_CUSTOM_OPTION_KEY)]};d.renderCustomOptionForm=function(){var a=this.props.configuration.customOption;a||i(0,35);var c=h._("Please enter a delivery method.");return j.jsxs("div",{children:[j.jsxs("div",{className:"_2pie",children:[j.jsx(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-96",size:"meta1",weight:"bold",children:a.title}),j.jsx(b("FBPaymentsCustomForm.react"),{customNonEmptyErrorMessage:c,fields:Array.from(a.formFields.values()),onChange:this.props.onCustomOptionFormDataChange}),j.jsx(b("FDSText.react"),{color:"placeholder",display:"block",margin:"_3-96",size:"meta1",children:a.disclaimer})]}),j.jsxs("div",{className:"_52jw",children:[j.jsx(b("FDSButton.react"),{"data-testid":void 0,label:this.getBackButtonText(),margin:"_3-91",onClick:this.props.onCancelActiveStateClick}),j.jsx(b("FDSButton.react"),{"data-testid":void 0,isDisabled:!this.props.isCustomOptionFormSaveEnabled,label:this.getAddButtonLabel(),onClick:this.props.onSaveNewCustomOption,use:"primary"})]})]})};d.renderCustomOptionList=function(){var a=!!this.props.configuration.customOption,c=this.props.configuration,d=c.options;c=c.error;if(c!=null)return this.renderErrorOptionList(c);if(a)if(d.length===0)return this.renderAddCustomOptionButton();else if(d.length===1&&this.isCustomOption(d[0]))return this.renderCustomOptionText(d[0]);c=d.map(this.renderSelectorOptionItem);a=this.renderAddCustomOptionListItems();a&&(c=c.concat(a));return j.jsx(b("FDSDropdownSelector.react"),{buttonUse:"default",dropdownWidth:"sameAsSelector","data-testid":void 0,onChange:this.handleSelectorChange,value:this.props.selectedOptionID,width:"100%",children:c})};d.renderErrorOptionList=function(a){var c="error_id";return j.jsx(b("FDSDropdownSelector.react"),{buttonUse:"default",dropdownWidth:"sameAsSelector","data-testid":void 0,onChange:this.handleSelectorChange,placeholder:this.props.configuration.actionableTitle||"",value:c,width:"100%",errorMessage:a.errorMessageSubtitle,isDisabled:!0,children:j.jsx(b("FDSDropdownSelectorOption.react"),{value:c,children:a.errorMessageTitle})})};d.renderCustomOptionText=function(a){return j.jsxs(b("LeftRight.react"),{children:[j.jsx(b("FDSText.react"),{display:"block",size:"meta1",children:a.optionTitle}),j.jsx(b("Link.react"),{onClick:this.props.onRemoveCustomOptionClick,children:j.jsx(b("FDSText.react"),{size:"meta1",children:h._("Remove")})})]})};d.render=function(){return this.props.isActive&&this.props.showForm?this.renderCustomOptionForm():j.jsxs("div",{className:"_3itb",children:[j.jsx(b("FDSText.react"),{color:"placeholder",display:"block",margin:"_3-95",size:"body3",children:this.props.configuration.title||this.getDefaultTitle()}),this.renderCustomOptionList()]})};return c}(b("FBPaymentsCustomOptionsViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsExtensionV2ManagerBase",["FBLogger","FBPaymentsCheckoutConstants","abstractMethod"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsCheckoutConstants").Extensions;a=function(){function a(){}var c=a.prototype;c.getExtensionContainer=function(a){g[a]||b("FBLogger")("fbpay_experience").mustfix("Non-existent payments extension "+a);var c=this.__getExtensionMap().get(a);c||b("FBLogger")("fbpay_experience").mustfix("Unimplemented payments extension "+a);return c};c.__getExtensionMap=function(){return b("abstractMethod")("FBPaymentsExtensionV2ManagerBase","__getExtensionMap")};return a}();e.exports=a}),null);
__d("FBPaymentsFreeTrialExtension",["FBPaymentsFreeTrialExtensionStore","FluxContainer","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=function(d){babelHelpers.inheritsLoose(c,d);function c(){return d.apply(this,arguments)||this}c.getStores=function(){return[b("FBPaymentsFreeTrialExtensionStore")]};c.calculateState=function(){var a=b("FBPaymentsFreeTrialExtensionStore").getState().freeTrialExtensionConfig,c=a.formattedDescription,d=a.nextBillTime,e=a.subscriptionFrequency,f=a.subscriptionPrice,g=a.trialFrequency;a=a.trialPeriod;return{formattedDescription:c,nextBillTime:d,subscriptionFrequency:e,subscriptionPrice:f,trialFrequency:g,trialPeriod:a}};var e=c.prototype;e.render=function(){return g.jsx(a,babelHelpers["extends"]({},this.state))};return c}(g.PureComponent);return b("FluxContainer").create(c)}e.exports={create:a}}),null);
__d("FBPaymentsFreeTrialViewBase.react",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a.PureComponent);e.exports=c}),null);
__d("FBPaymentsFreeTrialView.react",["cx","FBPaymentsFreeTrialViewBase.react","FDSText.react","React","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx("div",{className:"_7mqh",children:h.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",margin:"_3-8j",children:this.props.formattedDescription})})};return c}(b("FBPaymentsFreeTrialViewBase.react"));e.exports=a}),null);
__d("FBPaymentsFrequencySelectorExtension",["fbt","invariant","BillingAgreementType","FBPaymentsFrequencySelectorActions","FBPaymentsFrequencySelectorExtensionStore","FBPaymentsLoggerConstants","FluxContainer","React","gkx","keyMirror"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("keyMirror")(b("BillingAgreementType")),k=b("FBPaymentsLoggerConstants").LoggerEvent,l=b("FBPaymentsLoggerConstants").LoggerFlowStep;function a(a){var c=function(d){babelHelpers.inheritsLoose(c,d);function c(){var a,c;for(var e=arguments.length,f=new Array(e),i=0;i<e;i++)f[i]=arguments[i];return(a=c=d.call.apply(d,[this].concat(f))||this,c.DEFAULT_SUBSCRIPTION_PERIOD=1,c.DEFAULT_FREQUENCIES=[{label:g._("One-off Donation"),period:0,type:null}].concat(b("gkx")("676859")?[{label:g._("Daily Donation"),period:c.DEFAULT_SUBSCRIPTION_PERIOD,type:j.DAILY}]:[],[{label:g._("Monthly Donation"),period:c.DEFAULT_SUBSCRIPTION_PERIOD,type:j.MONTHLY}]),c.$1=function(a){c.state.frequencyOptions!=null||h(0,14212);var d=c.state.frequencyOptions[a];b("FBPaymentsFrequencySelectorActions").frequencySelectorOptionClick({index:a,selectedOption:d});c.props.logger.setFlowStep(l.SELECT_FREQUENCY).setEventName(k.CLICK).updateExtraData({selected_frequency_option_type:d==null?void 0:d.type}).log()},a)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("FBPaymentsFrequencySelectorExtensionStore")]};c.calculateState=function(){var a=b("FBPaymentsFrequencySelectorExtensionStore").getState();return{frequencyOptions:a.frequencyOptions,selectedIndex:a.selectedIndex,selectedOption:a.selectedOption,showDAFDisclaimer:a.showDAFDisclaimer}};var e=c.prototype;e.componentDidMount=function(){this.props.isUsingUpdateCheckoutInfoAPI||b("FBPaymentsFrequencySelectorActions").frequencySelectorLoaded(this.DEFAULT_FREQUENCIES),this.props.logger.setFlowStep(l.SELECT_FREQUENCY).setEventName(k.INIT).log()};e.render=function(){var b;b=(b=(b=this.props)==null?void 0:(b=b.checkoutExtraProps)==null?void 0:b.showDAFDisclaimer)!=null?b:this.state.showDAFDisclaimer;return i.jsx(a,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,onFrequencyOptionClick:this.$1,showDAFDisclaimer:b}))};return c}(i.PureComponent);return b("FluxContainer").create(c)}e.exports={create:a}}),null);
__d("FBPaymentsButtonGroup.react",["cx","FDSButton.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this,b=this.props.children||[],c=h.Children.map(b,function(c,d){var e=0,f=h.Children.toArray(b).length-1,g=a.props.reverseLastIndex===!0&&d===f?-1:d,i=a.props.selectedIndex===g,j=["top","bottom","right"],k=[];d===e?(j.push("left"),k.push("topLeft","bottomLeft")):d===f&&k.push("topRight","bottomRight");e={borderedSides:j,onClick:function(){a.props.onSelectedButtonChange&&a.props.onSelectedButtonChange(g)},roundedCorners:k,use:i?"primary":"default"};return h.cloneElement(c,e)},this);return h.jsx("div",{className:"_3bev",children:c})};return b}(h.PureComponent);e.exports=a}),null);
__d("FBPaymentsFrequencySelectorViewV2Base.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getFrequencySelectorTitle=function(){var a=this.props.frequencySelectorConfiguration;return a&&a.title||g._("Donation frequency")};c.getFrequencySelectorAdditionalString=function(){var a;return((a=this.props)==null?void 0:a.showDAFDisclaimer)?g._("Monthly donations will be distributed to the non-profit through Network for Good."):g._("Monthly donations will be distributed directly to the non-profit.")};c.getMonthlyDonationText=function(){return g._("Make this a monthly donation")};return b}(a.PureComponent);e.exports=c}),null);
__d("FBPaymentsFrequencySelectorViewV2.react",["cx","FBPaymentsButtonGroup.react","FBPaymentsFrequencySelectorViewV2Base.react","FDSButton.react","FDSSpinner.react","FDSText.react","React","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$FBPaymentsFrequencySelectorViewV21=function(){if(!this.props.frequencyOptions)return h.jsx(b("FDSSpinner.react"),{});else return h.jsx(b("FBPaymentsButtonGroup.react"),{onSelectedButtonChange:this.props.onFrequencyOptionClick,selectedIndex:this.props.selectedIndex,children:this.props.frequencyOptions.map(function(a,c){return h.jsx(b("FDSButton.react"),{label:a.label,style:{flex:"1"}},c)})})};d.render=function(){return h.jsxs("div",{className:"_3itb _2pip",children:[h.jsx(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-95",size:"body2",children:this.getFrequencySelectorTitle()}),this.$FBPaymentsFrequencySelectorViewV21(),this.props.selectedIndex===0?null:h.jsx(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8x",size:"meta1",children:this.getFrequencySelectorAdditionalString()})]})};return c}(b("FBPaymentsFrequencySelectorViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsAddressTypeaheadSearchSource",["AbstractRelaySearchSource","RelayFBEnvironment","RelayModern","SearchableEntry","uniqueID","FBPaymentsAddressTypeaheadSearchSourceQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;var h=10,i=g!==void 0?g:g=b("FBPaymentsAddressTypeaheadSearchSourceQuery.graphql");function j(a,b){b=b!=null&&b!==""?[b]:null;var c="HERE_THRIFT",d="STREET_TYPEAHEAD",e="STRING_MATCH",f="INTERLEAVE",g="PAYMENTS";return{query:i,variables:{params:{query:a,country_filter:b,provider:c,search_type:d,integration_strategy:e,result_ordering:f,caller:g,geohome_fallback:!0},limit:h}}}function k(a){a=(a=a.city_street_search)==null?void 0:(a=a.street_results)==null?void 0:a.nodes;return!a?[]:a.filter(function(a){var b;return a.singleLineAddress!==null&&a.singleLineAddress!==""&&((b=a.location)==null?void 0:b.latitude)&&((b=a.location)==null?void 0:b.longitude)}).map(function(a,c){var d,e,f;d=((d=a.location)==null?void 0:d.latitude)||b("uniqueID")();e=((e=a.location)==null?void 0:e.longitude)||b("uniqueID")();return new(b("SearchableEntry"))({auxiliaryData:{cityName:a.cityName,countryName:a.countryName,postalCode:a.postalCode,stateName:a.stateName,streetAddress:a.streetAddress,singleLineAddress:a.singleLineAddress,multiLineAddress:a.multiLineAddress},title:(f=a.title)!=null?f:"",subtitle:(f=a.subtitle)!=null?f:"",order:c,uniqueID:d+"_"+e})})}var l=function(a,b){return b(a)};a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d={bootstrapRequests:[],queryRequests:[{gen:function(a){return j(a,c)}}],packageFn:k,getAllForEmptyQuery:!0};return a.call(this,b("RelayFBEnvironment"),d,l)||this}return c}(b("AbstractRelaySearchSource"));e.exports=a}),null);
__d("FBPaymentsAddressTypeaheadUtils",["CountryConstants","FBPaymentsAddressTypeaheadSearchSource","FBPaymentsCustomFormHelper","FBPaymentsLoggerConstants","SearchableEntry","intlList","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsLoggerConstants").LoggerEvent,h=b("FBPaymentsLoggerConstants").LoggerFlowStep;function i(a){if(a!=null&&typeof a==="object"){var c=a;a instanceof b("SearchableEntry")&&(c=a.getAuxiliaryData());return{cityName:typeof c.cityName==="string"?c.cityName:null,postalCode:typeof c.postalCode==="string"?c.postalCode:null,stateName:typeof c.stateName==="string"?c.stateName:null,streetAddress:typeof c.streetAddress==="string"?c.streetAddress:null}}return{cityName:null,postalCode:null,stateName:null,streetAddress:null}}function j(a){return new Map(a.map(function(a){var c=b("FBPaymentsCustomFormHelper").getNormalizersFromValueType(a.valueType),d=b("FBPaymentsCustomFormHelper").getNormalizersFromValidationRules(a.validationRules);return[a.fieldID,c.concat(d)]}))}function k(a,b){if(!a)return b;b=b;for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b=e(b)}return b}function l(a){return new Map(a.map(function(a){var c=b("FBPaymentsCustomFormHelper").getValidatorsFromFieldConfig(a);return[a.fieldID,c]}))}function m(a,b){if(!a)return!0;for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(!e(b))return!1}return!0}function n(){return function(a){return new RegExp("^[0-9]+[ ](?:[A-Za-z0-9.-/]+[ ]?)+(?:Avenue|Ave|Boulevard|Blvd|Circle|Cir|Court|Ct|Crescent|Cres|Drive|Dr|Lane|Ln|Place|Pl|Road|Rd|Street|St|Terrace|Tr|Way).?$","i").test(a)}}a={getResultProcessor:function(a,c){var d=j(a),e=l(a);if(c===b("CountryConstants").UNITED_STATES){a=e.get("street1");a!=null&&(a.push(n()),e.set("street1",a))}return function(a){a=i(a);var c=[{fieldType:"street1",addressKey:"streetAddress"},{fieldType:"city",addressKey:"cityName"},{fieldType:"state",addressKey:"stateName"},{fieldType:"zip",addressKey:"postalCode"}],f={};for(var g=0;g<c.length;g++){var h=c[g];f[h.addressKey]=k(d.get(h.fieldType),b("nullthrows")(a[h.addressKey]))}for(var h=0;h<c.length;h++){g=c[h];a=m(e.get(g.fieldType),b("nullthrows")(f[g.addressKey]));if(!a)return null}return f}},getResultSelect:function(a){return function(c){return function(d){var e;d=i(d);c([{name:"street1",formattedValue:(e=b("nullthrows"))(d.streetAddress),validationResult:{isValid:!0}},{name:"city",formattedValue:e(d.cityName),validationResult:{isValid:!0}},{name:"state",formattedValue:e(d.stateName),validationResult:{isValid:!0}},{name:"zip",formattedValue:e(d.postalCode),validationResult:{isValid:!0}}]);a&&a.setFlowStep(h.ADDRESS_TYPEAHEAD).setEventName(g.CLICK).log()}}},getSearchSource:function(a){return new(b("FBPaymentsAddressTypeaheadSearchSource"))(a)},formatAddressForDisplay:function(a){a=i(a);var c=[a.cityName,a.stateName,a.postalCode];return{primaryText:a.streetAddress,secondaryText:b("intlList")(c,b("intlList").CONJUNCTIONS.NONE)}}};e.exports=a}),null);
__d("FBPaymentsAddressTypeaheadViewItem.react",["ix","cx","FBPaymentsAddressTypeaheadUtils","FDSText.react","FlexLayout.react","FlexLayoutItem.react","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.entry,d=a.highlighted,e=a.onSelect;a=a.resultProcessor;var f=c.getTitle(),h=a?a(c):null;if(h===null)return null;a=b("FBPaymentsAddressTypeaheadUtils").formatAddressForDisplay(h);return i.jsx("li",{className:"_71u0"+(d?" _71u1":""),onMouseDown:e!=null?function(a){return e(h)}:null,title:f,children:i.jsxs(b("FlexLayout.react"),{className:"_71u2",children:[i.jsx(b("FlexLayoutItem.react"),{className:"_71u3",shrink:0,children:i.jsx(b("Image.react"),{src:g("363789")})}),i.jsxs(b("FlexLayoutItem.react"),{className:"_71u4",grow:1,children:[i.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body1",children:a.primaryText}),i.jsx(b("FDSText.react"),{color:"placeholder",display:"block",size:"body1",children:a.secondaryText})]})]})},c.getUniqueID())}e.exports=a}),null);
__d("FBPaymentsCustomAddressFormBase.react",["FBLogger","FBPaymentsAddressTypeaheadUtils","React","abstractMethod","createCancelableFunction","qex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=a.call.apply(a,[this].concat(g))||this,e.state={config:null,isLoading:!1,selectedCountry:(c=e.props.prefilledAddressData)==null?void 0:c.country},e.handleConfigFetched=b("createCancelableFunction")(function(a,b){e.setState({config:b,selectedCountry:a,isLoading:!1})}),e.handleConfigFetchError=b("createCancelableFunction")(function(a){b("FBLogger")("purchase_experience").warn("Address form config fetch error %s",JSON.stringify(a))}),e.handleFormDataChanged=function(a,b){var c=a.country;c&&e.setState({selectedCountry:c});e.props.onChange(a,b)},d)||babelHelpers.assertThisInitialized(e)}var d=c.prototype;d.componentDidMount=function(){this.props.disableAutoConfigFetch||(this.setState({isLoading:!0}),this.__getAPI().fetchMailingAddressConfig(this.props.paymentType,this.handleConfigFetched,this.handleConfigFetchError))};d.componentWillUnmount=function(){this.handleConfigFetched.cancel(),this.handleConfigFetchError.cancel()};c.getDerivedStateFromProps=function(a,b){var c=babelHelpers["extends"]({},b);a.disableAutoConfigFetch&&!b.config&&(c.config=a.config);b.selectedCountry||(c.selectedCountry=a.userGeoCountry);return c};d.$1=function(){var a=this.state,b=a.config;a=a.selectedCountry;if(!b)return null;a=(a=a)!=null?a:"default";return(a=b.get(a))!=null?a:b.get("default")};d.$2=function(a){var c=this.state.selectedCountry;if(c!=="US"||b("qex")._("858285")!==!0)return null;a=b("FBPaymentsAddressTypeaheadUtils").getResultProcessor(a,c);c=b("FBPaymentsAddressTypeaheadUtils").getSearchSource(c);return{maxResults:3,onSelectWrapper:b("FBPaymentsAddressTypeaheadUtils").getResultSelect(this.props.logger),resultProcessor:a,searchSource:c,ViewItemRenderer:this.__getTypeaheadViewItem()}};d.__getAPI=function(){return b("abstractMethod")("FBPaymentsCustomAddressFormBase","__getAPI")};d.__getLoadingIndicator=function(){return b("abstractMethod")("FBPaymentsCustomAddressFormBase","__getLoadingIndicator")};d.__getForm=function(){return b("abstractMethod")("FBPaymentsCustomAddressFormBase","__getForm")};d.__getCustomFormField=function(){return b("abstractMethod")("FBPaymentsCustomAddressFormBase","__getFormField")};d.__getTypeaheadViewItem=function(){return b("abstractMethod")("FBPaymentsCustomAddressFormBase","__getTypeaheadViewItem")};d.render=function(){var a=this,b=this.state,c=b.isLoading;b=b.selectedCountry;var d=this.props,e=d.className,f=d.disableCountrySelector,h=d.hideCareOf,i=d.enableFloatingLabels,j=d.enableTypeaheadExperiment;d=d.prefilledAddressData;if(c)return this.__getLoadingIndicator();var k=this.$1();if(!k)return g.jsxs("div",{children:["Cannot find country config for ",b]});c=this.__getForm();var l=this.__getCustomFormField(),m=k.map(function(b){if(b.fieldID==="care_of"&&h)return null;var c={};switch(b.fieldID){case"country":c=babelHelpers["extends"]({},c,{isDisabled:f});break;case"street1":c=babelHelpers["extends"]({},c,{typeaheadConfig:j?a.$2(k):null});break;default:break}return g.createElement(l,babelHelpers["extends"]({},c,{fieldConfig:b,key:b.fieldID,name:b.fieldID,required:!b.isOptional}))}),n;if(d){var o;n=(o={},o.care_of=d.addressee,o.street1=d.street,o.street2=d.building,o.city=d.cityName,o.state=d.regionName,o.zip=d.postalCode,o)}return g.jsx(c,{className:e,enableFloatingLabels:i,onChange:this.handleFormDataChanged,prefilledFormData:babelHelpers["extends"]({},n,(d={},d.country=b,d)),children:m})};return c}(g.PureComponent);e.exports=a}),null);
__d("FBPaymentsCountrySelectorFormField.react",["cx","fbt","CreditCardCountryConfig","FBPaymentsAddressCountrySelectorFormField_DEPRECATED.react","FBPaymentsFormFieldBase.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("CreditCardCountryConfig").countries;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.handleCountrySelectorChange=function(a){var b=Object.prototype.hasOwnProperty.call(j,a);c.props.onChange(c.props.name,a,{isValid:b})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getSelectorTestId=function(a){return"selector_option_"+a};d.renderSelectorOptions=function(){var a=this;return Object.keys(j).map(function(a){var c=j[a];return i.jsx(b("FDSDropdownSelectorOption.react"),{"data-testid":void 0,value:a,children:c},a)})};d.renderWithoutLabel=function(){var a=this.props,c=a.isDisabled,d=a.name;a=a.value;var e=this.getOtherProps();return i.jsx(b("FDSDropdownSelector.react"),babelHelpers["extends"]({},e,{buttonUse:"default","data-testid":void 0,isDisabled:c,name:d,onChange:this.handleCountrySelectorChange,placeholder:h._("Select a country"),value:a,children:this.renderSelectorOptions()}))};d.render=function(){var a=this;if(this.props.enableFloatingLabel===!0)return this.renderWithoutLabel();var c=this.getOtherProps(),d=function(b,c,d){a.props.onChange(b,c,{isValid:d})};return i.jsxs("div",{children:[i.jsx("div",{className:"_c24 _50f3 _3yor",children:this.props.label}),i.jsx(b("FBPaymentsAddressCountrySelectorFormField_DEPRECATED.react"),babelHelpers["extends"]({},c,{className:this.props.classNameOnInput,"data-testid":void 0,defaultCountry:this.props.value,isDisabled:this.props.isDisabled,name:this.props.name,onChange:d,showLabel:!1}))]})};return c}(b("FBPaymentsFormFieldBase.react"));e.exports=a}),null);
__d("FBPaymentsCustomFormFieldBase.react",["FBPaymentsCustomFormHelper","React","abstractMethod"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.fieldRef=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(a){a=this.getRelevantPropsForRevalidation(a);var b=this.getRelevantPropsForRevalidation(this.props);b=JSON.stringify(b);a=JSON.stringify(a);b!==a&&this.triggerValidation()};d.getRelevantPropsForRevalidation=function(a){var b=a.fieldConfig;a=a.required;return{fieldConfig:b,required:a}};d.triggerValidation=function(){this.fieldRef&&this.fieldRef.triggerValidation()};d.__getFormField=function(){return b("abstractMethod")("FBPaymentsCustomFormFieldBase","__getFormField")};d.__getCountrySelectorField=function(){return b("abstractMethod")("FBPaymentsCustomFormFieldBase","__getCountrySelectorField")};d.render=function(){var a=this;if(this.props.fieldConfig.fieldType!=="TextField")return null;var c=b("FBPaymentsCustomFormHelper").getFormFieldPropsFromCustomFieldProps(this.props);if(this.props.fieldConfig.fieldID==="country"){var d=this.__getCountrySelectorField();return g.jsx(d,babelHelpers["extends"]({},c,{enableFloatingLabel:!1}))}else{d=this.__getFormField();return g.jsx(d,babelHelpers["extends"]({},c,{ref:function(b){a.fieldRef=b}}))}};return c}(g.PureComponent);e.exports=a}),null);
__d("PaymentModuleComet",[],(function(a,b,c,d,e,f){"use strict";var g=!0;function a(a){g=a}function b(){return g}e.exports={setIsComet:a,isComet:b}}),null);
__d("FBPaymentsCustomFormField.react",["CometFBPaymentsFormField.react","FBPaymentsCountrySelectorFormField.react","FBPaymentsCustomFormFieldBase.react","FBPaymentsFormField.react","PaymentModuleComet"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getFormField=function(){return b("PaymentModuleComet").isComet()?b("CometFBPaymentsFormField.react"):b("FBPaymentsFormField.react")};d.__getCountrySelectorField=function(){return b("FBPaymentsCountrySelectorFormField.react")};return c}(b("FBPaymentsCustomFormFieldBase.react"));e.exports=a}),null);
__d("FBPaymentsCustomAddressForm.react",["FBPaymentsAddressTypeaheadViewItem.react","FBPaymentsCustomAddressFormBase.react","FBPaymentsCustomFormField.react","FBPaymentsForm.react","FBPaymentsModulesAPI","React","XUISpinner.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getAPI=function(){return b("FBPaymentsModulesAPI")};d.__getLoadingIndicator=function(){return g.jsx(b("XUISpinner.react"),{size:"large"})};d.__getForm=function(){return b("FBPaymentsForm.react")};d.__getCustomFormField=function(){return b("FBPaymentsCustomFormField.react")};d.__getTypeaheadViewItem=function(){return b("FBPaymentsAddressTypeaheadViewItem.react")};return c}(b("FBPaymentsCustomAddressFormBase.react"));e.exports=a}),null);
__d("FBPaymentsMailingAddressSelectorViewV2Base.react",["fbt","FBPaymentsCheckoutContext","React","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.showUpdatedAddressForm=function(){var a;return(a=b("qex")._("858284"))!=null?a:!1};d.shouldHideExtension=function(){return this.props.isExtensionHidden};d.shouldShowErrorMessage=function(){return this.props.showHardError};d.getBackButtonText=function(){return g._("Back")};d.getCancelButtonText=function(){return g._("Cancel")};d.getEditButtonText=function(){return g._("Edit")};d.getHardErrorMessage=function(){return this.props.mailingAddresses.isEmpty()?g._("Please add an address."):g._("Please select a valid address.")};d.getSaveButtonText=function(){return g._("Save")};d.getContinueButtonText=function(){return g._("Continue")};d.getSaveSuggestedButtonText=function(){return g._("Save This Address")};d.getEditEnteredButtonText=function(){return g._("Edit This Address")};d.getDeliveryInformationLabel=function(){var a=this.props.customContent,b=a&&a.extensionLabel;return a&&b===null?null:b||g._("Delivery information")};d.getMailingAddressLabel=function(){var a=this.props.customContent,b=a&&a.addressLabel;return a&&b===null?null:b||g._("Delivery address")};d.getAddMailingAddressNUXLabel=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.addAddressNuxCta:a:a)||g._("Add Address")};d.getAddMailingAddressLabel=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.addAddressPuxCta:a:a)||g._("Add New Address")};d.getSelectMailingAddressLabel=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.selectAddressPuxCta:a:a)||g._("Select Address")};d.getAddAddressTitle=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.formTitle:a:a)||g._("New address")};d.getEditAddressTitle=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.formTitle:a:a)||g._("Edit address")};d.getSuggestedAddressHeader=function(){return g._("Suggested address")};d.getEnteredAddressHeader=function(){return g._("Entered address")};d.getVerifyAddressHeader=function(){return g._("Verify your address")};d.getVerifyAddressMessage=function(){return g._("We couldn't verify the address that you entered. You can save our suggested address or edit the address that you entered.")};d.getShippingAddressMessage=function(){var a;return((a=this.props)!=null?(a=a.customContent)!=null?a.formFooterMessage:a:a)||g._("Your address information is stored securely and only shared with the seller you're purchasing from.")};d.getIndiaDonationDisclaimerMessage=function(){var a;if(this.props.paymentType!="nmor_donation_p4c"||!b("gkx")("1395698"))return null;var c="https://www.facebook.com/legal/donation_button_terms";return g._("Your address will be shared with {nonprofit_name} and is subject to the {donation_terms}.",[g._param("nonprofit_name",(a=this.props.customContent)==null?void 0:a.receiverName),g._param("donation_terms",h.jsx("a",{href:c,target:"_blank",children:g._("Charitable Donation Terms")}))])};return c}(h.Component);a.contextType=b("FBPaymentsCheckoutContext");e.exports=a}),null);
__d("FBPaymentsMailingAddressSelectorViewV2",["cx","invariant","DOMScroll","FBPayCheckoutWebFunnelLoggingUtils","FBPaymentsCustomAddressForm.react","FBPaymentsLoadingView.react","FBPaymentsLoggerConstants","FBPaymentsMailingAddressSelectorViewV2Base.react","FBPaymentsSimpleExtensionView.react","FBPaymentsToastView.react","FBPaymentsUserFacingErrorNotice.react","FBPaymentsUserFacingErrorParser","FDSButton.react","FDSDivider.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSText.react","FlexLayout.react","FlexLayoutItem.react","React","ShimButton.react","XUIGrayText.react","XUINotice.react","cssLength","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("FBPayCheckoutWebFunnelLoggingUtils").webFunnelLogFBPayCheckout,j=b("React"),k=b("FBPaymentsLoggerConstants").LoggerEvent,l=b("FBPaymentsLoggerConstants").LoggerFlowStep,m="new_address";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.handleSelectorChange=function(a,b){a===m?d.props.onAddMailingAddressClick():d.props.onMailingAddressClick(a)},d.$FBPaymentsMailingAddressSelectorViewV21=function(a){d.props.onEditMailingAddressClick(a)},d.$FBPaymentsMailingAddressSelectorViewV22=function(){d.props.logger.setFlowStep(l.SELECT_SHIPPING_ADDRESS).setEventName(k.DISPLAY).log(),i("shipping_address_list_display",d.context.funnelLoggingSessionID)},d.$FBPaymentsMailingAddressSelectorViewV24=function(){var a=d.props.selectedEditAddress?l.EDIT_SHIPPING_ADDRESS:l.ADD_SHIPPING_ADDRESS;i("shipping_address_form_exit_click",d.context.funnelLoggingSessionID);d.props.onCancelActiveStateClick(a)},d.renderMailingAddressSelectorOptionItem=function(a){var c=j.jsx(b("FlexLayoutItem.react"),{shrink:0,children:j.jsx(b("FlexLayout.react"),{direction:"horizontal",justify:"center",children:j.jsx(n,{buttonText:d.getEditButtonText(),mailingAddressId:a.id,onClick:d.$FBPaymentsMailingAddressSelectorViewV21})})});return j.jsx(b("FDSDropdownSelectorOption.react"),{value:a.id,children:j.jsxs(b("FlexLayout.react"),{className:"_6y8h",children:[j.jsxs(b("FlexLayoutItem.react"),{grow:1,className:"_6y8i",children:[j.jsx("div",{className:"_6y8j _6y8k",children:a.addressee}),j.jsx("div",{className:"_6y8j _6y8l",children:a.getSingleLineAddressWithoutName()})]}),c]})},a.id)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){!a.saveErrors&&this.props.saveErrors&&b("DOMScroll").scrollToTop(!0)};d.$FBPaymentsMailingAddressSelectorViewV23=function(){var a,c=this.props.saveErrors;if(!c)return null;a=((a=c)!=null?(a=a.general)!=null?a.message:a:a)||c.message;if(a)return j.jsx(b("XUINotice.react"),{className:"_3-96",use:"warn",children:a});a=c.errorCode;if(a){a=c.errorTitle;var d=c.errorDescription,e=c.flowStep,f=c.imageType;c=b("FBPaymentsUserFacingErrorParser").generateCtaWithHandler(c,this.props.onContactSupportClick);return j.jsx(b("FBPaymentsUserFacingErrorNotice.react"),{callToAction:c,className:"_3-96",description:d,flowStep:e,logger:this.props.logger,title:a,use:f})}return null};d.renderMailingAddressForm=function(){if(this.showUpdatedAddressForm())return this.renderUpdatedMailingAddressForm();var a=this.props,c=a.addressFormConfig,d=a.enteredAddress,e=a.isNewAddressValid,f=a.isSaving,g=a.onAddressFormChanged,h=a.onSaveEditAddress,i=a.onSaveNewAddress,k=a.paymentType,l=a.selectedEditAddress,m=a.showUpfrontAddressCollection;a=a.userGeoCountry;g=j.jsxs("div",{children:[this.$FBPaymentsMailingAddressSelectorViewV23(),j.jsx(b("FBPaymentsCustomAddressForm.react"),{config:c,disableAutoConfigFetch:!0,onChange:g,paymentType:k,prefilledAddressData:(c=d)!=null?c:l,userGeoCountry:a})]});k=m?null:j.jsx(b("FDSButton.react"),{label:this.getCancelButtonText(),margin:"_3-90",onClick:this.$FBPaymentsMailingAddressSelectorViewV24,size:"large"});d=j.jsx(b("FDSButton.react"),{isDisabled:!e||f,label:m?this.getContinueButtonText():this.getSaveButtonText(),onClick:l?h:i,size:"large",use:"primary"});return j.jsxs("div",{className:"_1jnq",children:[j.jsx(b("FBPaymentsLoadingView.react"),{overlay:!0,showLockSpinner:!0,visible:f}),j.jsxs("div",{className:"_1j8c",children:[j.jsxs("div",{className:"_2pi4",children:[j.jsx(b("FDSText.react"),{color:"primary",display:"block",size:"meta1",weight:"bold",children:l?this.getEditAddressTitle():this.getAddAddressTitle()}),j.jsx(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8w",size:"meta1",children:(c=this.getIndiaDonationDisclaimerMessage())!=null?c:this.getShippingAddressMessage()})]}),j.jsx("div",{className:"_3yor",children:g})]}),j.jsxs("div",{className:"_52jw _2ph_",children:[k,d]})]})};d.renderUpdatedMailingAddressForm=function(){var a=this.props,c=a.addressFormConfig,d=a.isNewAddressValid,e=a.isSaving,f=a.logger,g=a.onAddressFormChanged,h=a.onSaveEditAddress,i=a.onSaveNewAddress,k=a.paymentType,l=a.selectedEditAddress,m=a.showUpfrontAddressCollection;a=a.userGeoCountry;c=j.jsxs("div",{className:"_2pie",children:[this.$FBPaymentsMailingAddressSelectorViewV23(),j.jsx(b("FBPaymentsCustomAddressForm.react"),{config:c,disableAutoConfigFetch:!0,enableFloatingLabels:!0,enableTypeaheadExperiment:!0,logger:f,onChange:g,paymentType:k,prefilledAddressData:l,userGeoCountry:a})]});f=l?this.getEditAddressTitle():this.getAddAddressTitle();g=m?this.getContinueButtonText():this.getSaveButtonText();k=j.jsx(b("FDSButton.react"),{label:this.getCancelButtonText(),onClick:this.$FBPaymentsMailingAddressSelectorViewV24,size:"large",width:"100%"});a=j.jsx(b("FDSButton.react"),{isDisabled:!d||e,label:g,onClick:l?h:i,size:"large",use:"primary",width:"100%"});d=j.jsx(b("FlexLayout.react"),{className:"_2pi4",children:m?a:j.jsxs(j.Fragment,{children:[j.jsx(b("FlexLayoutItem.react"),{basis:b("cssLength")("0"),className:"_2pih",grow:1,children:k}),j.jsx(b("FlexLayoutItem.react"),{basis:b("cssLength")("0"),className:"_2pir",grow:1,children:a})]})});return j.jsxs("div",{className:"_1jnq _2pi9",children:[j.jsx(b("FBPaymentsLoadingView.react"),{overlay:!0,showLockSpinner:!0,visible:e}),j.jsxs("div",{className:"_1j8c",children:[j.jsx("div",{className:"_2pid",children:j.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"header4",weight:"bold",children:f})}),c,j.jsx(b("FDSText.react"),{color:"placeholder",display:"block",margin:"_3-8w",size:"meta1",children:this.getShippingAddressMessage()}),d]})]})};d.renderSuggestedAddressView=function(){var a=this.props,c=a.enteredAddress,d=a.isSaving,e=a.onCancelSuggestedAddress,f=a.onSaveSuggestedAddress;a=a.suggestedAddress;a!=null&&c!=null||h(0,13933);f=j.jsx(b("FDSButton.react"),{isDisabled:d,label:this.getSaveSuggestedButtonText(),onClick:f,size:"large",use:"primary",width:"100%"});e=j.jsx(b("FDSButton.react"),{isDisabled:d,label:this.getEditEnteredButtonText(),onClick:e,size:"large",width:"100%"});return j.jsxs("div",{className:"_1jnq",children:[j.jsx(b("FBPaymentsLoadingView.react"),{overlay:!0,showLockSpinner:!0,visible:d}),j.jsxs("div",{className:"_1j8c",children:[j.jsxs("div",{className:"_2pi4",children:[j.jsx(b("FDSText.react"),{color:"primary",display:"block",size:"meta1",weight:"bold",children:this.getVerifyAddressHeader()}),j.jsx(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8m",size:"meta1",children:this.getVerifyAddressMessage()})]}),j.jsxs(b("FlexLayout.react"),{className:"_7ody",children:[j.jsxs(b("FlexLayoutItem.react"),{grow:1,children:[j.jsx(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-94",size:"meta1",weight:"bold",children:this.getSuggestedAddressHeader()}),j.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1",children:a.getMultiLineAddressWithName()})]}),j.jsx(b("FlexLayoutItem.react"),{align:"center",shrink:0,children:f})]}),j.jsxs(b("FlexLayout.react"),{className:"_7ody _3-8y",children:[j.jsxs(b("FlexLayoutItem.react"),{grow:1,children:[j.jsx(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-94",size:"meta1",weight:"bold",children:this.getEnteredAddressHeader()}),j.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1",children:c.getMultiLineAddressWithName()})]}),j.jsx(b("FlexLayoutItem.react"),{align:"center",shrink:0,children:e})]})]})]})};d.renderAddAddressListItems=function(){return[j.jsx(b("FDSDivider.react"),{margin:"_4jnw"},"address_list_item_divider"),j.jsx(b("FDSDropdownSelectorOption.react"),{value:m,children:j.jsx(b("FDSText.react"),{color:"highlight",margin:"_3-8n",children:this.getAddMailingAddressLabel()})},m)]};d.renderMailingAddressesDropdown=function(){var a=this.props,c=a.onAddMailingAddressClick,d=a.mailingAddresses;a=a.selectedAddress;if(d.isEmpty())return j.jsx(b("FDSButton.react"),{label:j.jsx(b("FDSText.react"),{color:"highlight",children:this.getAddMailingAddressNUXLabel()}),margin:"_3-96",onClick:function(){c()},use:"default",width:"100%"});d=d.map(this.renderMailingAddressSelectorOptionItem).concat(this.renderAddAddressListItems());var e=a?a.getSingleLineAddressWithName():this.getSelectMailingAddressLabel();return j.jsx(b("FDSDropdownSelector.react"),{buttonUse:"default",dropdownWidth:"sameAsSelector",label:e,margin:"_3-96",onChange:this.handleSelectorChange,onOpen:this.$FBPaymentsMailingAddressSelectorViewV22,value:a==null?void 0:a.id,width:"100%",children:d.toArray()})};d.renderIndiaDisclaimer=function(){var a=this.getIndiaDonationDisclaimerMessage();return a==null?null:j.jsx(b("XUIGrayText.react"),{className:"_9254",shade:"light",display:"block",children:a})};d.render=function(){if(this.shouldHideExtension())return null;if(this.props.showUpfrontAddressCollection||this.props.isActive)return this.props.suggestedAddress!==null?this.renderSuggestedAddressView():this.renderMailingAddressForm();var a=this.getMailingAddressLabel()?j.jsx(b("FDSText.react"),{color:"placeholder",display:"block",margin:"_3-95",size:"body3",children:this.getMailingAddressLabel()}):null;return j.jsxs(b("FBPaymentsSimpleExtensionView.react"),{title:this.getDeliveryInformationLabel(),children:[j.jsx(b("FBPaymentsToastView.react"),{className:"_2pim",focusOnVisible:this.shouldShowErrorMessage(),padding:"none",text:this.getHardErrorMessage(),type:"user_level_error",visible:this.shouldShowErrorMessage()}),a,this.renderMailingAddressesDropdown(),this.renderIndiaDisclaimer()]})};return c}(b("FBPaymentsMailingAddressSelectorViewV2Base.react"));function n(a){var c=function(b){b.stopPropagation(),a.onClick(a.mailingAddressId)};return j.jsx(b("ShimButton.react"),{className:"_6yc9",onClick:c,children:a.buttonText})}e.exports=a}),null);
__d("FBPaymentsNationalitySelectorViewV2Base.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getNationalitySelectorTitle=function(){var a=this.props.nationalitySelectorConfiguration;return a&&a.title||g._("Citizenship")};return b}(a.PureComponent);e.exports=c}),null);
__d("FBPaymentsNationalitySelectorExtension",["fbt","invariant","FBPaymentsLoggerConstants","FBPaymentsNationalitySelectorActions","FBPaymentsNationalitySelectorExtensionStore","FBPaymentsNationalitySelectorViewV2Base.react","FluxContainer","React"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=b("FBPaymentsLoggerConstants").LoggerEvent,k=b("FBPaymentsLoggerConstants").LoggerFlowStep;function a(a){var c=function(d){"use strict";babelHelpers.inheritsLoose(c,d);function c(){var a,c;for(var e=arguments.length,f=new Array(e),i=0;i<e;i++)f[i]=arguments[i];return(a=c=d.call.apply(d,[this].concat(f))||this,c.DEFAULT_NATIONALITY_OPTION=!0,c.DEFAULT_NATIONALITIES=[{label:g._("Indian"),is_citizen:c.DEFAULT_NATIONALITY_OPTION},{label:g._("Other"),is_citizen:!1}],c.$1=function(a){c.state.nationalityOptions!=null||h(0,19045);var d=c.state.nationalityOptions[a];b("FBPaymentsNationalitySelectorActions").nationalitySelectorOptionClick({index:a,selectedOption:d})},c.$2=function(a){c.props.logger&&c.props.logger.setFlowStep(k.NATIONALITY_SELECTOR_DISCLAIMER).setEventName(j.CLICK).updateExtraData({status:a?"expanded":"collapsed"}).log(),c.setState({showDisclaimerPopupMenu:a})},a)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("FBPaymentsNationalitySelectorExtensionStore")]};c.calculateState=function(){var a=b("FBPaymentsNationalitySelectorExtensionStore").getState();return{nationalityOptions:a.nationalityOptions,selectedIndex:a.selectedIndex,selectedOption:a.selectedOption,showDisclaimerPopupMenu:!1}};var e=c.prototype;e.componentDidMount=function(){this.props.isUsingUpdateCheckoutInfoAPI||b("FBPaymentsNationalitySelectorActions").nationalitySelectorLoaded(this.DEFAULT_NATIONALITIES),this.props.logger.setFlowStep(k.SELECT_NATIONALITY).setEventName(j.INIT).log()};e.render=function(){return i.jsx(a,babelHelpers["extends"]({},this.state,{onToggleDisclaimerPopup:this.$2,onNationalityOptionClick:this.$1,isActive:this.props.isActive}))};return c}(i.PureComponent);return b("FluxContainer").create(c)}e.exports={create:a}}),null);
__d("FBPaymentsNationalitySelectorViewV2.react",["ix","cx","fbt","FBPaymentsButtonGroup.react","FBPaymentsNationalitySelectorViewV2Base.react","FDSButton.react","FDSSpinner.react","FDSText.react","FDSTooltip.react","Image.react","React","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$FBPaymentsNationalitySelectorViewV21=function(){if(!this.props.nationalityOptions)return j.jsx(b("FDSSpinner.react"),{});else return j.jsx(b("FBPaymentsButtonGroup.react"),{onSelectedButtonChange:this.props.onNationalityOptionClick,selectedIndex:this.props.selectedIndex,children:this.props.nationalityOptions.map(function(a,c){return j.jsx(b("FDSButton.react"),{label:a.label,style:{flex:"1"}},c)})})};d.render=function(){return j.jsxs("div",{className:"_3itb _2pip",children:[j.jsxs(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-95",size:"body2",children:[this.getNationalitySelectorTitle(),j.jsx(b("FDSTooltip.react"),{tooltip:i._("Your citizenship determines how the charitable organisation receives your donation. It is a legal requirement."),tooltipWidth:300,position:"right",children:j.jsx(b("Image.react"),{className:"_3-99 _8yik",src:g("481013")})})]}),this.$FBPaymentsNationalitySelectorViewV21()]})};return c}(b("FBPaymentsNationalitySelectorViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsPINVerificationExtension",["FBPaymentsCheckoutActions","FBPaymentsCheckoutConstants","FBPaymentsDispatcher","FBPaymentsPINActions","FluxContainer","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("FBPaymentsCheckoutConstants").Extensions;function a(a,c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){var a,b;for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];return(a=b=e.call.apply(e,[this].concat(d))||this,b.state={needVerification:!1,pin:null,verified:!1},a)||babelHelpers.assertThisInitialized(b)}var f=d.prototype;f.componentDidMount=function(){b("FBPaymentsDispatcher").explicitlyRegisterStore(a),b("FBPaymentsPINActions").fetchPINSettings()};d.getStores=function(){return[a]};d.calculateState=function(b){b=babelHelpers["extends"]({},b);var c=a.getState();b.needVerification=c.needVerification;b.pin=c.pin;b.verified=c.verified;return b};f.$1=function(a){b("FBPaymentsPINActions").pinValidated(a)};f.$2=function(){var a={active:!1,extensionName:h.PIN_VERIFICATION};b("FBPaymentsCheckoutActions").requestActiveExtensionForVerification(a)};f.render=function(){return g.jsx(c,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,isActiveForVerification:this.props.isActiveForVerification,onCancelActiveForVerificationClick:this.$2,onPINEnter:this.$1}))};return d}(g.PureComponent);return b("FluxContainer").create(d)}e.exports={create:a}}),null);
__d("FBPaymentsPINVerificationViewV2Base.react",["fbt","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getBackButtonText=function(){return g._("Back")};return b}(a.Component);c.propTypes={isActive:(d=b("prop-types")).bool.isRequired,isActiveForVerification:d.bool.isRequired,onCancelActiveForVerificationClick:d.func.isRequired,onPINEnter:d.func.isRequired};e.exports=c}),null);
__d("FBPaymentsPINVerificationViewV2.react",["FBPaymentsPINConstants","FBPaymentsPINFlowContainerV2.react","FBPaymentsPINVerificationViewV2Base.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("FBPaymentsPINConstants").PIN_FLOW_TYPES;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return this.props.isActiveForVerification?g.jsx(b("FBPaymentsPINFlowContainerV2.react"),{flowType:h.VALIDATE_PIN,hideDoneButtonWhenValid:!0,onCancel:this.props.onCancelActiveForVerificationClick,onSuccess:this.props.onPINEnter}):null};return c}(b("FBPaymentsPINVerificationViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsPaymentMethodSelectorExtension",["invariant","Promise","CHEXSandboxPrefillPaymentsDataConfig","FBPayCheckoutWebFunnelLoggingUtils","FBPaymentsAffirmMonthlyPayment","FBPaymentsCheckoutConstants","FBPaymentsCheckoutContext","FBPaymentsCreditCard","FBPaymentsCreditCardVerificationHelper","FBPaymentsDispatcher","FBPaymentsLoggerConstants","FBPaymentsModulesAPIShared","FBPaymentsModulesAPIUtils","FBPaymentsNewPaymentOptionTypes","FBPaymentsPaymentMethodActions","FBPaymentsPaymentMethodTypes","FBPaymentsPayPalBillingAgreement","FBPaymentsPayPalBillingAgreementTypes","FBPaymentsPerfLogger","FBPaymentsUniversalErrorUtils","FluxContainer","React","emptyFunction","immutable","killswitch"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBPayCheckoutWebFunnelLoggingUtils").webFunnelLogFBPayCheckout,i=b("React");b("immutable").Map;var j=b("FBPaymentsLoggerConstants").LoggerEvent,k=b("FBPaymentsLoggerConstants").LoggerFlowStep,l=b("FBPaymentsCheckoutConstants").Extensions;function a(a,c,d,e,f){var m=function(n){babelHelpers.inheritsLoose(m,n);function m(a){var c,d;d=n.call(this,a)||this;d.state={billingCountry:null,convertPayPalError:null,creditCardVerificationData:{},isConvertingPayPal:!1,isCreditCardVerificationDataValid:!1,isInitialized:!1,isNUXInlineCardFormMode:!1,isNUXInlineCardFormSavingCreditCard:!1,isPUXInlineCardFormMode:!1,isPUXNewPaymentOptionTabEnabled:!1,isLoading:!1,isSaving:!1,isURIReturnedFromCancelPayPal:!1,needVerification:!1,newCredentialID:null,newPaymentOptionData:null,onlyShowFirstExistingPaymentMethod:d.getOnlyShowFirstExistingPaymentMethod(),paymentMethodsInfo:null,paymentMethodsFrictionAttemptsInfo:null,saveErrors:null,selectedBank:null,selectedNewPaymentOptionType:null,selectedPaymentMethod:null,selectedPaymentMethodID:null,selectedPaymentMethodOrNewPaymentOption:null,selectedBillingCountry:null,showHardError:!1,verificationData:null};d.handleBankClick=function(a){d.props.logger.setFlowStep(k.SELECT_BANK_ACCOUNT).setEventName(j.CLICK).updateExtraData({bank_name:a.name}).log(),b("FBPaymentsPaymentMethodActions").handleBankClick({selectedBank:a})};d.handleExistingPaymentMethodClick=function(a){var c=d.context.funnelLoggingSessionID;b("FBPaymentsPaymentMethodActions").handleExistingPaymentMethodClick({paymentMethod:a});d.props.logger.setFlowStep(k.SELECT_PAYMENT_METHOD).setEventName(j.CLICK).updateExtraData({type:a.type,id:a.id}).log();h("select_credential",c,null,{selected_credential_id:a.id,selected_credential_type:a.type})};d.handleNewPaymentOptionClick=function(a,c){var e=d.getLoggerFlowStepForNewPaymentOption(a);d.props.logger.setFlowStep(e).setEventName(j.DISPLAY).log();d.funnelLogCheckoutEventForNewPaymentOption(a);b("FBPaymentsPaymentMethodActions").handleNewPaymentOptionClick({selectedNewPaymentOptionType:a,altPayID:c})};d.handleSaveCreditCardCheckboxClick=function(a){if(!d.getIsDirectChargeAllowed())return;a=a.target.checked;var c=a?j.CHECK:j.UNCHECK;d.props.logger.setFlowStep(k.CLICK_SAVE_CC_CHECKBOX).setEventName(c).log();b("FBPaymentsPaymentMethodActions").handleSaveCreditCardCheckboxClick({isNUXInlineCardFormSavingCreditCard:a})};d.handleSaveNewPaymentOptionPrePaymentCall=function(a,c){b("FBPaymentsPaymentMethodActions").clearSaveErrors(),d.saveNewPaymentOption(function(c){var e,f=d.state.selectedNewPaymentOptionType;switch(f){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:e=new(b("FBPaymentsCreditCard"))({id:c});d.state.newPaymentOptionData||g(0,1007);var h=d.state.newPaymentOptionData.data;b("FBPaymentsPaymentMethodActions").updateVerificationData({verificationData:babelHelpers["extends"]({csc:h.csc},d.state.verificationData)});break;case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:b("FBPaymentsPerfLogger").logPaymentEvent(b("FBPaymentsLoggerConstants").PerformanceLogging.PAYPAL_FLOW_CLOSED);e=new(b("FBPaymentsPayPalBillingAgreement"))({id:c});break;case b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM:e=new(b("FBPaymentsAffirmMonthlyPayment"))({id:c});break;default:g(0,1008,f)}d.logNewPaymentOptionSaved(c,f);if(f!==b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM){h=d.constructor.$1(d.props);d.props.isUsingUpdateCheckoutInfoAPI?b("FBPaymentsModulesAPIShared").fetchPaymentMethodsInfoGraphQL(h):b("FBPaymentsPaymentMethodActions").fetchPaymentMethods(h);b("FBPaymentsPaymentMethodActions").selectSavedNewPaymentOptions(e)}d.props.logger.updateExtraData({default_save_cc_option:+d.isNUXInlineCardFormSavingCreditCardDefault,did_user_save_cc:+d.state.isNUXInlineCardFormSavingCreditCard});a({paymentMethod:e})},function(a){d.handleNewPaymentOptionSavedError(a),c(a)},c)};d.returnCCDataPrePaymentCall=function(a,c){b("FBPaymentsPaymentMethodActions").clearSaveErrors();d.state.newPaymentOptionData||g(0,1007);c=d.state.newPaymentOptionData.data;c.country||(c.country=d.state.billingCountry);b("FBPaymentsPaymentMethodActions").setFakeSelectedPaymentMethod();d.props.logger.updateExtraData({default_save_cc_option:+d.isNUXInlineCardFormSavingCreditCardDefault,did_user_save_cc:+d.state.isNUXInlineCardFormSavingCreditCard});a(b("FBPaymentsModulesAPIUtils").prepareDirectChargeCreditCardData(c))};d.handleNewPaymentOptionFormDataUpdated=function(a){var c;c=a==null?void 0:(c=a.data)==null?void 0:c.country;var e=d.state.selectedBillingCountry;if(e!==c){var f;f=(f=d.props)==null?void 0:(f=f.checkoutExtraProps)==null?void 0:f.onBillingCountryChange;f&&f(c||e)}b("FBPaymentsPaymentMethodActions").handleNewPaymentOptionFormDataUpdated({newPaymentOptionData:a,itemType:d.getPaymentType()})};d.handleSaveNewPaymentOption=function(){b("FBPaymentsPaymentMethodActions").beforeSaveNewPaymentOptions(),d.saveNewPaymentOption(d.handleNewPaymentOptionSaved,d.handleNewPaymentOptionSavedError,d.handleCancelSaveNewPaymentOption)};d.handleNewPaymentOptionSaved=function(a){d.logNewPaymentOptionSaved(a,d.state.selectedNewPaymentOptionType);if(d.state.selectedNewPaymentOptionType!==b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM){var c=d.constructor.$1(d.props);b("FBPaymentsPaymentMethodActions").fetchPaymentMethods(c)}b("FBPaymentsPaymentMethodActions").handleNewPaymentOptionSaved({newCredentialID:a})};d.handleNewPaymentOptionSavedError=function(a){var c=d.getLoggerFlowStepForNewPaymentOption(d.state.selectedNewPaymentOptionType);d.props.logger.setFlowStep(c).setEventName(j.FAIL).updateExtraData({errors:a}).log();b("FBPaymentsPaymentMethodActions").handleNewPaymentOptionSavedError({saveErrors:a})};d.handleCancelSaveNewPaymentOption=function(){var a=d.getLoggerFlowStepForNewPaymentOption(d.state.selectedNewPaymentOptionType);d.props.logger.setFlowStep(a).setEventName(j.CANCEL_SAVING).log();b("FBPaymentsPaymentMethodActions").handleCancelSaveNewPaymentOption()};d.handleCancelActiveStateClick=function(){var a=d.getLoggerFlowStepForNewPaymentOption(d.state.selectedNewPaymentOptionType);d.props.logger.setFlowStep(a).setEventName(j.CANCEL).log();a=d.state.isPUXInlineCardFormMode?d.state.newPaymentOptionData:null;b("FBPaymentsPaymentMethodActions").handleCancelActiveStateClick({newPaymentOptionData:a})};d.handleCancelActiveForVerificationClick=function(){var a=d.state.selectedPaymentMethod;a=d.getLoggerFlowStepForVerification((a=a)!=null?a.type:a);d.props.logger.setFlowStep(a).setEventName(j.CANCEL).log();b("FBPaymentsPaymentMethodActions").handleCancelActiveForVerificationClick();d.props.onExtensionWidthChange(null)};d.handlePaymentInfoDataPreparation=function(){var a=d.state,c;a.needVerification?c=d.handleCreditCardVerificationPrePaymentCall:(a.selectedNewPaymentOptionType===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD||a.selectedNewPaymentOptionType===b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL&&!e.shouldConnectPayPalInCheckoutContainer()||a.selectedNewPaymentOptionType===b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM)&&(a.selectedNewPaymentOptionType===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD&&!a.isNUXInlineCardFormSavingCreditCard&&d.getIsDirectChargeAllowed()?c=d.returnCCDataPrePaymentCall:c=d.handleSaveNewPaymentOptionPrePaymentCall);return!c?null:new(b("Promise"))(function(a,b){c&&c(function(b){b=b||{},a({success:!0,data:b})},function(b){a({success:!1,error:b})})})};d.handleCreditCardVerificationPrePaymentCall=function(a,c){var e=d.constructor.$2(d.state.selectedPaymentMethod,d.props);e=b("FBPaymentsCreditCardVerificationHelper").shouldUpdateCreditCard(e);var g=function(){b("FBPaymentsPaymentMethodActions").completeCreditCardVerification({verificationData:{verified:!0,csc:d.state.creditCardVerificationData.csc}}),d.props.logger.setFlowStep(k.UPDATE_CARD).setEventName(j.SUCCESS).log(),a()},h=function(a){b("FBPaymentsPaymentMethodActions").handleUpdateCreditCardError({saveErrors:a}),d.props.logger.setFlowStep(k.UPDATE_CARD).setEventName(j.FAIL).updateExtraData({errors:a}).log(),c(a)};if(e){b("FBPaymentsPaymentMethodActions").beforeUpdateCreditCard();e=babelHelpers["extends"]((e={},e.cc_fbid=d.state.selectedPaymentMethodID,e),d.state.creditCardVerificationData,(e={},e.combined_payment_type=d.getPaymentType(),e.session_id=d.getLoggerSessionID(),e.logging_id=d.getLoggerSessionID(),e));d.props.logger.setFlowStep(k.UPDATE_CARD).setEventName(j.API_INIT).log();d.getPaymentType()==="mor_facebook_shop"?b("FBPaymentsModulesAPIShared").updateCreditCardRelayGraphQL(e,g,h):f.updateCreditCardGraphQL(e,g,h)}else g()};d.handleConvertPayPalBAToCIB=function(a){b("FBPaymentsPaymentMethodActions").beforeConvertPayPalBAToCIB();var c={billing_agreement_id:a.id,billing_agreement_type:b("FBPaymentsPayPalBillingAgreementTypes").CIB,logging_id:d.getLoggerSessionID()};d.props.logger.setFlowStep(k.PAYPAL_CONSENT).setEventName(j.API_INIT).setPaymentMethodID(a.id).log();f.convertPayPalBAToCIB(c,d.handleConvertPayPalBAToCIBSuccess,d.handleConvertPayPalBAToCIBError)};d.handleConvertPayPalBAToCIBSuccess=function(a){d.props.logger.setFlowStep(k.PAYPAL_CONSENT).setEventName(j.SUCCESS).setPaymentMethodID(a).log(),b("FBPaymentsPaymentMethodActions").convertPayPalBAToCIBV2(),d.props.onExtensionWidthChange(null)};d.handleConvertPayPalBAToCIBError=function(a){d.props.logger.setFlowStep(k.PAYPAL_CONSENT).setEventName(j.FAIL).setErrorMessage(b("FBPaymentsUniversalErrorUtils").getUserFacingErrorMessage(a)).log(),b("FBPaymentsPaymentMethodActions").handleConvertPayPalBAToCIBError({convertPayPalError:a})};d.isNUXInlineCardFormSavingCreditCardDefault=d.state.isNUXInlineCardFormSavingCreditCard;b("FBPaymentsDispatcher").explicitlyRegisterStores(d.constructor.getStores(a));c=(c=d.props)!=null?(c=c.checkoutExtraProps)!=null?c.shouldVerifyCSC:c:c;b("FBPaymentsPaymentMethodActions").setShouldVerifyCSC({shouldVerifyCSC:d.props.checkoutConfiguration.paymentInfo.paymentItemType==="nmor_donation_p4c"||!!c||Boolean((c=d.state.selectedPaymentMethod)==null?void 0:c.isSoftDisabled)});a=(c=a)!=null?(c=c.checkoutExtraProps)!=null?c.affirmCredentialID:c:c;b("FBPaymentsPaymentMethodActions").setAffirmCredentialID(a);c=d.getOnlyShowFirstExistingPaymentMethod();b("FBPaymentsPaymentMethodActions").setOnlyShowFirstExistingPaymentMethod({onlyShowFirstExistingPaymentMethod:c});return d}var o=m.prototype;o.componentDidMount=function(){this.state.isURIReturnedFromCancelPayPal&&this.props.logger.setFlowStep(k.ADD_PAYPAL).setEventName(j.CANCEL).logVital(),b("FBPaymentsPaymentMethodActions").registerExtensionDataPreparer(this.handlePaymentInfoDataPreparation)};o.componentDidUpdate=function(a,c){!c.needVerification&&this.state.needVerification&&this.state.selectedPaymentMethod&&this.state.selectedPaymentMethod.type===b("FBPaymentsPaymentMethodTypes").CREDIT_CARD&&this.props.logger.setFlowStep(k.UPDATE_CARD).setEventName(j.DISPLAY).log()};m.getStores=function(a){if(a.isUsingUpdateCheckoutInfoAPI)return[e,c];else return[d,e,c]};m.$1=function(a){var b,c=a.checkoutConfiguration.paymentInfo;b=(b=a)!=null?(b=b.checkoutExtraProps)!=null?b.affirmCredentialID:b:b;return{paymentType:c.paymentItemType,orderID:c.orderId,receiverID:c.receiverId,extraData:c.extraData,isGuestCheckout:a.isGuestCheckout,affirmCredentialID:b}};m.$2=function(a,c){if(!a)return[];switch(a.type){case b("FBPaymentsPaymentMethodTypes").CREDIT_CARD:var d=new Set(a.getVerifyFields());c=((c=c)!=null?(c=c.checkoutExtraProps)!=null?c.shouldVerifyCSC:c:c)||a.isSoftDisabled;c&&d.add("csc");return Array.from(d);default:return[]}};m.$3=function(a,c){switch(a){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:case b("FBPaymentsNewPaymentOptionTypes").NEW_ALT_PAY:return!!c&&c.isValid;default:return!0}};m.calculateState=function(a,b){a=babelHelpers["extends"]({},a);var f=this.$1(b);b.isUsingUpdateCheckoutInfoAPI||d.get(f,b.logger.getSessionID());f=c.getState();b=b.extensionConfiguration.identifier;b=e.getShowHardErrorOnExtension(b);a.billingCountry=f.billingCountry;a.convertPayPalError=f.convertPayPalError;a.creditCardVerificationData=f.creditCardVerificationData;a.isConvertingPayPal=f.isConvertingPayPal;a.isCreditCardVerificationDataValid=f.isCreditCardVerificationDataValid;a.isInitialized=f.isInitialized;a.isLoading=f.isLoading;a.isNUXInlineCardFormMode=f.isNUXInlineCardFormMode;a.isNUXInlineCardFormSavingCreditCard=f.isNUXInlineCardFormSavingCreditCard;a.isPUXInlineCardFormMode=f.isPUXInlineCardFormMode;a.isPUXNewPaymentOptionTabEnabled=f.isPUXNewPaymentOptionTabEnabled;a.isSaving=f.isSaving;a.isURIReturnedFromCancelPayPal=f.isURIReturnedFromCancelPayPal;a.needVerification=f.needVerification;a.newCredentialID=f.newCredentialID;a.newPaymentOptionData=f.newPaymentOptionData;a.onlyShowFirstExistingPaymentMethod=f.onlyShowFirstExistingPaymentMethod;a.paymentMethodsInfo=f.paymentMethodsInfo;a.paymentMethodsFrictionAttemptsInfo=f.paymentMethodsFrictionAttemptsInfo;a.saveErrors=f.saveErrors;a.selectedBank=f.selectedBank;a.selectedNewPaymentOptionType=f.selectedNewPaymentOptionType;a.selectedPaymentMethod=f.selectedPaymentMethod;a.selectedPaymentMethodID=f.selectedPaymentMethodID;a.selectedPaymentMethodOrNewPaymentOption=f.selectedPaymentMethodOrNewPaymentOption;a.selectedBillingCountry=f.selectedBillingCountry;a.showHardError=b;a.verificationData=f.verificationData;return a};o.getLoggerFlowStepForNewPaymentOption=function(a){switch(a){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:return k.ADD_CARD;case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:return k.ADD_PAYPAL;case b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM:return k.ADD_AFFIRM;default:return""}};o.funnelLogCheckoutEventForNewPaymentOption=function(a){var c=this.context.funnelLoggingSessionID;switch(a){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:h("select_add_credit_card_option",c);return;case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:h("select_add_paypal_option",c);return;default:return}};o.getLoggerFlowStepForVerification=function(a){switch(a){case b("FBPaymentsPaymentMethodTypes").CREDIT_CARD:return k.VERIFY_CARD;case b("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT:return k.PAYPAL_CONSENT;default:return""}};o.getLoggerSessionID=function(){return this.props.logger.getSessionID()};o.getPaymentType=function(){return this.props.checkoutConfiguration.paymentInfo.paymentItemType};o.getPaymentAccountID=function(){var a;return((a=this.state)!=null?(a=a.paymentMethodsInfo)!=null?a.accountID:a:a)||""};o.getOnlyShowFirstExistingPaymentMethod=function(){var a;return!!((a=this.props)!=null?(a=a.checkoutExtraProps)!=null?a.onlyShowFirstExistingPaymentMethod:a:a)};o.handleSecondaryPaymentMethodCheckboxClick=function(a,c){b("FBPaymentsPaymentMethodActions").handleSecondaryPaymentMethodCheckboxClick({paymentMethod:a},c)};o.getIsDirectChargeAllowed=function(){var a=this.props.isGuestCheckout;return a?!1:!1};o.saveNewPaymentOption=function(a,c,d){var h=this,i=this.state.selectedNewPaymentOptionType,k=this.getLoggerFlowStepForNewPaymentOption(i);this.props.logger.setFlowStep(k).setEventName(j.API_INIT).log();switch(i){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:k=this.state.newPaymentOptionData;k||g(0,1009,i);var m=this.props.checkoutConfiguration.paymentInfo;k=k.data;k.combined_payment_type=this.getPaymentType();k.receiver_id=m.receiverId;k.session_id=this.getLoggerSessionID();k.logging_id=this.getLoggerSessionID();k.country||(k.country=this.state.billingCountry);m=(m=e.getState().checkoutInfoGraphQLResponse)==null?void 0:m.should_switch_to_payment_dev_env;this.getPaymentType()==="mor_facebook_shop"?b("FBPaymentsModulesAPIShared").addCreditCardRelayGraphQL(k,a,c):f.addCreditCardGraphQL(k,m,a,c);break;case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:k={logger:this.props.logger,paymentType:this.props.checkoutConfiguration.paymentInfo.paymentItemType,onSuccess:a,onError:c,onCancel:function(){return h.handleCancelConnectPaypal(d)}};b("FBPaymentsPaymentMethodActions").connectPayPal(k);break;case b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM:m=this.props.extensionConfiguration.identifier===l.PAYMENT_METHOD?this.props.extensionConfiguration.affirmCheckoutObject:null;!m&&g(0,1312);k={affirmCheckoutObject:m,checkoutConfig:this.props.checkoutConfiguration,checkoutExtraProps:this.props.checkoutExtraProps||{},onAuthorizeSuccess:a,onCancel:d,onError:c};b("FBPaymentsPaymentMethodActions").connectAffirm(k);break;default:g(0,1008,i)}};o.logNewPaymentOptionSaved=function(a,b){b=this.getLoggerFlowStepForNewPaymentOption(b);this.props.logger.setFlowStep(b).setEventName(j.SUCCESS).setPaymentMethodID(a).logVital()};o.handleCancelConnectPaypal=function(a){this.props.logger.setFlowStep(k.ADD_PAYPAL).setEventName(j.CANCEL).logVital(),a()};o.handleCreditCardVerificationFormValidation=function(a,c){b("FBPaymentsPaymentMethodActions").handleCreditCardVerificationFormValidation({creditCardVerificationData:c,isCreditCardVerificationDataValid:a})};o.handleShowOtherPaymentMethodClick=function(){b("FBPaymentsPaymentMethodActions").setOnlyShowFirstExistingPaymentMethod({onlyShowFirstExistingPaymentMethod:!1})};o.shouldPrefillCreditCardDetailsForDev=function(){var a;return((a=e.getState().checkoutInfoGraphQLResponse)==null?void 0:a.should_switch_to_payment_dev_env)&&!b("killswitch")("COMMERCE_SANDBOX_PREFILL_PAYMENT_INFO")&&this.getPaymentType()==="nmor_checkout_experiences"};o.getExtensionPrefillData=function(){var a=this.props.extensionConfiguration.identifier===l.PAYMENT_METHOD?this.props.extensionConfiguration.extensionPrefillData:null;if(this.shouldPrefillCreditCardDetailsForDev()){var c;a={card_holder_name:(c=(c=a)==null?void 0:c.card_holder_name)!=null?c:"",city:(c=(c=a)==null?void 0:c.city)!=null?c:"",creditCardNumber:b("CHEXSandboxPrefillPaymentsDataConfig").CC_DETAILS.CC_NUMBER,exp:b("CHEXSandboxPrefillPaymentsDataConfig").CC_DETAILS.MMYY,csc:b("CHEXSandboxPrefillPaymentsDataConfig").CC_DETAILS.CSC,street:(c=(c=a)==null?void 0:c.street)!=null?c:"",state:(c=(c=a)==null?void 0:c.state)!=null?c:"",zip:b("CHEXSandboxPrefillPaymentsDataConfig").CC_DETAILS.ZIP}}return a};o.render=function(){var c=this.constructor.$3(this.state.selectedNewPaymentOptionType,this.state.newPaymentOptionData);return i.jsx(a,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,isActiveForVerification:this.props.isActiveForVerification,isGuestCheckout:this.props.isGuestCheckout,extensionPrefillData:this.getExtensionPrefillData(),logger:this.props.logger,newPaymentOptionSaveEnabled:c,shouldDisableCreditCardFormFields:this.shouldPrefillCreditCardDetailsForDev(),onAddPaymentMethodClick:b("emptyFunction"),onBankClick:this.handleBankClick,onCancelActiveForVerificationClick:this.handleCancelActiveForVerificationClick,onCancelActiveStateClick:this.handleCancelActiveStateClick,onContactSupportClick:this.props.onContactSupportClick,onConvertPayPalBAToCIB:this.handleConvertPayPalBAToCIB,onCreditCardVerificationFormValidation:this.handleCreditCardVerificationFormValidation,onExtensionWidthChange:this.props.onExtensionWidthChange,onNewPaymentOptionClick:this.handleNewPaymentOptionClick,onNewPaymentOptionFormDataUpdated:this.handleNewPaymentOptionFormDataUpdated,onPaymentMethodClick:this.handleExistingPaymentMethodClick,onSaveCreditCardCheckboxClick:this.handleSaveCreditCardCheckboxClick,onSaveNewPaymentOption:this.handleSaveNewPaymentOption,onSecondaryPaymentMethodCheckboxClick:this.handleSecondaryPaymentMethodCheckboxClick,onShowOtherPaymentMethodClick:this.handleShowOtherPaymentMethodClick,paymentType:this.getPaymentType(),renderInline:!!((c=this.props)!=null?(c=c.checkoutConfiguration)!=null?(c=c.contentConfiguration)!=null?c.renderInline:c:c:c)}))};return m}(i.PureComponent);m.contextType=b("FBPaymentsCheckoutContext");return b("FluxContainer").create(m,{withProps:!0})}e.exports={create:a}}),null);
__d("FBPaymentsAltPayForm.react",["cx","fbt","FlexLayout.react","PhoneCodes","PhoneCodeSelector.react","PhoneNumberValidator.react","PositionEnum","React","SUIBorderUtils","SUIBusinessTheme","SUITextInput.react","WitUnderscore","cxMargin","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a="US";var j=h._("Type phone number"),k=h._("Invalid phone number");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={country:d.props.initialCountryCode,phoneNumber:d.props.initialPhoneNumber,validationResult:null,isTextInputFocus:!1,supportedPhoneCodes:b("PhoneCodes")},d.$1=function(){var a;a=((a=d.state.validationResult)==null?void 0:a.status)==="valid";d.state.phoneNumber!==""&&!a&&!d.state.isTextInputFocus?d.setState({textInputErrorMessage:k}):d.setState({textInputErrorMessage:""});d.props.onFormDataChange(a,d.state.validationResult)},d.$2=function(a,b){d.setState({country:b})},d.$3=function(a){d.$4(a)&&d.setState({phoneNumber:a})},d.$5=function(a){d.setState({validationResult:a},d.$1)},d.$6=function(a){d.setState({isTextInputFocus:!0,textInputErrorMessage:""})},d.$7=function(a){d.setState({isTextInputFocus:!1},d.$1)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1();var a=b("WitUnderscore").pick(b("PhoneCodes"),this.props.supportedCountries);this.setState({supportedPhoneCodes:a})};d.$4=function(a){var b=new RegExp("^[0-9]*$");return b.test(a)};d.render=function(){return!this.props.shouldCollectMSISDN?i.jsx("div",{className:"_8cb_",children:this.props.children}):i.jsxs("div",{className:"_89oq",children:[i.jsxs(b("FlexLayout.react"),{children:[i.jsx(b("PhoneCodeSelector.react"),{initialCountryCode:this.props.initialCountryCode,phoneCodes:this.state.supportedPhoneCodes,showCountryCode:this.props.showCountryCode,onUpdate:this.$2}),i.jsx(b("SUITextInput.react"),{margin:this.props.textInputMargin,defaultValue:this.props.initialPhoneNumber,errorTooltipPosition:this.props.errorTooltipPosition,value:this.state.phoneNumber,maxLength:this.props.maxLength,onChange:this.$3,onFocus:this.$6,onBlur:this.$7,placeholder:j,borderedSides:this.props.borderedSides,roundedCorners:this.props.roundedCorners,theme:this.props.textInputTheme,width:this.props.textInputWidth,errorMessage:this.state.textInputErrorMessage})]}),i.jsx(b("PhoneNumberValidator.react"),{phoneNumber:this.state.phoneNumber,regionCode:this.state.country,onChange:this.$5}),this.props.children]})};return c}(i.Component);c.defaultProps={initialCountryCode:a,initialPhoneNumber:"",shouldCollectMSISDN:!1,supportedCountries:[],textInputMargin:"_3-9b",textInputTheme:b("SUIBusinessTheme"),textInputWidth:"100%",errorTooltipPosition:b("PositionEnum").above,roundedCorners:b("SUIBorderUtils").ALL_CORNERS,borderedSides:b("SUIBorderUtils").ALL_SIDES,onFormDataChange:b("emptyFunction"),showCountryCode:!1};e.exports=c}),null);
__d("FBPaymentsBubble.react",["cx","FBPayCheckoutWebFunnelLoggingUtils","FBPaymentsCheckoutContext","FDSText.react","FlexLayout.react","Image.react","Link.react","React","TextWithEntities.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBPayCheckoutWebFunnelLoggingUtils").webFunnelLogFBPayCheckout,i=b("React");c=b("React");var j=c.useContext,k=16;function a(a){var c=a.bubble;a=a.type;a=a===void 0?"PaymentMethod":a;var d=j(b("FBPaymentsCheckoutContext")),e=d.funnelLoggingSessionID;if(!c)return null;d=c.description_with_entity;c=c.icon_url;var f=d==null?void 0:d.ranges;d=d==null?void 0:d.text;var g=function(){e!=null&&h("fbpay_nux_bubble_learn_more_click",e)},l=function(a,c){c=(c.entity||{}).url;return c==null?i.jsx("span",{children:a}):i.jsx(b("Link.react"),{href:c,onClick:g,target:"_blank",children:a})};return i.jsx("div",{className:(a==="PaymentMethod"?"_8yfm":"")+(a==="ShippingAddress"?" _8yfn":""),children:i.jsx(b("FlexLayout.react"),{justify:"all",align:"center",children:i.jsxs(b("FlexLayout.react"),{align:"start",direction:"horizontal",children:[i.jsxs(b("FlexLayout.react"),{children:[i.jsx(b("Image.react"),{src:c,width:k,height:k,className:"_3-90 _3-8w"}),i.jsx("div",{})]}),i.jsx(b("FlexLayout.react"),{direction:"vertical",children:i.jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:i.jsx(b("TextWithEntities.react"),{interpolator:l,ranges:f,text:d})})})]})})})}e.exports=a}),null);
__d("FBPaymentsCheckbox.react",["ix","cx","FDSText.react","FlexLayout.react","Image.react","React","ShimButton.react","asset","cxMargin","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isChecked:c.props.isChecked},c.handleLabelClick=function(){c.setState(function(a){return{isChecked:!a.isChecked}},function(){return c.props.onLabelClick(c.state.isChecked)})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.onLabelClick(this.props.isChecked)};d.render=function(){var a=this.state.isChecked?g("492798"):g("496536"),c="_720h _71_z";return i.jsx("div",{className:"_71_-",children:i.jsx(b("ShimButton.react"),{onClick:this.handleLabelClick,children:i.jsx(b("FlexLayout.react"),{align:"center",className:c,justify:"all",children:i.jsxs(b("FlexLayout.react"),{align:"center",justify:"start",children:[i.jsx(b("Image.react"),{className:"_71__",src:a}),i.jsx(b("FDSText.react"),{margin:"_3-8o",size:"header4",children:this.props.label})]})})})})};return c}(i.Component);a.defaultProps={onLabelClick:b("emptyFunction")};e.exports=a}),null);
__d("FBPaymentsConsentViewBase.react",["React","prop-types"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a.Component);c.propTypes={consentContent:(d=b("prop-types")).node.isRequired,logoSrc:d.object,subtitle:d.node,termsAndPoliciesText:d.node.isRequired,title:d.node};e.exports=c}),null);
__d("FBPaymentsConsentView.react",["cx","FBPaymentsConsentViewBase.react","Image.react","React","XUIGrayText.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.logoSrc?h.jsx(b("Image.react"),{src:this.props.logoSrc}):null,c=this.props.title!=null?h.jsx("div",{className:"_1awf",children:this.props.title}):null,d=this.props.subtitle!=null?h.jsx(b("XUIGrayText.react"),{display:"block",shade:"medium",size:"header3",weight:"bold",children:this.props.subtitle}):null;return h.jsxs("div",{className:"_1awe",children:[h.jsxs("div",{className:"_52jv",children:[a,c]}),d,h.jsx(b("XUIGrayText.react"),{className:"_1awg",display:"block",shade:"medium",size:"header3",children:this.props.consentContent}),h.jsx(b("XUIGrayText.react"),{display:"block",shade:"medium",size:"header3",children:this.props.termsAndPoliciesText})]})};return c}(b("FBPaymentsConsentViewBase.react"));e.exports=a}),null);
__d("FBPaymentsPaymentMethodSelectorViewV2Base.react",["fbt","invariant","ix","FBPaymentsNewPaymentOptionTypes","FBPaymentsPaymentMethodTypes","FBPaymentsPaymentMethodUtils","PaymentMethodUtils","React","ZipcodeCollectIndicatorFields","immutable","qex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("immutable").List;b("immutable").Map;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.handleCreditCardFormValidation=function(a,c){c={newPaymentOptionType:b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD,data:c||{},isValid:a};d.props.onNewPaymentOptionFormDataUpdated(c)},d.handleNewCreditCardFormValidation=function(a,c){a={newPaymentOptionType:b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD,data:a||{},isValid:c};d.props.onNewPaymentOptionFormDataUpdated(a)},d.handleNewCreditCardVerificationFormValidation=function(a,b){d.props.onCreditCardVerificationFormValidation(b,a)},d.handleNewMobileAltPayFormValidation=function(a,c){c={newPaymentOptionType:b("FBPaymentsNewPaymentOptionTypes").NEW_ALT_PAY,data:c||{},isValid:a};d.props.onNewPaymentOptionFormDataUpdated(c)},d.handleNewAltPayFormValidation=function(){var a={newPaymentOptionType:b("FBPaymentsNewPaymentOptionTypes").NEW_ALT_PAY,data:{},isValid:!0};d.props.onNewPaymentOptionFormDataUpdated(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldShowHardErrorMessage=function(){return this.props.showHardError};d.getAdditionalFields=function(){var a=this.getNewPaymentOptions();a=a.find(function(a){return a.type===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD});return a?a.additionalFields:null};d.getPaymentMethods=function(){var a=this.props.paymentMethodsInfo||{};return a.paymentMethods||k()};d.getPaymentMethodsFrictionAttemptsInfo=function(){return this.props.paymentMethodsFrictionAttemptsInfo};d.isPaymentMethodsFrictionAttemptExceedsMaxTry=function(a,b){if(!a||!b)return!1;b=b.get(a);return!b?!1:b.numberOfAttempts>=b.numberOfMaxTry};d.getSecondaryPaymentMethod=function(){var a=this.props.paymentMethodsInfo||{};a=a.secondaryPaymentMethods||k();return a.first()};d.getNewPaymentOptions=function(){var a=this.props.paymentMethodsInfo||{};a=a.newPaymentOptions||k();return this.maybePrioritizeNewPayPalPaymentOption(a)};d.maybePrioritizeNewPayPalPaymentOption=function(a){if(this.getPaymentMethods().size>0)return a;a=a.groupBy(function(a){return a.type===b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL?1:0});var c=a.has(1)?a.get(1):k();a=a.has(0)?a.get(0):k();return c.concat(a)};d.shouldUseGiftcardBalanceCheckbox=function(a){a=a.credential_type||a.type;return a===b("FBPaymentsPaymentMethodTypes").GIFTCARD_BALANCE?!0:!1};d.getPaymentMethodSubtype=function(a){var c=a.type;Object.values(b("FBPaymentsPaymentMethodTypes")).includes(c)||h(0,3608,c);switch(c){case b("FBPaymentsPaymentMethodTypes").CREDIT_CARD:return a.cardType;case b("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT:return"paypal";case b("FBPaymentsPaymentMethodTypes").MANUAL_TRANSFER:return"manual_transfer";case b("FBPaymentsPaymentMethodTypes").NET_BANKING:return"net_banking";case b("FBPaymentsPaymentMethodTypes").GIFTCARD_BALANCE:return"giftcard_balance";case b("FBPaymentsPaymentMethodTypes").DUMMY_PAYMENT_METHOD:return"dummy";default:return""}};d.getCreditCardIcons=function(){var a,c=this.getNewPaymentOptions();c=c.find(function(a){return a.type===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD});c=c.availableCardTypes.map(function(a){a=b("PaymentMethodUtils").getCardTypeFromServerSideCardType(a);return b("FBPaymentsPaymentMethodUtils").getImageForCard(a)});a=(a=this.props)!=null?(a=a.newPaymentOptionData)!=null?(a=a.data)!=null?a.creditCardNumber:a:a:a;if(a){a=b("PaymentMethodUtils").getCardType(a);a.type!="unknown"&&(c=k([b("FBPaymentsPaymentMethodUtils").getImageForCard(a)]))}return c.slice(0,4)};d.getShowZipCodeField=function(){var a=this.getNewPaymentOptions();a=a.find(function(a){return a.type===b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD});return!a?!1:a.zipFieldProperty!==b("ZipcodeCollectIndicatorFields").HIDDEN};d.getPrefilledDataForVerification=function(a){var b={};if(this.props.extensionPrefillData)b=this.props.extensionPrefillData;else{var c=a.cardholderName,d=a.countryCode,e=a.zip;b.exp=a.getFormattedExpiration();b.card_holder_name=c;b.country=d;b.zip=e}return b};d.getPrefilledDataForNewCard=function(){var a;a=(a={},a.country=this.props.billingCountry,a);this.props.extensionPrefillData&&(a=babelHelpers["extends"]({},a,this.props.extensionPrefillData));return a};d.shouldDisableCreditCardFormFields=function(){return this.props.shouldDisableCreditCardFormFields===!0};d.getCancelButtonText=function(){return g._("Cancel")};d.getBackButtonText=function(){return g._("Back")};d.getBankNameLabel=function(){return g._("Bank name")};d.getPayButtonText=function(){return g._("Pay")};d.getPayPalConfirmButtonText=function(){return g._("Confirm and Pay")};d.getPaymentMethodLabel=function(){return g._("Payment method")};d.getAddCardLabel=function(){if(this.shouldDisableCreditCardFormFields())return g._("Add Test Credit Card");var a=!!b("qex")._("1502826");return a?g._("Add Credit or Debit"):g._("Add new card")};d.getAddPayPalLabel=function(){return g._("Connect PayPal")};d.getAddAffirmLabel=function(){return g._("Affirm monthly payments (US residents only)")};d.getDefaultBankSelectorOptionLabel=function(){return g._("Select a bank")};d.getHardErrorMessage=function(){return g._("Please select a valid payment method.")};d.getPayPalLogoSrc=function(){return i("95544")};d.getPayPalConsentTitle=function(){return g._("Update to your pre-approved payments")};d.getPayPalConsentSubtitle=function(){return g._("You can now use your pre-approved Facebook payment authorisation wherever PayPal is available when you pay on Facebook.")};d.getPayPalConsentPoliciesText=function(a){return g._("View {=Paypal Policies} and your payment method rights.",[g._param("=Paypal Policies",j.jsx("a",{href:a,target:"_blank",children:g._("PayPal Policies")}))])};d.getCSCVerificationMessage=function(a){if(a===4)return g._("For your security, please re-enter the four-digit security code on the front of your card.");else return g._("For your security, please re-enter the three-digit security code on the back of your card.")};d.getExistingPaymentMethodLabel=function(a){var b=this.getPaymentMethodSubtype(a);b==="paypal"||b==="giftcard_balance"||b==="dummy"?b=a.getDisplaySubtitle():b="*"+a.last4;return b};d.getExistingPaymentMethodIconImage=function(a){var c;this.getPaymentMethodSubtype(a)==="paypal"?c=b("FBPaymentsPaymentMethodUtils").getImageForPayPal():this.getPaymentMethodSubtype(a)==="giftcard_balance"?c=b("FBPaymentsPaymentMethodUtils").getImageForFBBalance():c=b("FBPaymentsPaymentMethodUtils").getImageForCardType(this.getPaymentMethodSubtype(a));return c};d.getOtherPaymentMethodLabel=function(){return g._("Use other payment method")};d.shouldHidePaymentOptions=function(){var a=this.getPaymentMethods();return a.isEmpty()?!1:this.props.onlyShowFirstExistingPaymentMethod};return c}(j.Component);e.exports=a}),null);
__d("FBPaymentsPaymentMethodSelectorViewV2.react",["cx","invariant","FBPaymentsAccordion.react","FBPaymentsAltPayForm.react","FBPaymentsBubble.react","FBPaymentsCheckbox.react","FBPaymentsConsentView.react","FBPaymentsCreditCardForm.react","FBPaymentsLoadingView.react","FBPaymentsNewPaymentOptionTypes","FBPaymentsPaymentMethodListItemView.react","FBPaymentsPaymentMethodSelectorViewV2Base.react","FBPaymentsPaymentMethodTypes","FBPaymentsPaymentMethodUtils","FBPaymentsRadioAccordionItem.react","FBPaymentsRichSelector.react","FBPaymentsUserFacingErrorNotice.react","FBPaymentsUserFacingErrorParser","FDSButton.react","FDSText.react","Image.react","InlineBlock.react","React","ShimButton.react","XUIGrayText.react","XUINotice.react","distinctArray","immutable","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("immutable").List,k=b("FBPaymentsRichSelector.react").Option,l=650;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.handleBankSelectorChange=function(a){var c=d.props.selectedPaymentMethod,e=c&&c.type;if(!c||e!==b("FBPaymentsPaymentMethodTypes").NET_BANKING)return;c.banks||h(0,315);var f=a.value;e=c.banks.find(function(a){return a.code===f});d.props.onBankClick&&d.props.onBankClick(e)},d.getExistingPaymentMethodAccordionItem=function(a){var c;if(d.shouldShowAnyVerification(d.props.needVerification)&&a.type===b("FBPaymentsPaymentMethodTypes").CREDIT_CARD&&d.props.selectedPaymentMethod){var e,f=d.shouldShowCSCOnlyForVerification(),g=a.getCscMaxLength(),h=b("distinctArray")(["csc"].concat(a.getVerifyFields()));c=i.jsx(b("FBPaymentsCreditCardForm.react"),{addressFormConfig:(e=d.props.paymentMethodsInfo)==null?void 0:e.addressFormConfig,isCSCOnlyForVerification:f,maxCSCLength:g,onFormDataChange:d.handleNewCreditCardVerificationFormValidation,prefilledFormData:d.getPrefilledDataForVerification(a),showHardError:d.shouldShowHardErrorMessage(),verifyFields:h})}return i.jsxs(b("FBPaymentsRadioAccordionItem.react"),{fullBleedSection:!0,iconLeft:d.getExistingPaymentMethodIconImage(a),label:d.getExistingPaymentMethodLabel(a),altTextForIconLeft:d.getPaymentMethodSubtype(a),value:a.id,children:[i.jsx("div",{className:"_p1_",children:c}),i.jsx(b("FBPaymentsBubble.react"),{bubble:a.bubble})]},a.id)},d.handleSecondaryPaymentMethodCheckboxClicked=function(a){var b=null;a&&(b=d.getSecondaryPaymentMethod());d.props.onSecondaryPaymentMethodCheckboxClick(b,a)},d.handleAccordionPaymentMethodSelected=function(a){switch(a){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:d.props.onNewPaymentOptionClick(b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD);break;case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:d.props.onNewPaymentOptionClick(b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL);break;case b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM:d.props.onNewPaymentOptionClick(b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM);break;default:var c=d.getPaymentMethods().filter(function(b){return b.id===a});if(c.count()===1)d.handlePaymentMethodClicked(c.first()),d.props.onCancelActiveStateClick();else{c=d.getNewPaymentOptions().find(function(c){return c.type===b("FBPaymentsNewPaymentOptionTypes").NEW_ALT_PAY&&c.altPayID===a});c&&d.props.onNewPaymentOptionClick(b("FBPaymentsNewPaymentOptionTypes").NEW_ALT_PAY,c.altPayID);c.altPayID!=="mobile"&&d.handleNewAltPayFormValidation();break}}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.renderBankListItem=function(a){return i.jsx(k,{label:a.name,value:a.code,children:i.jsx(b("FBPaymentsPaymentMethodListItemView.react"),{image:a.image,title:a.name})},a.code)};d.renderBanksDropdown=function(){var a=this.props.selectedPaymentMethod,c=a&&a.type;if(!a||c!==b("FBPaymentsPaymentMethodTypes").NET_BANKING)return null;a.banks||h(0,315);c=(c=this.props)!=null?(c=c.selectedBank)!=null?c.code:c:c;var d=this.getDefaultBankSelectorOptionLabel();return i.jsxs(b("FBPaymentsRichSelector.react"),{className:"_3-8x _52jv",defaultValue:c,multiple:!1,name:"bank_selector",onChange:this.handleBankSelectorChange,children:[i.jsx(k,{label:d,value:"",children:d},"default"),a.banks.map(this.renderBankListItem)]})};d.renderBanksLabel=function(){var a=this.props.selectedPaymentMethod,c=a&&a.type;return!a||c!==b("FBPaymentsPaymentMethodTypes").NET_BANKING?null:i.jsx(b("XUIGrayText.react"),{className:"_3-8y",display:"block",size:"meta1",children:this.getBankNameLabel()})};d.renderConvertPaypalError=function(){var a=this.props.convertPayPalError;if(!a)return null;if(a.errorCode){var c=b("FBPaymentsUserFacingErrorParser").generateCtaWithHandler(a,this.props.onContactSupportClick);return i.jsx("div",{className:"_q-q",children:i.jsx(b("FBPaymentsUserFacingErrorNotice.react"),{callToAction:c,description:a.errorDescription,flowStep:a.flowStep,logger:this.props.logger,title:a.errorTitle,use:a.imageType})})}else if(a.message)return i.jsx(b("XUINotice.react"),{className:"_q-q",use:"warn",children:a.message});return null};d.renderPayPalConsentView=function(a){var c=this;this.props.onExtensionWidthChange(l);return i.jsxs("div",{className:"_1jnq",children:[this.renderConvertPaypalError(),i.jsx(b("FBPaymentsLoadingView.react"),{overlay:!0,visible:this.props.isConvertingPayPal}),i.jsx(b("FBPaymentsConsentView.react"),{consentContent:a.cibConsentText,logoSrc:this.getPayPalLogoSrc(),subtitle:this.getPayPalConsentSubtitle(),termsAndPoliciesText:this.getPayPalConsentPoliciesText(a.cibTermsUrl),title:this.getPayPalConsentTitle()}),i.jsxs("div",{className:"_52jw _2ph_ _5kyc",children:[i.jsx(b("FDSButton.react"),{margin:"_3-90",label:this.getCancelButtonText(),onClick:this.props.onCancelActiveForVerificationClick,size:"large"}),i.jsx(b("FDSButton.react"),{label:this.getPayPalConfirmButtonText(),onClick:function(){c.props.onConvertPayPalBAToCIB(a)},size:"large",use:"primary"})]})]})};d.shouldShowCSCOnlyForVerification=function(){return this.props.paymentType==="nmor_donation_p4c"};d.shouldShowAnyVerification=function(a){return a||this.shouldShowCSCOnlyForVerification()};d.renderCardForm=function(){var a=this.props.saveErrors,c,d=a&&a.general;d&&(c=d.message);d=a&&a.fields;if(!c&&d)for(var e in d)if(Object.prototype.hasOwnProperty.call(d,e)){d[e].message;break}a=this.shouldDisableCreditCardFormFields();return i.jsx(b("FBPaymentsCreditCardForm.react"),{addressFormConfig:(d=this.props.paymentMethodsInfo)==null?void 0:d.addressFormConfig,additionalFields:this.getAdditionalFields(),disableCardNumberField:a,disableCardExpirationField:a,disableCSCField:a,disableZipField:a,onFormDataChange:this.handleNewCreditCardFormValidation,prefilledFormData:this.getPrefilledDataForNewCard(),showHardError:this.shouldShowHardErrorMessage()})};d.renderAltPayChildren=function(a){var c="_8cb-",d;a.shouldCollectMSISDN&&(c="_89op",d="_89oo");return i.jsxs("div",{className:d,children:[a.pricepointLogoURL.map(function(a){return i.jsx(b("Image.react"),{src:a},a)}),i.jsx("div",{className:c,children:a.description})]})};d.handlePaymentMethodClicked=function(a){this.props.onPaymentMethodClick(a),this.props.onCancelActiveStateClick()};d.getNewPaymentMethodAccordionItems=function(){var a=this,c=[],d=this.getNewPaymentOptions();d.forEach(function(d){var e=d.getType(),f=i.jsx(b("FBPaymentsBubble.react"),{bubble:d.bubble});switch(e){case b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:e=i.jsxs(b("FBPaymentsRadioAccordionItem.react"),{"data-testid":void 0,fullBleedSection:!0,iconSrcs:a.getCreditCardIcons(),label:a.getAddCardLabel(),value:b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD,children:[i.jsx("div",{className:"_p1_",children:a.renderCardForm()}),f]},b("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD);c.push(e);break;case b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:e=j.of(b("FBPaymentsPaymentMethodUtils").getImageForPayPal());e=i.jsx(b("FBPaymentsRadioAccordionItem.react"),{fullBleedSection:!0,"data-testid":void 0,iconSrcs:e,label:a.getAddPayPalLabel(),value:b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL,children:f},b("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL);c.push(e);break;case b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM:f=j.of(b("FBPaymentsPaymentMethodUtils").getImageForAffirm());e=i.jsx(b("FBPaymentsRadioAccordionItem.react"),{iconSrcs:f,label:a.getAddAffirmLabel(),value:b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM},b("FBPaymentsNewPaymentOptionTypes").NEW_AFFIRM);c.push(e);break;case b("FBPaymentsNewPaymentOptionTypes").NEW_ALT_PAY:f=d.iconURL?j.of(d.iconURL):j();e=i.jsx(b("FBPaymentsRadioAccordionItem.react"),{fullBleedSection:!0,iconSrcs:f,label:d.pricepointTitle,value:d.altPayID,children:i.jsx(b("FBPaymentsAltPayForm.react"),{initialCountryCode:d.userCountry,shouldCollectMSISDN:d.shouldCollectMSISDN,supportedCountries:d.supportedCountries,onFormDataChange:d.shouldCollectMSISDN?a.handleNewMobileAltPayFormValidation:void 0,children:a.renderAltPayChildren(d)})},d.altPayID);c.push(e);break}});return c};d.renderSecondaryPaymentMethodCheckboxLabel=function(a){return i.jsxs(b("InlineBlock.react"),{alignv:"middle",children:[i.jsx(b("FDSText.react"),{display:"block",children:a.getDisplayTitle()}),i.jsx(b("FDSText.react"),{color:"positive",children:a.getDisplaySubtitle()})]})};d.renderInlinePaymentOptions=function(){var a=this,c=this.getPaymentMethods();c=c.filter(function(b){return!a.isPaymentMethodsFrictionAttemptExceedsMaxTry(b.getID(),a.getPaymentMethodsFrictionAttemptsInfo())});c=c.map(this.getExistingPaymentMethodAccordionItem,this);var d=this.props.selectedPaymentMethodOrNewPaymentOption?this.props.selectedPaymentMethodOrNewPaymentOption.id:null,e;if(this.getSecondaryPaymentMethod()!==void 0){var f=this.renderSecondaryPaymentMethodCheckboxLabel(this.getSecondaryPaymentMethod());e=i.jsx(b("FBPaymentsCheckbox.react"),{isChecked:!0,label:f,onLabelClick:this.handleSecondaryPaymentMethodCheckboxClicked})}return this.shouldHidePaymentOptions()?i.jsxs("div",{className:"_2pi3",children:[i.jsx(b("FBPaymentsAccordion.react"),{disableDefaultOnSelectExecution:!0,hideRadioButtons:!1,selectedValue:d,onSelect:this.handleAccordionPaymentMethodSelected,children:c.first()}),e,i.jsx(b("ShimButton.react"),{onClick:this.props.onShowOtherPaymentMethodClick,style:{cursor:"pointer"},children:i.jsx(b("FDSText.react"),{color:"highlight",display:"block",margin:"_3-8n",size:"body2",children:this.getOtherPaymentMethodLabel()})})]}):i.jsxs("div",{className:"_2pi3",children:[i.jsxs(b("FBPaymentsAccordion.react"),{disableDefaultOnSelectExecution:!0,hideRadioButtons:!1,selectedValue:d,onSelect:this.handleAccordionPaymentMethodSelected,children:[c.toArray(),this.getNewPaymentMethodAccordionItems()]}),e]})};d.renderTitle=function(){return this.props.showTitle?i.jsx(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-95",size:"body2",children:this.getPaymentMethodLabel()}):null};d.render=function(){if(this.props.isActiveForVerification){var a=this.props.selectedPaymentMethod;a||h(0,316);switch(a.type){case b("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT:return this.renderPayPalConsentView(a);default:return h(!1,"Unsupported payment method type for verification: %s",a.type)}}return i.jsxs("div",{className:"_3itb","data-testid":void 0,children:[this.renderTitle(),this.renderInlinePaymentOptions(),this.renderBanksLabel(),this.renderBanksDropdown()]})};return c}(b("FBPaymentsPaymentMethodSelectorViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsPriceSelectorExtension",["FBPaymentsDispatcher","FBPaymentsLoggerConstants","FBPaymentsPriceSelectorActions","FBPaymentsPriceSelectorConfigStore","FBPaymentsPriceSelectorExtensionStore","FluxContainer","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("FBPaymentsLoggerConstants").LoggerEvent,i=b("FBPaymentsLoggerConstants").LoggerFlowStep;function a(a,c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(a){var c;c=e.call(this,a)||this;c.state={customAmount:"",customAmountInputErrorMessage:null,priceSelectorConfiguration:null,selectedIndex:-1,showHardError:!1};c.handleCustomAmountInputChange=function(a,d,e){b("FBPaymentsPriceSelectorActions").priceSelectorChangeCustomAmountInput({customAmount:d,validationResult:e}),e.isValid||c.props.logger.setFlowStep(i.SELECT_AMOUNT).setEventName(h.CLICK).setRawAmount(Number(d)).setCurrency(c.getCurrency()).setUserFacingMessage(e.errorMessage).log()};c.handleCustomAmountInputBlur=function(a,b,d){c.props.logger.setFlowStep(i.SELECT_AMOUNT).setEventName(h.BLUR).setRawAmount(Number(b)).setCurrency(c.getCurrency()).setUserFacingMessage(d.errorMessage).log()};c.handlePriceButtonClick=function(a){b("FBPaymentsPriceSelectorActions").priceSelectorButtonClick({index:a}),c.props.logger.setFlowStep(i.SELECT_AMOUNT).setEventName(h.CLICK).setRawAmount(c.getRawAmountAtIndex(a)).setCurrency(c.getCurrency()).log()};b("FBPaymentsDispatcher").explicitlyRegisterStores(c.constructor.getStores(a));return c}d.getStores=function(a){if(a.isUsingUpdateCheckoutInfoAPI)return[c,b("FBPaymentsPriceSelectorExtensionStore")];else return[c,b("FBPaymentsPriceSelectorConfigStore"),b("FBPaymentsPriceSelectorExtensionStore")]};d.getPriceSelectorConfigStoreQuery=function(a){a=a.checkoutConfiguration.paymentInfo;return{payment_type:a.paymentItemType,order_id:a.orderId!=null?a.orderId:"",extra_data:JSON.stringify(a.extraData)}};d.calculateState=function(a,d){a=this.getPriceSelectorConfigStoreQuery(d);d.isUsingUpdateCheckoutInfoAPI||b("FBPaymentsPriceSelectorConfigStore").get(a);a=d.extensionConfiguration.identifier;d=c.getShowHardErrorOnExtension(a);a=b("FBPaymentsPriceSelectorExtensionStore").getState();a={priceSelectorConfiguration:a.priceSelectorConfiguration,customAmount:a.customAmount,customAmountInputErrorMessage:a.customAmountInputErrorMessage,selectedIndex:a.selectedIndex,showHardError:d};return a};var f=d.prototype;f.getCurrency=function(){var a=this.state.priceSelectorConfiguration;return a&&a.getCurrency()};f.getRawAmountAtIndex=function(a){var b=this.state.priceSelectorConfiguration;return!b?null:Number(b.getSelectedAmountFromIndex(a))};f.handleCustomAmountInputFocus=function(){b("FBPaymentsPriceSelectorActions").priceSelectorCustomAmountInputFocus()};f.render=function(){return g.jsx(a,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,onCustomAmountInputBlur:this.handleCustomAmountInputBlur,onCustomAmountInputChange:this.handleCustomAmountInputChange,onCustomAmountInputFocus:this.handleCustomAmountInputFocus,onPriceButtonClick:this.handlePriceButtonClick}))};return d}(g.PureComponent);return b("FluxContainer").create(d,{withProps:!0})}e.exports={create:a}}),null);
__d("FBPaymentsPriceSelectorViewV2Base.react",["fbt","PECurrency","React"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldShowHardErrorMessage=function(){return this.props.showHardError};d.getCustomAmoutInputPlaceHolder=function(){return g._("Other")};d.getNewlineCustomAmoutInputPlaceHolder=function(){var a=this.props.priceSelectorConfiguration;return a&&a.customAmount&&a.customAmount.placeholderText||g._("Custom amount")};d.getPriceSelectorTitle=function(){var a=this.props.priceSelectorConfiguration;return a&&a.title||g._("Amount")};d.getCurrencySymbol=function(){var a=this.props.priceSelectorConfiguration?b("PECurrency").getCurrencySymbol(this.props.priceSelectorConfiguration.getCurrency()):"";return(a=a)!=null?a:""};d.getHardErrorMessage=function(){return g._("Please select a valid amount.")};d.getFeesContent=function(){var a=this.props.priceSelectorConfiguration;return a&&a.feesContent||null};return c}(a.PureComponent);e.exports=c}),null);
__d("FBPaymentsPriceSelectorViewV2.react",["cx","invariant","FBPaymentsButtonGroup.react","FBPaymentsFormField.react","FBPaymentsFormFieldInputConfigsGenerator","FBPaymentsPriceSelectorViewV2Base.react","FDSButton.react","FDSText.react","React","XUISpinner.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__renderAmountButtonGroup=function(a){a=a.getButtonLabels();var c=this.props.selectedIndex,d={flex:"1"},e=[];a.forEach(function(a,c){e.push(i.jsx(b("FDSButton.react"),{label:a,style:d},c))});e.push(i.jsx(b("FDSButton.react"),{label:this.getCustomAmoutInputPlaceHolder(),style:d},-1));return i.jsx(b("FBPaymentsButtonGroup.react"),{onSelectedButtonChange:this.props.onPriceButtonClick,reverseLastIndex:!0,selectedIndex:c,children:e})};d.__renderCustomAmountInput=function(a){var c=b("FBPaymentsFormFieldInputConfigsGenerator").getPriceInputConfig(a.getCustomAmountMin(),a.getCustomAmountMax(),a.getCurrency()),d=this.getNewlineCustomAmoutInputPlaceHolder();a=!a.getShowAmountButtons();return i.jsx(b("FBPaymentsFormField.react"),{className:"_4a6e",classNameOnInput:"_1kv1",config:c,errorMessage:this.props.customAmountInputErrorMessage,fieldType:"textInput",initiallyFocused:!0,initiallyFocusedDelay:a?1500:void 0,name:"customAmount",onBlur:this.props.onCustomAmountInputBlur,onChange:this.props.onCustomAmountInputChange,onFocus:this.props.onCustomAmountInputFocus,placeholder:d,showFieldLevelErrors:!0,showHardError:this.props.showHardError,value:this.props.customAmount})};d.render=function(){var a,c=this.props.priceSelectorConfiguration;if(!c)a=i.jsx(b("XUISpinner.react"),{});else{!c&&h(0,917);var d=i.jsx("div",{className:"_1zbe",children:i.jsxs("div",{className:"_m7i",children:[i.jsx("span",{className:"_4a6d",children:this.getCurrencySymbol()}),this.__renderCustomAmountInput(c)]})}),e=!c.getShowAmountButtons();a=i.jsxs("div",{className:"_2pi5",children:[i.jsx(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-94",size:"body2",children:this.getPriceSelectorTitle()}),i.jsx(b("FDSText.react"),{color:"positive",display:"block",margin:"_3-95",size:"body3",children:this.getFeesContent()}),e?null:this.__renderAmountButtonGroup(c),this.props.selectedIndex===-1?d:null]})}return i.jsx("div",{className:"_3itb",children:a})};return c}(b("FBPaymentsPriceSelectorViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsShippingAddressExtension",["invariant","FBPayCheckoutWebFunnelLoggingUtils","FBPaymentsCheckoutActions","FBPaymentsCheckoutConstants","FBPaymentsCheckoutContext","FBPaymentsContactInfoTypes","FBPaymentsDispatcher","FBPaymentsLoggerConstants","FBPaymentsModulesAPIShared","FBPaymentsShippingAddressActions","FBPaymentsShippingAddressExtensionUtil","FluxContainer","React","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBPayCheckoutWebFunnelLoggingUtils").webFunnelLogFBPayCheckout,i=b("React"),j=b("FBPaymentsCheckoutConstants").Extensions,k=b("FBPaymentsLoggerConstants").LoggerEvent,l=b("FBPaymentsLoggerConstants").LoggerFlowStep;function a(a,c,d,e,f){var m=function(n){babelHelpers.inheritsLoose(m,n);function m(a){var c;c=n.call(this,a)||this;c.state={addressFormConfig:null,enteredAddress:null,isExtensionHidden:!1,isLoading:!1,isNewAddressValid:!1,isSaving:!1,mailingAddresses:b("immutable").List(),newAddress:null,saveErrors:null,selectedAddress:null,selectedEditAddress:null,showForm:!1,showHardError:!1,showUpfrontAddressCollection:!1,suggestedAddress:null,userGeoCountry:null};c.handleAddMailingAddressClick=function(a){a===void 0&&(a=!1),b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:j.SHIPPING_ADDRESS,active:!0}),h("shipping_address_form_display",c.context.funnelLoggingSessionID),a||c.props.logger.setFlowStep(l.ADD_SHIPPING_ADDRESS).setEventName(k.DISPLAY).addToExtraData("address_NUX","true").addToExtraData("disable_upfront","true").log()};c.handleEditMailingAddressClick=function(a){b("FBPaymentsShippingAddressActions").mailingAddressEditSelected({selectedEditAddressID:a}),b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:j.SHIPPING_ADDRESS,active:!0}),c.props.logger.setFlowStep(l.EDIT_SHIPPING_ADDRESS).setEventName(k.DISPLAY).setMailingAddressID(a).log(),h("shipping_address_form_display",c.context.funnelLoggingSessionID)};c.handleMailingAddressClick=function(a){b("FBPaymentsShippingAddressActions").mailingAddressSelected({selectedAddressID:a}),c.props.logger.setFlowStep(l.SELECT_SHIPPING_ADDRESS).setEventName(k.CLICK).log(),h("select_shipping_address",c.context.funnelLoggingSessionID,null,{selected_shipping_address_id:a})};c.handleCancelActiveStateClick=function(a){c.state.saveErrors&&b("FBPaymentsShippingAddressActions").clearSaveErrors(),c.state.selectedEditAddress&&b("FBPaymentsShippingAddressActions").mailingAddressEditCanceled(),c.state.enteredAddress&&b("FBPaymentsShippingAddressActions").mailingAddressEnteredCleared(),b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:j.SHIPPING_ADDRESS,active:!1}),c.props.logger.setFlowStep(a).setEventName(k.CANCEL).log()};c.handleMailingAddressRowClicked=function(){b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:j.SHIPPING_ADDRESS,active:!0}),c.props.logger.setFlowStep(l.SELECT_SHIPPING_ADDRESS).setEventName(k.DISPLAY).addToExtraData("address_NUX","false").log()};c.handleShowForm=function(a){var d=a?l.EDIT_SHIPPING_ADDRESS:l.ADD_SHIPPING_ADDRESS;b("FBPaymentsShippingAddressActions").toggleMailingAddressForm({showForm:!0,selectedEditAddressID:a});c.props.logger.setFlowStep(d).setEventName(k.DISPLAY).addToExtraData("on_file_address_count",JSON.stringify(c.state.mailingAddresses.size)).log();h("shipping_address_form_display",c.context.funnelLoggingSessionID)};c.handleHideForm=function(){var a=c.state.selectedEditAddress?l.EDIT_SHIPPING_ADDRESS:l.ADD_SHIPPING_ADDRESS;b("FBPaymentsShippingAddressActions").toggleMailingAddressForm({showForm:!1});c.props.logger.setFlowStep(a).setEventName(k.CANCEL).log();h("shipping_address_form_exit_click",c.context.funnelLoggingSessionID)};c.handleSaveNewAddress=function(){var a=c.state.newAddress;a||g(0,1094);var d=c.state.showUpfrontAddressCollection?l.UPFRONT_SHIPPING_ADDRESS:l.ADD_SHIPPING_ADDRESS;Object.entries(b("FBPaymentsShippingAddressExtensionUtil").generateExtraDataFromNewAddress(a)).forEach(function(a){var b=a[0];a=a[1];c.props.logger.addToExtraData(b,JSON.stringify(a))});c.props.logger.setFlowStep(d).setEventName(k.CLICK).log();h("shipping_address_form_save_click",c.context.funnelLoggingSessionID);b("FBPaymentsShippingAddressActions").saveMailingAddress();c.props.logger.setFlowStep(d).setEventName(k.API_INIT).addToExtraData("on_file_address_count",JSON.stringify(c.state.mailingAddresses.size)).log();b("FBPaymentsModulesAPIShared").addMailingAddressGraphQL(a,c.getPaymentType(),c.props.logger.getSessionID(),c.handleSaveNewAddressSuccess,c.handleSaveNewAddressError,c.handleAddressSuggestion)};c.handleSaveNewAddressSuccess=function(a,d){var e=c.state.showUpfrontAddressCollection?l.UPFRONT_SHIPPING_ADDRESS:l.ADD_SHIPPING_ADDRESS;c.props.logger.setFlowStep(e).setEventName(k.SUCCESS).setMailingAddressID(a).addToExtraData("is_suggested_address",c.state.suggestedAddress!==null?"true":"false").log();b("FBPaymentsShippingAddressActions").mailingAddressSaved({newAddressID:a,newAddress:d});c.state.showUpfrontAddressCollection||b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:j.SHIPPING_ADDRESS,active:!1});c.state.showUpfrontAddressCollection&&b("FBPaymentsCheckoutActions").completeUpfrontAddressCollect()};c.handleSaveNewAddressError=function(a){var d=c.state.showUpfrontAddressCollection?l.UPFRONT_SHIPPING_ADDRESS:l.ADD_SHIPPING_ADDRESS;c.props.logger.setFlowStep(d).setEventName(k.FAIL).setErrorMessage(JSON.stringify(a)).addToExtraData("is_suggested_address",c.state.suggestedAddress!==null?"true":"false").log();b("FBPaymentsShippingAddressActions").mailingAddressSaveError({error:a})};c.handleSaveEditAddress=function(){var a=c.state.newAddress;a||g(0,1094);var d=c.state.selectedEditAddress;d||g(0,1095);var e=!d.equalsFormAddress(a);Object.entries(b("FBPaymentsShippingAddressExtensionUtil").generateExtraDataFromNewAddress(a)).forEach(function(a){var b=a[0];a=a[1];c.props.logger.addToExtraData(b,JSON.stringify(a))});c.props.logger.setFlowStep(l.EDIT_SHIPPING_ADDRESS).setEventName(k.CLICK).log();h("shipping_address_form_save_click",c.context.funnelLoggingSessionID);b("FBPaymentsShippingAddressActions").saveMailingAddress();e?(c.props.logger.setFlowStep(l.EDIT_SHIPPING_ADDRESS).setEventName(k.API_INIT).setMailingAddressID(d.id).addToExtraData("has_address_changed",JSON.stringify(e)).log(),b("FBPaymentsModulesAPIShared").updateMailingAddress(a,d.id,c.getPaymentType(),c.props.logger.getSessionID(),c.handleSaveEditAddressSuccess,c.handleSaveEditAddressError,c.handleAddressSuggestion)):(b("FBPaymentsShippingAddressActions").mailingAddressEditCanceled(),b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:j.SHIPPING_ADDRESS,active:!1}))};c.handleSaveEditAddressSuccess=function(a,d){c.props.logger.setFlowStep(l.EDIT_SHIPPING_ADDRESS).setEventName(k.SUCCESS).setMailingAddressID(a).addToExtraData("is_suggested_address",c.state.suggestedAddress!==null?"true":"false").log(),b("FBPaymentsShippingAddressActions").mailingAddressSaved({newAddressID:a,newAddress:d}),b("FBPaymentsCheckoutActions").requestActiveExtension({extensionName:j.SHIPPING_ADDRESS,active:!1})};c.handleSaveEditAddressError=function(a){var d;c.props.logger.setFlowStep(l.EDIT_SHIPPING_ADDRESS).setEventName(k.FAIL).setMailingAddressID((d=c.state.selectedEditAddress)==null?void 0:d.id).setErrorMessage(JSON.stringify(a)).addToExtraData("is_suggested_address",c.state.suggestedAddress!==null?"true":"false").log();b("FBPaymentsShippingAddressActions").mailingAddressSaveError({error:a})};c.handleSaveSuggestedAddress=function(){var a=c.state.suggestedAddress;a||g(0,13704);Object.entries(b("FBPaymentsShippingAddressExtensionUtil").generateExtraDataFromNewAddress(a)).forEach(function(a){var b=a[0];a=a[1];c.props.logger.addToExtraData(b,JSON.stringify(a))});var d=c.state.selectedEditAddress!==null;c.props.logger.setFlowStep(l.ADDRESS_SUGGESTION).setEventName(k.CLICK).log();var e=d?l.EDIT_SHIPPING_ADDRESS:c.state.showUpfrontAddressCollection?l.UPFRONT_SHIPPING_ADDRESS:l.ADD_SHIPPING_ADDRESS;c.props.logger.setFlowStep(e).setEventName(k.CLICK).addToExtraData("is_suggested_address","true").log();b("FBPaymentsShippingAddressActions").saveMailingAddress();c.props.logger.setFlowStep(e).setEventName(k.API_INIT).setMailingAddressID((e=c.state.selectedEditAddress)==null?void 0:e.id).addToExtraData("is_suggested_address","true").log();if(d){b("FBPaymentsModulesAPIShared").updateMailingAddress(a.toFormData(),b("nullthrows")((e=c.state.selectedEditAddress)==null?void 0:e.id),c.getPaymentType(),c.props.logger.getSessionID(),c.handleSaveEditAddressSuccess,c.handleSaveEditAddressError)}else b("FBPaymentsModulesAPIShared").addMailingAddressGraphQL(a.toFormData(),c.getPaymentType(),c.props.logger.getSessionID(),c.handleSaveNewAddressSuccess,c.handleSaveNewAddressError)};c.handleCancelAddressSuggestion=function(){var a;c.props.logger.setFlowStep(l.ADDRESS_SUGGESTION).setEventName(k.CANCEL).setMailingAddressID((a=c.state.selectedEditAddress)==null?void 0:a.id).log();b("FBPaymentsShippingAddressActions").mailingAddressSuggestedCleared()};c.handleAddressSuggestion=function(a){var d=c.state.selectedEditAddress!==null?l.EDIT_SHIPPING_ADDRESS:c.state.showUpfrontAddressCollection?l.UPFRONT_SHIPPING_ADDRESS:l.ADD_SHIPPING_ADDRESS;c.props.logger.setFlowStep(d).setEventName(k.SUGGESTION).setMailingAddressID((d=c.state.selectedEditAddress)==null?void 0:d.id).log();c.props.logger.setFlowStep(l.ADDRESS_SUGGESTION).setEventName(k.DISPLAY).setMailingAddressID((d=c.state.selectedEditAddress)==null?void 0:d.id).log();b("FBPaymentsShippingAddressActions").mailingAddressSuggested({suggestedAddress:a})};c.handleFetchAddressFormConfigSuccess=function(a,d){b("FBPaymentsShippingAddressActions").addressFormConfigFetched({userGeoCountry:a,addressFormConfig:d}),c.props.logger.setFlowStep(l.FETCH_ADDRESS_FORM_CONFIG).setEventName(k.SUCCESS).addToExtraData("address_form_config_size",JSON.stringify(Array.from(d).length)).addToExtraData("user_geo_country",JSON.stringify(a)).log()};c.handleFetchAddressFormConfigError=function(a){b("FBPaymentsShippingAddressActions").addressFormConfigFetchError({error:a}),c.props.logger.setFlowStep(l.FETCH_ADDRESS_FORM_CONFIG).setEventName(k.FAIL).setErrorMessage(JSON.stringify(a)).log()};b("FBPaymentsDispatcher").explicitlyRegisterStores(c.constructor.getStores(a));b("FBPaymentsShippingAddressActions").mailingAddressExtensionHiddenStatusChanged({isHidden:c.getIsExtensionHiddenFromProps(a)});return c}var o=m.prototype;o.componentDidMount=function(){!this.state.addressFormConfig&&!this.props.isUsingUpdateCheckoutInfoAPI&&f.fetchMailingAddressConfig(this.getPaymentType(),this.handleFetchAddressFormConfigSuccess,this.handleFetchAddressFormConfigError),this.state.showUpfrontAddressCollection&&this.props.logger.setFlowStep(l.UPFRONT_SHIPPING_ADDRESS).setEventName(k.DISPLAY).log()};o.componentDidUpdate=function(a,c){c=this.getIsExtensionHiddenFromProps(a);a=this.getIsExtensionHiddenFromProps(this.props);c!==a&&b("FBPaymentsShippingAddressActions").mailingAddressExtensionHiddenStatusChanged({isHidden:a})};o.getIsExtensionHiddenFromProps=function(a){a.extensionConfiguration.identifier!=="SHIPPING_ADDRESS"&&g(0,1096,a.extensionConfiguration.identifier);a=a.extensionConfiguration.customContent;return!!a&&!!a.hideExtension};m.getStores=function(a){if(a.isUsingUpdateCheckoutInfoAPI)return[e,c];else return[e,d,c]};m.calculateState=function(a,f){f.isUsingUpdateCheckoutInfoAPI||d.get(b("FBPaymentsContactInfoTypes").MAILING_ADDRESS);a=f.extensionConfiguration.identifier;f=e.getShowHardErrorOnExtension(a);a=c.getState();var g=!c.isInitialized();g={isLoading:g,showHardError:f,isExtensionHidden:a.isExtensionHidden,mailingAddresses:a.mailingAddresses,selectedAddress:a.selectedAddress,selectedEditAddress:a.selectedEditAddress,enteredAddress:a.enteredAddress,suggestedAddress:a.suggestedAddress,saveErrors:a.saveErrors,isSaving:a.isSaving,newAddress:a.newAddress,isNewAddressValid:a.isNewAddressValid,showForm:a.showForm,showUpfrontAddressCollection:e.shouldShowUpfrontAddressCollection(),addressFormConfig:a.addressFormConfig,userGeoCountry:a.userGeoCountry};return g};o.getPaymentType=function(){return this.props.checkoutConfiguration.paymentInfo.paymentItemType};o.handleAddressFormChanged=function(a,c){b("FBPaymentsShippingAddressActions").newMailingAddressFormDataChange({newAddress:a,isNewAddressValid:c})};m.__getCustomContent=function(a){a=a.extensionConfiguration;if(a.identifier!=="SHIPPING_ADDRESS")return null;var b=a.customContent;a=a.shippingAddressData;a={addAddressNuxCta:(a==null?void 0:a.add_address_nux_cta)||(b==null?void 0:b.addAddressNuxCta),addAddressPuxCta:(a==null?void 0:a.add_address_pux_cta)||(b==null?void 0:b.addAddressPuxCta),addressLabel:(a==null?void 0:a.address_label)||(b==null?void 0:b.addressLabel),extensionLabel:(a==null?void 0:a.extension_label)||(b==null?void 0:b.extensionLabel),formTitle:(a==null?void 0:a.formTitle)||(b==null?void 0:b.formTitle),formFooterMessage:(a==null?void 0:a.form_footer_message)||(b==null?void 0:b.formFooterMessage),receiverName:b==null?void 0:b.receiverName,showAddressLabelForMsiteNux:b==null?void 0:b.showAddressLabelForMsiteNux,hideExtension:b==null?void 0:b.hideExtension,useNewAddressForm:b==null?void 0:b.useNewAddressForm};return a};o.render=function(){var b=this.constructor.__getCustomContent(this.props);return i.jsx(a,babelHelpers["extends"]({},this.state,{customContent:b,isActive:this.props.isActive,logger:this.props.logger,onAddMailingAddressClick:this.handleAddMailingAddressClick,onAddressFormChanged:this.handleAddressFormChanged,onCancelActiveStateClick:this.handleCancelActiveStateClick,onCancelSuggestedAddress:this.handleCancelAddressSuggestion,onContactSupportClick:this.props.onContactSupportClick,onEditMailingAddressClick:this.handleEditMailingAddressClick,onHideForm:this.handleHideForm,onMailingAddressClick:this.handleMailingAddressClick,onRowClicked:this.handleMailingAddressRowClicked,onSaveEditAddress:this.handleSaveEditAddress,onSaveNewAddress:this.handleSaveNewAddress,onSaveSuggestedAddress:this.handleSaveSuggestedAddress,onShowForm:this.handleShowForm,paymentType:this.getPaymentType()}))};return m}(i.PureComponent);m.contextType=b("FBPaymentsCheckoutContext");return b("FluxContainer").create(m,{withProps:!0})}e.exports={create:a}}),null);
__d("FBPaymentsTaxInfoViewV2.react",["cx","FBPaymentsFormField.react","FBPaymentsFormFieldInputConfigs","FBPaymentsSimpleExtensionView.react","FBPaymentsTaxInfoViewV2Base.react","FDSText.react","React","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBPaymentsFormFieldInputConfigs").TAX_INFO_TAX_ID_INPUT_CONFIG,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;if(!this.shouldCollectTaxID())return null;a=(a=(a=this.props.taxID)!=null?a:(a=this.props.preFilledPaymentAccountTaxInfo)==null?void 0:a.tax_id)!=null?a:"";return i.jsxs(b("FBPaymentsSimpleExtensionView.react"),{title:this.getTaxInfoLabel(),children:[i.jsx("div",{children:i.jsx(b("FDSText.react"),{size:"body3",margin:"_3-96",color:"secondary",children:this.getHeading()})}),i.jsx(b("FBPaymentsFormField.react"),{className:"_3vg0",config:h,errorMessage:this.props.validationTaxIDErrorMessage,enableFloatingLabel:!0,onChange:this.props.handleInputChange,value:a,label:this.getTaxInfoLabel(),name:"taxID",required:!0,showHardError:this.props.showHardError,showFieldLevelErrors:!0})]})};return c}(b("FBPaymentsTaxInfoViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsUserInfoOptInViewV2.react",["cx","FBPaymentsUserInfoOptInViewV2Base.react","FDSCheckboxInput.react","FDSText.react","React","TextWithEntities.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return h.jsxs("div",{className:"_8a1q",children:[h.jsx("div",{className:"_3-90",children:h.jsx(b("FDSCheckboxInput.react"),{"data-testid":void 0,label:"",labelIsHidden:!0,onChange:this.props.onChange,value:(a=this.props.optIn)!=null?a:!1})}),h.jsxs("div",{children:[h.jsx(b("FDSText.react"),{"data-testid":void 0,color:"primary",display:"block",textAlign:"left",size:"body2",children:h.jsx(b("TextWithEntities.react"),{text:this.props.disclaimerText||""})}),h.jsx(b("FDSText.react"),{"data-testid":void 0,color:"blueLink",display:"block",textAlign:"left",size:"body2",children:h.jsx(b("TextWithEntities.react"),{ranges:this.props.privacyPolicyRanges||[],text:this.props.privacyPolicyText||""})})]})]})};return c}(b("FBPaymentsUserInfoOptInViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsExtensionV2Manager",["FBPaymentsCheckoutConstants","FBPaymentsCheckoutV2Store","FBPaymentsContactInfoExtension","FBPaymentsContactInfoExtensionStore","FBPaymentsContactInfoSelectorViewV2.react","FBPaymentsContactInfoStore","FBPaymentsCouponCodeExtension","FBPaymentsCouponCodeViewV2.react","FBPaymentsCustomOptionsExtension","FBPaymentsCustomOptionsViewV2.react","FBPaymentsExtensionV2ManagerBase","FBPaymentsFreeTrialExtension","FBPaymentsFreeTrialView.react","FBPaymentsFrequencySelectorExtension","FBPaymentsFrequencySelectorViewV2.react","FBPaymentsMailingAddressSelectorViewV2","FBPaymentsModulesAPI","FBPaymentsNationalitySelectorExtension","FBPaymentsNationalitySelectorViewV2.react","FBPaymentsPaymentMethodExtensionStore","FBPaymentsPaymentMethodSelectorExtension","FBPaymentsPaymentMethodSelectorViewV2.react","FBPaymentsPaymentMethodStore","FBPaymentsPINStore","FBPaymentsPINVerificationExtension","FBPaymentsPINVerificationViewV2.react","FBPaymentsPriceSelectorExtension","FBPaymentsPriceSelectorViewV2.react","FBPaymentsShippingAddressExtension","FBPaymentsShippingAddressExtensionStore","FBPaymentsTaxInfoExtension","FBPaymentsTaxInfoViewV2.react","FBPaymentsUserInfoOptInExtension","FBPaymentsUserInfoOptInViewV2.react"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsCheckoutConstants").Extensions;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.extensionMap=new Map();c.extensionMap.set(g.TAX_INFO,b("FBPaymentsTaxInfoExtension").create(b("FBPaymentsTaxInfoViewV2.react"),b("FBPaymentsCheckoutV2Store")));c.extensionMap.set(g.CONTACT_INFO,b("FBPaymentsContactInfoExtension").create(b("FBPaymentsContactInfoSelectorViewV2.react"),b("FBPaymentsContactInfoExtensionStore"),b("FBPaymentsContactInfoStore"),b("FBPaymentsCheckoutV2Store"),b("FBPaymentsModulesAPI")));c.extensionMap.set(g.USER_INFO_OPT_IN,b("FBPaymentsUserInfoOptInExtension").create(b("FBPaymentsUserInfoOptInViewV2.react")));c.extensionMap.set(g.CUSTOM_OPTIONS,b("FBPaymentsCustomOptionsExtension").create(b("FBPaymentsCustomOptionsViewV2.react"),b("FBPaymentsCheckoutV2Store")));c.extensionMap.set(g.PAYMENT_METHOD,b("FBPaymentsPaymentMethodSelectorExtension").create(b("FBPaymentsPaymentMethodSelectorViewV2.react"),b("FBPaymentsPaymentMethodExtensionStore"),b("FBPaymentsPaymentMethodStore"),b("FBPaymentsCheckoutV2Store"),b("FBPaymentsModulesAPI")));c.extensionMap.set(g.PRICE_SELECTOR,b("FBPaymentsPriceSelectorExtension").create(b("FBPaymentsPriceSelectorViewV2.react"),b("FBPaymentsCheckoutV2Store")));c.extensionMap.set(g.SHIPPING_ADDRESS,b("FBPaymentsShippingAddressExtension").create(b("FBPaymentsMailingAddressSelectorViewV2"),b("FBPaymentsShippingAddressExtensionStore"),b("FBPaymentsContactInfoStore"),b("FBPaymentsCheckoutV2Store"),b("FBPaymentsModulesAPI")));c.extensionMap.set(g.FREQUENCY_SELECTOR,b("FBPaymentsFrequencySelectorExtension").create(b("FBPaymentsFrequencySelectorViewV2.react")));c.extensionMap.set(g.NATIONALITY_SELECTOR,b("FBPaymentsNationalitySelectorExtension").create(b("FBPaymentsNationalitySelectorViewV2.react")));c.extensionMap.set(g.COUPON_CODE,b("FBPaymentsCouponCodeExtension").create(b("FBPaymentsCouponCodeViewV2.react")));c.extensionMap.set(g.PIN_VERIFICATION,b("FBPaymentsPINVerificationExtension").create(b("FBPaymentsPINStore"),b("FBPaymentsPINVerificationViewV2.react")));c.extensionMap.set(g.FREE_TRIAL,b("FBPaymentsFreeTrialExtension").create(b("FBPaymentsFreeTrialView.react")));return c}var d=c.prototype;d.__getExtensionMap=function(){return this.extensionMap};return c}(b("FBPaymentsExtensionV2ManagerBase"));e.exports=new a()}),null);
__d("FBPaymentsPSDDataPolicy.react",["FBPaymentsAbstractPSDDataPolicy.react","FBPaymentsLoadingView.react","FBPaymentsTextWithEntities.react","FDSButton.react","FDSText.react","React","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("React");b("immutable").List;function h(a,c,d){return g.jsx(b("FDSButton.react"),{"data-testid":void 0,label:a,onClick:c,size:"large",use:"primary",width:"100%"})}function i(a){return g.jsx(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold",children:a})}function j(a){return g.jsx(b("FDSText.react"),{color:"primary",size:"body1",children:a})}function k(a){return g.jsx(b("FDSText.react"),{color:"negative",size:"body1",children:a})}function l(a){return g.jsx(b("FBPaymentsTextWithEntities.react"),{textWithEntities:a})}function m(a){return g.jsx(b("FBPaymentsLoadingView.react"),{overlay:!0,showLockSpinner:!0,visible:a})}function a(a){return g.jsx(b("FBPaymentsAbstractPSDDataPolicy.react"),babelHelpers["extends"]({},a,{buttonRenderer:h,errorRenderer:k,headerRenderer:i,loadingRenderer:m,paragraphRenderer:j,textWithEntitiesRenderer:l}))}e.exports=a}),null);
__d("FBPaymentsPayActionRowContainerV2Base.react",["FBPaymentsCheckoutStep","FBPaymentsLoggerConstants","React","abstractMethod"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("FBPaymentsLoggerConstants").LoggerEvent,i=b("FBPaymentsLoggerConstants").LoggerFlowStep;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={innerHeight:window.innerHeight,isPayActionRowSticky:!0,showDisclaimerPopupMenu:!1,showDisclaimerSection:!1},c.$1=function(a){c.props.logger&&c.props.logger.setFlowStep(i.CHECKOUT_TERMS).setEventName(h.CLICK).updateExtraData({status:a?"expanded":"collapsed"}).log(),c.setState({showDisclaimerPopupMenu:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(a,c){!c.showDisclaimerSection&&this.state.showDisclaimerSection&&(this.props.logger&&this.props.logger.setFlowStep(i.CHECKOUT_TERMS).setEventName(h.DISPLAY).log()),a.checkoutStep!=this.props.checkoutStep&&this.props.checkoutStep==b("FBPaymentsCheckoutStep").CONFIRMATION&&this.setState({showDisclaimerPopupMenu:!1})};c.getDerivedStateFromProps=function(a,b){var c=babelHelpers["extends"]({},b);c.showDisclaimerSection=a.payButtonEnabled||b.showDisclaimerSection;return c};d.render=function(){var a,b=this.__getView(),c=this.props.configuration;a=(a=this.props.actionTitle)!=null?a:c.actionTitle;return g.jsx(b,{actionTitle:a,backButton:this.props.backButton===!0||c.backButton===!0,displayPrice:this.props.displayPrice,isLoading:this.props.isLoading,isPayActionRowSticky:this.state.isPayActionRowSticky,onBackButtonClick:this.props.onBackButtonClick,onPayButtonClick:this.props.onPayButtonClick,onToggleDisclaimerPopup:this.$1,payButtonEnabled:this.props.payButtonEnabled,price:this.props.price,renderInline:this.props.renderInline,showDisclaimerPopupMenu:this.state.showDisclaimerPopupMenu,showDisclaimerSection:this.state.showDisclaimerSection,subscriptionTermsDetails:this.props.subscriptionTermsDetails,termsAndPolicies:this.props.termsAndPolicies})};d.__getView=function(){return b("abstractMethod")("FBPaymentsPayActionRowContainerV2Base","__getView")};return c}(g.Component);e.exports=a}),null);
__d("FBPaymentsPopoverMenu.react",["cx","ContextualLayer.react","FBPaymentsTextWithEntities.react","LayerAutoFocus","LayerFadeOnHide","LayerFadeOnShow","LayerHideOnBlur","LayerHideOnEscape","LayerTabIsolation","React","XUIText.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props,d=h.jsx(b("XUIText.react"),{className:"_6645",color:"secondary",size:"meta1",children:h.jsx(b("FBPaymentsTextWithEntities.react"),{textWithEntities:{text:c.headerText||"",ranges:c.headerRanges||[]}})}),e=c.showPopup?h.jsx("div",{className:"_2g16",onClick:function(a){a.stopPropagation()},role:"presentation"}):null;return h.jsxs(h.Fragment,{children:[e,h.jsx("div",{ref:"anchor"}),h.jsx(b("ContextualLayer.react"),{autofocus:!0,behaviors:{LayerAutoFocus:b("LayerAutoFocus"),LayerFadeOnHide:b("LayerFadeOnHide"),LayerFadeOnShow:b("LayerFadeOnShow"),LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerTabIsolation:b("LayerTabIsolation")},containerWidthMatchContext:!0,contextRef:function(){return a.refs.anchor},onToggle:function(a){a||c.onToggleDisclaimerPopup(!1)},position:"above",ref:"layer",shown:c.showPopup,children:h.jsx("div",{onClick:function(a){c.onToggleDisclaimerPopup(!1)},role:"presentation",children:h.jsxs("div",{className:"_2g17",onClick:function(a){a.stopPropagation()},role:"presentation",children:[d,h.jsx("div",{className:"_6646"}),c.actions?c.actions.map(i):null]})})})]})};return c}(h.Component);a.defaultProps={showPopup:!0};function i(a,c){return a?h.jsx("div",{className:"_2pid",children:h.jsx(b("XUIText.react"),{className:"_6647",size:"meta1",children:h.jsx(b("FBPaymentsTextWithEntities.react"),{className:"_6647",textWithEntities:a})})},c):null}e.exports=a}),null);
__d("FBPaymentsDisclaimerWithPopover.react",["ix","cx","fbt","FBPaymentsPopoverMenu.react","Image.react","Layout.react","React","ShimButton.react","TextWithEntities.react","XUIGrayText.react","asset","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("Layout.react").Column,l=b("Layout.react").FillColumn;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.showPopup?j.jsx(b("FBPaymentsPopoverMenu.react"),{actions:a.menuActions,headerRanges:a.menuHeaderRanges,headerText:a.menuHeaderText,onToggleDisclaimerPopup:a.onToggleDisclaimerPopup}):null,d=j.jsxs(b("Layout.react"),{className:b("joinClasses")(this.props.className,"_1svn"),onClick:function(b){b.target.nodeName!=="A"&&a.onToggleDisclaimerPopup(!0)},children:[j.jsx(l,{className:"_6644",children:j.jsxs(b("XUIGrayText.react"),{color:"secondary",palette:"dark",size:"inherit",children:[j.jsx(b("TextWithEntities.react"),{ranges:a.inlineRanges||[],text:a.inlineText||""}),this.props.subscriptionTermsDetails!=null&&this.props.subscriptionTermsDetails!==""?"\n":null,this.props.subscriptionTermsDetails]})}),j.jsx(k,{children:j.jsx(b("ShimButton.react"),{children:j.jsx(b("Image.react"),{alt:i._("See More"),src:g("386137")})})})]});return j.jsxs(j.Fragment,{children:[d,c]})};return c}(j.PureComponent);e.exports=a}),null);
__d("FBPaymentsPayActionButtonViewBase.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getActionText=function(){var a=this.props.actionTitle!=null?this.props.actionTitle:g._("Pay");return a};c.getBackText=function(){return this.props.backTitle!=null?this.props.backTitle:g._("Back")};return b}(a.Component);e.exports=c}),null);
__d("FBPaymentsPayActionButtonViewV2.react",["cx","FBPayGatingUtils","FBPaymentsCheckoutContext","FBPaymentsPayActionButtonViewBase.react","FBPaySpinner.react","FDSButton.react","LeftRight.react","PECurrency","PECurrency.react","React","ShopButton.react","ShopButtonKind","XUISpinner.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("PECurrency").DEFAULT_AMOUNT_OFFSET,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a="large",c;Boolean(this.props.backButton)&&(c=i.jsx(b("FDSButton.react"),{isDisabled:this.props.isLoading,label:this.getBackText(),margin:"_3-91",onClick:this.props.onBackButtonClick,size:a,use:"default"}));var d=b("FBPayGatingUtils").isFBPayPortalCheckoutEnabled(),e=this.context.paymentType==="mor_facebook_shop",f=this.getActionText();if(this.props.displayPrice!=null)f=i.jsxs(b("LeftRight.react"),{className:"_304_",children:[i.jsx("div",{className:"_2pis",children:this.getActionText()}),i.jsx("div",{className:"_2pii",children:this.props.displayPrice})]});else if(this.props.price){var g=this.props.price;f=i.jsxs(b("LeftRight.react"),{className:"_304_",children:[i.jsx("div",{className:"_2pis",children:this.getActionText()}),i.jsx("div",{className:"_2pii",children:i.jsx(b("PECurrency.react"),{code:g.currency,showSymbol:!0,value:h*Number(g.amount)})})]})}g=i.jsx(b("XUISpinner.react"),{background:"dark",size:"small"});g=this.props.isLoading?g:null;var j=this.props.payButtonEnabled||this.props.isLoading,k="special";j=j?k:"primary";k=i.jsx("div",{className:"_39gi",children:i.jsx(b("FDSButton.react"),{"data-testid":void 0,icon:g,isDisabled:this.props.isLoading,label:f,labelIsHidden:!!g,onClick:this.props.onPayButtonClick,size:a,use:j,width:"100%"})});f=this.props.isLoading?i.jsx(b("FBPaySpinner.react"),{isFlippedColor:!0,isSmallerSize:!0,theme:"SHOP"}):this.getActionText();g=i.jsx(b("ShopButton.react"),{"data-testid":void 0,disabled:this.props.isLoading||!this.props.payButtonEnabled,fullWidth:!0,kind:b("ShopButtonKind").NAVYBLUE,label:f,onClick:this.props.onPayButtonClick});return i.jsxs("div",{className:"_39ge",children:[c,d&&e?g:k]})};return c}(b("FBPaymentsPayActionButtonViewBase.react"));a.contextType=b("FBPaymentsCheckoutContext");e.exports=a}),null);
__d("FBPaymentsPayActionRowViewV2Base.react",["fbt","FBPaymentsSubscriptionUtils","React"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getPayButtonText=function(){return this.props.actionTitle?this.props.actionTitle:g._("Pay")};d.getBackButtonText=function(){return g._("Back")};d.getInlineViewText=function(){var a;return(a=this.props)!=null?(a=a.termsAndPolicies)!=null?(a=a.inline_view)!=null?a.text:a:a:a};d.getInlineViewRanges=function(){var a;return(a=this.props)!=null?(a=a.termsAndPolicies)!=null?(a=a.inline_view)!=null?a.ranges:a:a:a};d.getActions=function(){var a;return(a=this.props)!=null?(a=a.termsAndPolicies)!=null?(a=a.expanded_view)!=null?a.actions:a:a:a};d.getHeaderText=function(){var a;return(a=this.props)!=null?(a=a.termsAndPolicies)!=null?(a=a.expanded_view)!=null?(a=a.header)!=null?a.text:a:a:a:a};d.getHeaderRanges=function(){var a;return(a=this.props)!=null?(a=a.termsAndPolicies)!=null?(a=a.expanded_view)!=null?(a=a.header)!=null?a.ranges:a:a:a:a};d.getTitleText=function(){var a;return(a=this.props)!=null?(a=a.termsAndPolicies)!=null?(a=a.expanded_view)!=null?(a=a.title)!=null?a.text:a:a:a:a};d.getTitleRanges=function(){var a;return(a=this.props)!=null?(a=a.termsAndPolicies)!=null?(a=a.expanded_view)!=null?(a=a.title)!=null?a.ranges:a:a:a:a};d.getSubscriptionTerms=function(){return b("FBPaymentsSubscriptionUtils").getSubscriptionTerms(this.props.subscriptionTermsDetails,this.getPayButtonText())};return c}(a.Component);e.exports=c}),null);
__d("FBPaymentsPayActionRowViewV2.react",["cx","FBPaymentsDisclaimerWithPopover.react","FBPaymentsPayActionButtonViewV2.react","FBPaymentsPayActionRowViewV2Base.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.getSubscriptionTerms();a=this.props.showDisclaimerSection||this.props.isLoading?h.jsx(b("FBPaymentsDisclaimerWithPopover.react"),{className:"_2pio",inlineRanges:this.getInlineViewRanges(),inlineText:this.getInlineViewText(),menuActions:this.getActions(),menuHeaderRanges:this.getHeaderRanges(),menuHeaderText:this.getHeaderText(),onToggleDisclaimerPopup:this.props.onToggleDisclaimerPopup,showPopup:this.props.showDisclaimerPopupMenu,subscriptionTermsDetails:a}):null;return h.jsxs("div",{className:(this.props.renderInline?"":"_3itb")+" _2owm",children:[a,h.jsx(b("FBPaymentsPayActionButtonViewV2.react"),{actionTitle:this.getPayButtonText(),backTitle:this.getBackButtonText(),backButton:this.props.backButton,isLoading:this.props.isLoading,onBackButtonClick:this.props.onBackButtonClick,onPayButtonClick:this.props.onPayButtonClick,payButtonEnabled:this.props.payButtonEnabled,payButtonGreenWhenReady:!0,price:this.props.price,displayPrice:this.props.displayPrice})]})};return c}(b("FBPaymentsPayActionRowViewV2Base.react"));e.exports=a}),null);
__d("FBPaymentsPayActionRowContainerV2.react",["FBPaymentsPayActionRowContainerV2Base.react","FBPaymentsPayActionRowViewV2.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getView=function(){return b("FBPaymentsPayActionRowViewV2.react")};return c}(b("FBPaymentsPayActionRowContainerV2Base.react"));e.exports=a}),null);
__d("FBPaymentsPriceTableViewV2.react",["ix","cx","FBPaymentsItemSummaryView.react","FBPaymentsPriceTableViewV2Base.react","FDSText.react","Image.react","Layout.react","LineClamp.react","React","Tooltip.react","XUISpinner.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("Layout.react").Column,k=b("Layout.react").FillColumn;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__renderItem=function(a,c,d,e,f,g){var h=f?"primary":"secondary",m=f?"bold":"normal",n=f?"body1":"body3",o=f&&this.props.isCalculating;g=f&&Boolean(!g)?i.jsx(b("FDSText.react"),{margin:"_3-99",color:"blueLink",size:"body3",children:this.getToggleText()}):null;d=d?i.jsx(l,{item:d}):i.jsxs(i.Fragment,{children:[i.jsx(b("FDSText.react"),{color:h,size:n,weight:m,children:c}),g]});return i.jsxs(b("Layout.react"),{className:(f?"_12az":"")+(f&&!this.state.isCollapsed?" _3-8y":""),children:[i.jsx(k,{children:d}),i.jsx(j,{children:i.jsx(b("FDSText.react"),{color:h,size:n,weight:m,children:Boolean(o)?i.jsx(b("XUISpinner.react"),{size:"small"}):e})})]},a)};d.__renderTaxDisclaimer=function(a,c){return i.jsxs("div",{className:"_67t3 _3-8w",children:[i.jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:a}),i.jsx(b("Tooltip.react"),{tooltip:c,children:i.jsx(b("Image.react"),{className:"_67t4",src:g("479819")})})]})};d.__getBorderBottomClassName=function(){return""};d.render=function(){return a.prototype.render.call(this)};return c}(b("FBPaymentsPriceTableViewV2Base.react"));a.propTypes=b("FBPaymentsPriceTableViewV2Base.react").propTypes;function l(a){a=a.item;return i.jsxs(b("FBPaymentsItemSummaryView.react"),{className:"_2pij",hasPadding:!1,imageClassName:"_6v-4",imageHeight:60,imageSrc:a.itemImageUrl,imageWidth:60,summaryAlignv:"top",children:[i.jsx(b("FDSText.react"),{color:"primary",display:"block",size:"header4",weight:"bold",children:i.jsx(b("LineClamp.react"),{fitHeightToShorterText:!0,lineHeight:18,lines:2,children:a.title})}),i.jsx(b("FDSText.react"),{color:"placeholder",display:"block",size:"body1",children:i.jsx(b("LineClamp.react"),{lineHeight:18,lines:1,children:a.subsubtitle})})]})}e.exports=a}),null);
__d("FBPaymentsRoundImageEntityHeaderViewBase.react",["React","abstractMethod"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.ENTITY_IMAGE_HEIGHT=36,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getTitle=function(){return this.props.entity.participant.title};d.getSubtitle1=function(){return this.props.entity.participant.subtitle};d.getImageSrc=function(){return this.props.entity.participant.imageURL};d.getSubtitle2=function(){return this.props.entity.description};d.getDescriptionWithEntity=function(){return this.props.entity.descriptionWithEntity};d.hasSingleSubtitle=function(){return!!this.getSubtitle1()&&!this.getSubtitle2()};d.hasSubtitle=function(){return!!(this.getSubtitle1()||this.getSubtitle2())};d.hasDescriptionWithEntity=function(){return!!this.getDescriptionWithEntity()};d.__renderTitle=function(){return b("abstractMethod")("FBPaymentsRoundImageEntityHeaderViewBase","__renderTitle")};d.__renderSubtitles=function(){return b("abstractMethod")("FBPaymentsRoundImageEntityHeaderViewBase","__renderSubtitles")};d.__renderEntityDescription=function(){return b("abstractMethod")("FBPaymentsRoundImageEntityHeaderViewBase","__renderEntityDescription")};d.__getClassNames=function(){return b("abstractMethod")("FBPaymentsRoundImageEntityHeaderViewBase","__getClassNames")};d.__getItemSummaryView=function(){return b("abstractMethod")("FBPaymentsRoundImageEntityHeaderViewBase","__getItemSummaryView")};d.render=function(){var a=this.__getItemSummaryView();return g.jsx("div",{className:this.__getClassNames(),children:g.jsxs(a,{imageHeight:this.ENTITY_IMAGE_HEIGHT,imageSrc:this.getImageSrc(),children:[this.__renderTitle(),this.__renderSubtitles(),this.__renderEntityDescription()]})})};return c}(g.PureComponent);e.exports=a}),null);
__d("FBPaymentsRoundImageItemSummaryView.react",["FBPaymentsItemSummaryView.react","FBPaymentsRoundImageItemSummaryViewBase.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getItemSummaryView=function(){return b("FBPaymentsItemSummaryView.react")};return c}(b("FBPaymentsRoundImageItemSummaryViewBase.react"));e.exports=a}),null);
__d("FBPaymentsRoundImageEntityHeaderView.react",["cx","FBPaymentsRoundImageEntityHeaderViewBase.react","FBPaymentsRoundImageItemSummaryView.react","FDSText.react","React","TextWithEntities.react","linkifyEntityRange"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__renderTitle=function(){var a=this.hasSingleSubtitle()?"_65if":null,c=this.hasSubtitle()?"body3":"body1";return h.jsx("div",{className:a,children:h.jsx(b("FDSText.react"),{color:"primary",size:c,weight:"bold",children:this.getTitle()})})};d.__renderSubtitles=function(){return this.hasSubtitle()?[h.jsx(b("FDSText.react"),{display:"block",color:"secondary",size:"meta1",children:this.getSubtitle1()},"subtitle1"),h.jsx(b("FDSText.react"),{display:"block",color:"secondary",size:"meta1",children:this.getSubtitle2()},"subtitle2")]:null};d.__renderEntityDescription=function(){var a;return this.hasDescriptionWithEntity()?h.jsx(b("FDSText.react"),{display:"block",color:"placeholder",size:"meta1",children:h.jsx(b("TextWithEntities.react"),{ranges:((a=this.getDescriptionWithEntity())==null?void 0:a.ranges)||[],text:((a=this.getDescriptionWithEntity())==null?void 0:a.text)||"",interpolator:b("linkifyEntityRange")})},"subtitle1"):null};d.__getClassNames=function(){return this.props.className};d.__getItemSummaryView=function(){return b("FBPaymentsRoundImageItemSummaryView.react")};return c}(b("FBPaymentsRoundImageEntityHeaderViewBase.react"));e.exports=a}),null);
__d("FBPaymentsAddressFieldNames",[],(function(a,b,c,d,e,f){"use strict";a={FULL_NAME:"full_name",STREET1:"street1",STREET2:"street2",CITY:"city",STATE:"state",ZIP:"zip",COUNTRY:"country"};e.exports=a}),null);
__d("FBPaymentsLegalNameFieldNames",[],(function(a,b,c,d,e,f){"use strict";a={FIRST_NAME:"firstName",LAST_NAME:"lastName"};e.exports=a}),null);
__d("FBPaymentsVerificationStore",["FBPaymentsAddressFieldNames","FBPaymentsDispatcher","FBPaymentsLegalNameFieldNames","FBPaymentsVerificationConstants","FluxMapStore","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsVerificationConstants").ACTIONS,h=b("FBPaymentsVerificationConstants").STORE_KEYS;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){var a;return b("immutable").Map((a={},a[h.DATE_OF_BIRTH_DAY]=null,a[h.DATE_OF_BIRTH_MONTH]=null,a[h.DATE_OF_BIRTH_YEAR]=null,a[h.FIRST_NAME]=null,a[h.LAST_NAME]=null,a[h.ADDRESS_STREET1]=null,a[h.ADDRESS_STREET2]=null,a[h.ADDRESS_CITY]=null,a[h.ADDRESS_STATE]=null,a[h.ADDRESS_ZIP]=null,a[h.ADDRESS_COUNTRY]=null,a[h.SSN_LAST_4]=null,a[h.NATIONAL_ID]=null,a[h.IDENTITY_DOCUMENT]=null,a[h.CREDIT_CARD_CVV]=null,a))};d.reduce=function(a,c){switch(c.type){case g.SET_DATE_OF_BIRTH_DAY:a=a.set(h.DATE_OF_BIRTH_DAY,c.value);return a;case g.SET_DATE_OF_BIRTH_MONTH:a=a.set(h.DATE_OF_BIRTH_MONTH,c.value);return a;case g.SET_DATE_OF_BIRTH_YEAR:a=a.set(h.DATE_OF_BIRTH_YEAR,c.value);return a;case g.SET_DATE_OF_BIRTH:a=a.set(h.DATE_OF_BIRTH_DAY,c.data.day).set(h.DATE_OF_BIRTH_MONTH,c.data.month).set(h.DATE_OF_BIRTH_YEAR,c.data.year);return a;case g.SET_FULL_NAME:a=a.set(h.FIRST_NAME,c.data[b("FBPaymentsLegalNameFieldNames").FIRST_NAME]).set(h.LAST_NAME,c.data[b("FBPaymentsLegalNameFieldNames").LAST_NAME]);return a;case g.SET_ADDRESS_STREET1:a=a.set(h.ADDRESS_STREET1,c.value);return a;case g.SET_ADDRESS_STREET2:a=a.set(h.ADDRESS_STREET2,c.value);return a;case g.SET_ADDRESS_CITY:a=a.set(h.ADDRESS_CITY,c.value);return a;case g.SET_ADDRESS_STATE:a=a.set(h.ADDRESS_STATE,c.value);return a;case g.SET_ADDRESS_ZIP:a=a.set(h.ADDRESS_ZIP,c.value);return a;case g.SET_ADDRESS_COUNTRY:a=a.set(h.ADDRESS_COUNTRY,c.value);return a;case g.SET_ADDRESS:a=a.set(h.ADDRESS_STREET1,c.data[b("FBPaymentsAddressFieldNames").STREET1]).set(h.ADDRESS_STREET2,c.data[b("FBPaymentsAddressFieldNames").STREET2]).set(h.ADDRESS_CITY,c.data[b("FBPaymentsAddressFieldNames").CITY]).set(h.ADDRESS_STATE,c.data[b("FBPaymentsAddressFieldNames").STATE]).set(h.ADDRESS_ZIP,c.data[b("FBPaymentsAddressFieldNames").ZIP]).set(h.ADDRESS_COUNTRY,c.data[b("FBPaymentsAddressFieldNames").COUNTRY]);return a;case g.SET_SSN_FULL:case g.SET_NATIONAL_ID:a=a.set(h.NATIONAL_ID,c.value);return a;case g.SET_SSN_LAST_4:a=a.set(h.SSN_LAST_4,c.value);return a;case g.SET_IDENTITY_DOCUMENT:a=a.set(h.IDENTITY_DOCUMENT,c.file);return a;case g.SET_CREDIT_CARD_CVV:return a.set(h.CREDIT_CARD_CVV,c.value);default:return a}};d.getVerificationDataForAPICall=function(){var a=this.getState();return{dob_year:a.get(h.DATE_OF_BIRTH_YEAR),dob_month:a.get(h.DATE_OF_BIRTH_MONTH),dob_day:a.get(h.DATE_OF_BIRTH_DAY),first_name:a.get(h.FIRST_NAME),last_name:a.get(h.LAST_NAME),address_street1:a.get(h.ADDRESS_STREET1),address_street2:a.get(h.ADDRESS_STREET2),address_city:a.get(h.ADDRESS_CITY),address_state:a.get(h.ADDRESS_STATE),address_postal:a.get(h.ADDRESS_ZIP),address_country:a.get(h.ADDRESS_COUNTRY),ssn_last_four:a.get(h.SSN_LAST_4),ssn:a.get(h.NATIONAL_ID),identity_document:a.get(h.IDENTITY_DOCUMENT),csc:a.get(h.CREDIT_CARD_CVV)}};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("FBPaymentsDispatcher"))}),null);
__d("FBPaymentsVerificationFlowContainerBase.react",["CurrentUser","FBPayCheckoutWebFunnelLoggingUtils","FBPaymentsCheckoutContext","FBPaymentsDispatcher","FBPaymentsLoggerConstants","FBPaymentsVerificationConstants","FBPaymentsVerificationStore","React","SecurePostMessage","abstractMethod","gkx","guid","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPayCheckoutWebFunnelLoggingUtils").webFunnelLogFBPayCheckout,h=b("React"),i=b("FBPaymentsLoggerConstants").LoggerFlowType,j=b("FBPaymentsLoggerConstants").LoggerFlowStep,k=b("FBPaymentsLoggerConstants").LoggerEvent,l=b("FBPaymentsVerificationConstants").PREFILL_MANAGER_KEYS,m=b("FBPaymentsVerificationConstants").VERIFICATION_FLOW_RESULT;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=function(a,c,e,f,g,h,i,j){d.props.paymentType==="nmor_c2c_checkout_experiences"&&b("gkx")("946236")&&b("SecurePostMessage").sendMessageForCurrentOrigin(window,"marketplace_c2c_shipping_idv_flow_"+a);d.__logger.setFlowStep(d.__getVerificationFlowStep(d.state.screen)).setEventName(k.SUCCESS).updateExtraData({next_screen:a}).log();if(d.__shouldUpdateURLForFinalScreen){var l=d.__updateURLForFinalScreen(a);if(l){d.setState({loading:!1});return}}d.setState({loading:!1,screen:a,header:c,footerContents:e,footerLinks:f,footerSupportLink:g,formConfig:h,screenData:i,documentType:j})};d.$2=function(a){d.__logger.setFlowStep(d.__getVerificationFlowStep(d.state.screen)).setEventName(k.FAIL).setUserFacingMessage(a.message).setErrorMessage(a.serverErrorMessage).setExceptionClass(a.exceptionClass).setUserFacingErrorCode(a.code).setErrorCode(a.code).log(),d.setState({errorMessage:a.message,loading:!1})};d.$3=function(){d.__logger.setFlowStep(d.__getVerificationFlowStep(d.state.screen)).setEventName(k.SUBMIT).log(),g("verification_submit_click",d.context.funnelLoggingSessionID),d.makeUserVerificationDataUpdateCall(!1)};d.$4=function(){d.__logger.setFlowStep(d.__getVerificationFlowStep(d.state.screen)).setEventName(k.DONE).log(),g("verification_confirm_click",d.context.funnelLoggingSessionID),d.__handleDialogClose()};d.__handleDialogClose=function(){var a=d.getVerificationResult(d.state.screen);d.logDialogClose(a);d.props.onClose&&d.props.onClose(a)};b("FBPaymentsDispatcher").explicitlyRegisterStores([b("FBPaymentsVerificationStore")]);d.__sessionID=c.sessionID||b("guid")();var e=d.__getLogger();d.__logger=new e();d.__logger.setGlobalFields({session_id:d.__sessionID,product:c.paymentType,provider:c.verificationProductType,flow_name:i.VERIFICATION,receiver_id:c.receiverID||b("CurrentUser").getID()});d.__logger.setGlobalExtraData(c.extraDataForLogging||{});d.__logger.setFlowStep(j.VERIFICATION).setEventName(k.INIT).log();d.state={documentType:null,errorMessage:null,footerContents:b("immutable").List(),footerLinks:b("immutable").List(),footerSupportLink:null,formConfig:b("immutable").List(),header:null,loading:!0,screen:null,screenData:null};d.__shouldUpdateURLForFinalScreen=c.verificationProductType==="P2P";return d}var d=c.prototype;d.componentDidMount=function(){g("verification_display",this.context.funnelLoggingSessionID),this.makeUserVerificationDataUpdateCall(!0)};d.makeUserVerificationDataUpdateCall=function(a){this.setState({errorMessage:null,loading:!0});var c,d;a||(c=b("FBPaymentsVerificationStore").getVerificationDataForAPICall(),d=this.state.screen);this.__getAPI().updateUserVerificationData({credential_id:(a=this.state.screenData)!=null?a.card_credential_id:a,document_type:this.state.documentType,product_type:this.props.verificationProductType,payment_type:this.props.paymentType,receiver_id:this.props.receiverID?this.props.receiverID:b("CurrentUser").getID(),risk_state_ids:this.props.riskStateIDs,session_id:this.__sessionID,submitted_screen:d,user_input:c},this.$1,this.$2)};d.buildPrefillManager=function(){var a=new Map();switch(this.props.verificationProductType){case"CHECKOUT_EXPERIENCES":a.set(l.ADDRESS,!1);a.set(l.FULL_NAME,!0);a.set(l.DATE_OF_BIRTH,!0);break;case"MANAGED_STRIPE":var c=this.props.paymentType==="nmor_checkout_experiences"?!1:b("gkx")("859395");a.set(l.ADDRESS,c);a.set(l.FULL_NAME,!0);a.set(l.DATE_OF_BIRTH,!0);break;case"P2P":case"P4C":a.set(l.ADDRESS,this.state.screen==="REQUEST_NAME_AND_DATE_OF_BIRTH_AND_SSN_LAST_FOUR_AND_ADDRESS");a.set(l.FULL_NAME,!1);a.set(l.DATE_OF_BIRTH,!0);break}return a};d.logDialogClose=function(a){this.__logger.setFlowStep(this.__getVerificationFlowStep(this.state.screen)).setEventName(k.CANCEL).addToExtraData("dialog_close","true").addToExtraData("verification_result",a).logVital()};d.getVerificationResult=function(a){switch(a){case"PENDING_MANUAL_REVIEW":case"FAILURE":return m.PENDING_REVIEW;case"SUCCESS":return m.PASSED;default:return m.INCOMPLETE}};d.__getVerificationFlowStep=function(a){switch(a){case"REQUEST_DATE_OF_BIRTH":return j.DOB;case"REQUEST_NAME_AND_DATE_OF_BIRTH":return j.NAME_AND_DOB;case"REQUEST_ADDRESS":return j.ADDRESS;case"REQUEST_NAME_AND_DATE_OF_BIRTH_AND_ADDRESS":return j.NAME_AND_DOB_AND_ADDRESS;case"REQUEST_NAME_AND_DATE_OF_BIRTH_AND_SSN_LAST_FOUR_AND_ADDRESS":return j.NAME_AND_DOB_AND_SSN_LAST_4_AND_ADDRESS;case"REQUEST_FULL_SSN":return j.SSN_FULL;case"REQUEST_SSN_LAST_FOUR":return j.SSN_LAST_4;case"REQUEST_VERIFICATION_DOCUMENT":return j.VERIFICATION_DOCUMENT;case"SUCCESS":return j.CONFIRMATION;case"PENDING_MANUAL_REVIEW":return j.PENDING_MANUAL_REVIEW;case"FAILURE":return j.FAILURE;case"INTRODUCTION":return j.INTRODUCTION;case"REQUEST_CC_CVV":return j.REQUEST_CC_CVV;default:return i.VERIFICATION}};d.__getVerificationFlowView=function(){return b("abstractMethod")("FBPaymentsVerificationFlowContainerBase","__getVerificationFlowView")};d.__getScreenManager=function(){return b("abstractMethod")("FBPaymentsVerificationFlowContainerBase","__getScreenManager")};d.__getAPI=function(){return b("abstractMethod")("FBPaymentsVerificationFlowContainerBase","__getAPI")};d.__getLogger=function(){return b("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getLogger")};d.__updateURLForFinalScreen=function(a){return b("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__updateURLforFinalScreen")};d.render=function(){var a=this.state.screen,b;if(a){a=this.__getScreenManager().getVerificationScreen(a,this.props.verificationProductType);var c=this.buildPrefillManager();b=h.jsx(a,{errorMessage:this.state.errorMessage,footerContents:this.state.footerContents,footerLinks:this.state.footerLinks,footerSupportLink:this.state.footerSupportLink,formConfig:this.state.formConfig,header:this.state.header,logger:this.__logger,onBackClick:this.props.onBackClick,onDoneClick:this.$4,onSubmitClick:this.$3,paymentType:this.props.paymentType,prefillManager:c,verificationFlowTitle:this.props.verificationFlowTitle,screenData:this.state.screenData,verificationProductType:this.props.verificationProductType})}a=this.__getVerificationFlowView();return h.jsx(a,{errorMessage:this.state.errorMessage,header:this.state.header,isAsyncDialogBody:this.props.isAsyncDialogBody,isLoading:this.state.loading,onDialogClose:this.__handleDialogClose,screen:b,theme:this.props.theme})};return c}(h.Component);a.contextType=b("FBPaymentsCheckoutContext");e.exports=a}),null);
__d("FBPaymentsHeaderBase.react",["ix","cx","Image.react","ImageBlock.react","React","abstractMethod","fbglyph","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=48;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getItemSummaryView=function(){return b("abstractMethod")("FBPaymentsHeaderBase","__getItemSummaryView")};d.__renderDescription=function(){return b("abstractMethod")("FBPaymentsHeaderBase","__renderDescription")};d.render=function(){var a=this.__renderDescription();if(this.props.showCheckmark)return i.jsxs(b("ImageBlock.react"),{className:b("joinClasses")("_2ph_",this.props.className),children:[i.jsx(b("Image.react"),{src:g("133793")}),a]});var c=this.__getItemSummaryView();return i.jsx(c,{className:this.props.className,imageSrc:this.props.imageSrc,imageHeight:j,children:a})};return c}(i.PureComponent);a.propTypes={className:(c=b("prop-types")).string,description:c.string.isRequired,imageSrc:c.string,showCheckmark:c.bool};e.exports=a}),null);
__d("FBPaymentsHeader.react",["FBPaymentsHeaderBase.react","FBPaymentsItemSummaryView.react","React","XUIGrayText.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getItemSummaryView=function(){return b("FBPaymentsItemSummaryView.react")};d.__renderDescription=function(){return g.jsx(b("XUIGrayText.react"),{shade:"medium",size:"header4",children:this.props.description})};d.render=function(){return a.prototype.render.call(this)};return c}(b("FBPaymentsHeaderBase.react"));a.propTypes=b("FBPaymentsHeaderBase.react").propTypes;e.exports=a}),null);
__d("FBPaymentsCommonTypes",["React","prop-types"],(function(a,b,c,d,e,f){"use strict";b("React");c=(a=b("prop-types")).shape({description:a.string.isRequired,hasCheckmark:a.bool,imageURL:a.string});d={description:a.node.isRequired,header:a.node.isRequired,imageURL:a.oneOfType([a.string,a.object]).isRequired};f={HeaderPropTypes:c,ConfirmationPropTypes:d};e.exports=f}),null);
__d("FBPaymentsVerificationFlowViewBase.react",["fbt","FBPaymentsCommonTypes","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c=b("FBPaymentsCommonTypes").HeaderPropTypes;d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getVerifyFlowTitle=function(){return g._("Confirm your identity")};c.getBackButtonText=function(){return g._("Back")};c.getLoadingText=function(){return g._("You may need to wait for up to one minute")};return b}(a.Component);d.propTypes={header:c,isAsyncDialogBody:(f=b("prop-types")).bool,isLoading:f.bool.isRequired,onDialogClose:f.func.isRequired,screen:f.node};e.exports=d}),null);
__d("FBPaymentsVerificationFlowView.react",["cx","DOMScroll","FBPaymentsHeader.react","FBPaymentsLoadingView.react","FBPaymentsVerificationFlowViewBase.react","React","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","XUINotice.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=500;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$FBPaymentsVerificationFlowView1=function(a){a||c.props.onDialogClose()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(a){this.props.isAsyncDialogBody&&this.props.isLoading!==a.isLoading&&window.dispatchEvent(new Event("resize"))};d.$FBPaymentsVerificationFlowView2=function(){return!this.props.header?null:h.jsx("div",{className:"_23jc",children:h.jsx(b("FBPaymentsHeader.react"),{description:this.props.header.description,imageSrc:this.props.header.imageURL})})};d.$FBPaymentsVerificationFlowView3=function(){if(!this.props.errorMessage)return null;b("DOMScroll").scrollToTop(!0);return h.jsx(b("XUINotice.react"),{className:"_3-8j",use:"warn",children:this.props.errorMessage})};d.render=function(){var a=this.$FBPaymentsVerificationFlowView2();a=h.jsxs("div",{className:"_163x",children:[h.jsx(b("XUIDialogTitle.react"),{className:"_5q-b _qu2",showCloseButton:!0,children:this.getVerifyFlowTitle()}),h.jsxs(b("XUIDialogBody.react"),{className:"_1jnq",useCustomPadding:!0,children:[a,h.jsxs("div",{className:a?"_5kyc":"",children:[this.$FBPaymentsVerificationFlowView3(),this.props.screen,h.jsx(b("FBPaymentsLoadingView.react"),{loadingText:this.getLoadingText(),overlay:!!this.props.screen,visible:this.props.isLoading})]})]})]});return this.props.isAsyncDialogBody?a:h.jsx(b("XUIDialog.react"),{layerHideOnBlur:!1,onToggle:this.$FBPaymentsVerificationFlowView1,shown:!0,width:i,children:a})};return c}(b("FBPaymentsVerificationFlowViewBase.react"));e.exports=a}),null);
__d("FBPaymentsAddressFormBase.react",["fbt","FBPaymentsAddressFieldNames","FBPaymentsFormFieldInputConfigs","React","abstractMethod","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getNameConfig=function(){return b("FBPaymentsFormFieldInputConfigs").NAME_INPUT_CONFIG};d.getStreet1Config=function(){return b("FBPaymentsFormFieldInputConfigs").ADDRESS_STREET_ONE_INPUT_CONFIG};d.getCityConfig=function(){return b("FBPaymentsFormFieldInputConfigs").ADDRESS_CITY_INPUT_CONFIG};d.getStateConfig=function(){return b("FBPaymentsFormFieldInputConfigs").ADDRESS_STATE_INPUT_CONFIG};d.getZipConfig=function(){var a;return((a=this.props.prefilledFormData)==null?void 0:a.country)==="US"?b("FBPaymentsFormFieldInputConfigs").ADDRESS_ZIP_INPUT_CONFIG:b("FBPaymentsFormFieldInputConfigs").ADDRESS_NON_US_ZIP_INPUT_CONFIG};d.getNameLabel=function(){return g._("Full name")};d.getStreet1Label=function(){return g._("Street address")};d.getStreet2Label=function(){return g._("Flat\/Suite\/Other (optional)")};d.getCityLabel=function(){return g._("Town\/City")};d.getStateLabel=function(){return g._("County\/Region")};d.getZipLabel=function(){return g._("Postal code")};d.getCountryLabel=function(){return g._("Country")};d.__getForm=function(){return b("abstractMethod")("FBPaymentsAddressFormBase","__getForm")};d.__getFormField=function(){return b("abstractMethod")("FBPaymentsAddressFormBase","__getFormField")};d.__getCountrySelectorField=function(){return b("abstractMethod")("FBPaymentsAddressFormBase","__getCountrySelectorField")};d.__getLeftHalfWidthClassName=function(){return b("abstractMethod")("FBPaymentsAddressFormBase","__getLeftHalfWidthClassName")};d.__getRightHalfWidthClassName=function(){return b("abstractMethod")("FBPaymentsAddressFormBase","__getRightHalfWidthClassName")};d.render=function(){var a=this.__getForm(),c=this.__getFormField(),d;this.props.showNameField&&(d=h.jsx(c,{config:this.getNameConfig(),label:this.getNameLabel(),name:b("FBPaymentsAddressFieldNames").FULL_NAME,required:!0}));var e=h.jsx(c,{config:this.getStreet1Config(),label:this.getStreet1Label(),name:b("FBPaymentsAddressFieldNames").STREET1,required:!0}),f=h.jsx(c,{label:this.getStreet2Label(),name:b("FBPaymentsAddressFieldNames").STREET2}),g=h.jsx(c,{config:this.getCityConfig(),label:this.getCityLabel(),name:b("FBPaymentsAddressFieldNames").CITY,required:!0}),i=h.jsx(c,{className:this.__getLeftHalfWidthClassName(),config:this.getStateConfig(),label:this.getStateLabel(),name:b("FBPaymentsAddressFieldNames").STATE,required:!0});c=h.jsx(c,{className:this.__getRightHalfWidthClassName(),config:this.getZipConfig(),label:this.getZipLabel(),name:b("FBPaymentsAddressFieldNames").ZIP,required:!0});var j;if(this.props.showCountrySelector){var k=this.__getCountrySelectorField();j=h.jsx(k,{label:this.getCountryLabel(),name:b("FBPaymentsAddressFieldNames").COUNTRY,required:!0})}k=this.props.prefilledFormData||{};return h.jsxs(a,{enableFloatingLabels:this.props.enableFloatingLabels,className:this.props.className,onChange:this.props.onChange,prefilledFormData:k,children:[d,e,f,g,i,c,j]})};return c}(h.PureComponent);a.propTypes={className:(c=b("prop-types")).string,onChange:c.func.isRequired,enableFloatingLabels:c.bool.isRequired,prefilledFormData:c.object,showCountrySelector:c.bool.isRequired,showNameField:c.bool.isRequired};a.defaultProps={enableFloatingLabels:!1,showCountrySelector:!1,showNameField:!1};e.exports=a}),null);
__d("FBPaymentsAddressForm.react",["cx","FBPaymentsAddressFormBase.react","FBPaymentsCountrySelectorFormField.react","FBPaymentsForm.react","FBPaymentsFormField.react"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getForm=function(){return b("FBPaymentsForm.react")};d.__getFormField=function(){return b("FBPaymentsFormField.react")};d.__getCountrySelectorField=function(){return b("FBPaymentsCountrySelectorFormField.react")};d.__getLeftHalfWidthClassName=function(){return"_4jf9 _e9v"};d.__getRightHalfWidthClassName=function(){return"_4jf9 _e9x"};d.render=function(){return a.prototype.render.call(this)};return c}(b("FBPaymentsAddressFormBase.react"));a.propTypes=b("FBPaymentsAddressFormBase.react").propTypes;e.exports=a}),null);
__d("FBPaymentsAddressPickerBase.react",["fbt","invariant","FBPaymentsAddressFieldNames","FBPaymentsMailingAddress","immutable","React","guid"],(function(a,b,c,d,e,f,g,h){"use strict";b("immutable").List;a=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.handleNewAddressChange=function(a,b){d.setState({newAddressFormData:a,isNewAddressValid:b})};d.handleSaveNewAddress=function(){var a,c=d.state.newAddressFormData;c=new(b("FBPaymentsMailingAddress"))({street:c[(a=b("FBPaymentsAddressFieldNames")).STREET1],building:c[a.STREET2],cityName:c[a.CITY],regionName:c[a.STATE],postalCode:c[a.ZIP],id:b("guid")(),country:"US"});a=d.state.addresses.push(c);d.setState({showForm:!1,addresses:a,selectedAddress:c,selectedAddressID:c.id});d.props.onAddressChange(c)};d.handleShowForm=function(){d.handleToggleShowForm(!0)};d.handleHideForm=function(){d.handleToggleShowForm(!1)};d.handleShowList=function(){d.handleToggleShowList(!0)};d.handleHideList=function(){d.handleToggleShowList(!1)};c=d.props.addresses;c.size!==0||h(0,2212);var e=c.get(0);d.state={addresses:c,isNewAddressValid:!1,newAddressFormData:{},selectedAddress:e,selectedAddressID:e.id,showForm:!1,showList:!1};d.props.onAddressChange(e);return d}var d=c.prototype;d.handleToggleShowForm=function(a){this.setState({showForm:a})};d.handleToggleShowList=function(a){this.setState({showList:a})};d.getBackButtonText=function(){return g._("Back")};d.getCancelButtonText=function(){return g._("Cancel")};d.getSaveButtonText=function(){return g._("Save")};d.getAddButtonLabel=function(){return g._("Add New Address")};d.getListLabel=function(){return g._("Addresses")};d.getFormLabel=function(){return g._("New address")};return c}(a.PureComponent);e.exports=c}),null);
__d("FBPaymentsAddressPicker.react",["cx","FBPaymentsAddressForm.react","FBPaymentsAddressPickerBase.react","FBPaymentsRichSelector.react","React","XUIButton.react","XUIGrayText.react","XUIText.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("FBPaymentsRichSelector.react").Option,j="add_new_option";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$FBPaymentsAddressPicker1=function(a){var b=a.value;a=c.state.addresses.find(function(a){return a.id===b})||{};c.props.onAddressChange(a)},c.$FBPaymentsAddressPicker2=function(){c.handleShowForm(),c.props.onForwardClick&&c.props.onForwardClick()},c.$FBPaymentsAddressPicker3=function(){c.handleHideForm(),c.props.onBackClick&&c.props.onBackClick()},c.$FBPaymentsAddressPicker4=function(){c.handleSaveNewAddress(),c.props.onBackClick&&c.props.onBackClick()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$FBPaymentsAddressPicker5=function(a){var c=h.jsx(b("XUIText.react"),{size:"header4",children:a.getSingleLineAddressWithoutName()});return h.jsx(i,{label:c,value:a.id,children:c},a.id)};d.$FBPaymentsAddressPicker6=function(){return h.jsx(i,{className:"_52jw _5kyc",clickable:!1,label:this.getAddButtonLabel(),value:j,children:h.jsx(b("XUIButton.react"),{label:this.getAddButtonLabel(),onClick:this.$FBPaymentsAddressPicker2,size:"xlarge",use:"confirm"})},j)};d.$FBPaymentsAddressPicker7=function(){return!this.props.disclaimerText?null:h.jsx(i,{className:"_2y76 _5kyc",clickable:!1,children:h.jsx(b("XUIGrayText.react"),{display:"block",shade:"light",size:"meta1",children:this.props.disclaimerText})},"disclaimer")};d.$FBPaymentsAddressPicker8=function(){return h.jsx("div",{className:"_2ph_",children:h.jsxs(b("FBPaymentsRichSelector.react"),{defaultValue:this.state.selectedAddress.id,onChange:this.$FBPaymentsAddressPicker1,children:[this.state.addresses.map(this.$FBPaymentsAddressPicker5),this.$FBPaymentsAddressPicker6(),this.$FBPaymentsAddressPicker7()]})})};d.$FBPaymentsAddressPicker9=function(){return h.jsxs("div",{children:[h.jsx(b("FBPaymentsAddressForm.react"),{className:"_2pie _2pi9",onChange:this.handleNewAddressChange}),h.jsx(b("XUIGrayText.react"),{className:"_2pi9 _2pio",display:"block",shade:"medium",size:"meta1",children:this.props.disclaimerText}),h.jsxs("div",{className:"_4koa",children:[h.jsx(b("XUIButton.react"),{label:this.getCancelButtonText(),onClick:this.$FBPaymentsAddressPicker3,size:"xlarge"}),h.jsx(b("XUIButton.react"),{disabled:!this.state.isNewAddressValid,label:this.getSaveButtonText(),onClick:this.$FBPaymentsAddressPicker4,size:"xlarge",use:"confirm"})]})]})};d.render=function(){return this.state.showForm?this.$FBPaymentsAddressPicker9():this.$FBPaymentsAddressPicker8()};return c}(b("FBPaymentsAddressPickerBase.react"));a.propTypes=b("FBPaymentsAddressPickerBase.react").propTypes;e.exports=a}),null);
__d("FBPaymentsVerificationActions",["FBPaymentsDispatcher","FBPaymentsVerificationConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsVerificationConstants").ACTIONS;a={setDateOfBirthDay:function(a){a={type:g.SET_DATE_OF_BIRTH_DAY,value:a};b("FBPaymentsDispatcher").dispatch(a)},setDateOfBirthMonth:function(a){a={type:g.SET_DATE_OF_BIRTH_MONTH,value:a};b("FBPaymentsDispatcher").dispatch(a)},setDateOfBirthYear:function(a){a={type:g.SET_DATE_OF_BIRTH_YEAR,value:a};b("FBPaymentsDispatcher").dispatch(a)},setDateOfBirth:function(a){a={type:g.SET_DATE_OF_BIRTH,data:a};b("FBPaymentsDispatcher").dispatch(a)},setFullName:function(a){a={type:g.SET_FULL_NAME,data:a};b("FBPaymentsDispatcher").dispatch(a)},setAddressStreet1:function(a){a={type:g.SET_ADDRESS_STREET1,value:a};b("FBPaymentsDispatcher").dispatch(a)},setAddressStreet2:function(a){a={type:g.SET_ADDRESS_STREET2,value:a};b("FBPaymentsDispatcher").dispatch(a)},setAddressCity:function(a){a={type:g.SET_ADDRESS_CITY,value:a};b("FBPaymentsDispatcher").dispatch(a)},setAddressState:function(a){a={type:g.SET_ADDRESS_STATE,value:a};b("FBPaymentsDispatcher").dispatch(a)},setAddressZip:function(a){a={type:g.SET_ADDRESS_ZIP,value:a};b("FBPaymentsDispatcher").dispatch(a)},setAddressCountry:function(a){a={type:g.SET_ADDRESS_COUNTRY,value:a};b("FBPaymentsDispatcher").dispatch(a)},setAddress:function(a){a={type:g.SET_ADDRESS,data:a};b("FBPaymentsDispatcher").dispatch(a)},setFullSSN:function(a){a={type:g.SET_SSN_FULL,value:a};b("FBPaymentsDispatcher").dispatch(a)},setSSNLast4:function(a){a={type:g.SET_SSN_LAST_4,value:a};b("FBPaymentsDispatcher").dispatch(a)},setNationalID:function(a){a={type:g.SET_NATIONAL_ID,value:a};b("FBPaymentsDispatcher").dispatch(a)},setIdentityDocument:function(a){a={type:g.SET_IDENTITY_DOCUMENT,file:a};b("FBPaymentsDispatcher").dispatch(a)},setCreditCardCVV:function(a){a={type:g.SET_CREDIT_CARD_CVV,value:a};b("FBPaymentsDispatcher").dispatch(a)}};e.exports=a}),null);
__d("FBPaymentsVerificationScreenInterface.react",["fbt","FBPaymentsCommonTypes","FBPaymentsLoggerBase","React","immutable","prop-types"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c=b("FBPaymentsCommonTypes").HeaderPropTypes;d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getSubmitButtonText=function(){return g._("Submit")};c.getVerifyFlowTitle=function(){var a=this.props.verificationFlowTitle?this.props.verificationFlowTitle:g._("Confirm your identity");return a};c.getBackButtonText=function(){return g._("Back")};c.shouldLockCountrySelector=function(){switch(this.props.verificationProductType){case"P2P":return!1;case"P4C":return!0;default:return!1}};b.shouldPrefillField=function(a,b){b=b.prefillManager.get(a);return b===void 0?!0:b};return b}(a.PureComponent);d.propTypes={errorMessage:(f=b("prop-types")).node,header:c,footerContents:f.instanceOf(b("immutable").List),footerLinks:f.instanceOf(b("immutable").List),formConfig:f.instanceOf(b("immutable").List),logger:f.instanceOf(b("FBPaymentsLoggerBase")).isRequired,onBackClick:f.func,onDoneClick:f.func.isRequired,onSubmitClick:f.func.isRequired,paymentType:f.string.isRequired,prefillManager:f.instanceOf(Map).isRequired,verificationFlowTitle:f.string};e.exports=d}),null);
__d("FBPaymentsVerificationAddressScreenBase.react",["fbt","FBPaymentsAddressFieldNames","FBPaymentsContactInfoTypes","FBPaymentsLoggerConstants","FBPaymentsMailingAddress","FBPaymentsVerificationActions","FBPaymentsVerificationConstants","FBPaymentsVerificationScreenInterface.react","FBPaymentsVerificationStore","immutable","abstractMethod"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").List,i=b("FBPaymentsVerificationConstants").PREFILL_MANAGER_KEYS,j=b("FBPaymentsLoggerConstants").LoggerEvent,k=b("FBPaymentsLoggerConstants").LoggerFlowStep,l="US",m=b("FBPaymentsContactInfoTypes").MAILING_ADDRESS;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.handleFormSubmitButtonClick=function(){var a=d.state.addressFormData;b("FBPaymentsVerificationActions").setAddress(a);d.props.onSubmitClick()};d.handleFormDataChange=function(a,b){d.setState({addressFormData:a,isAddressFormValid:b})};d.handlePickerDataChange=function(a){var c,d;d=(c={},c[(d=b("FBPaymentsAddressFieldNames")).STREET1]=a.street,c[d.STREET2]=a.building,c[d.CITY]=a.cityName,c[d.STATE]=a.regionName,c[d.ZIP]=a.postalCode,c[d.COUNTRY]=a.country,c);b("FBPaymentsVerificationActions").setAddress(d)};d.handleShowSubmitRow=function(){d.handleToggleShowSubmitRow(!0)};d.handleHideSubmitRow=function(){d.handleToggleShowSubmitRow(!1)};d.state={addresses:h(),addressFormData:{},isAddressFormValid:!1,isLoading:!1,selectedAddress:new(b("FBPaymentsMailingAddress"))(),showSubmitRow:!0};d.props.logger.setFlowStep(k.ADDRESS).setEventName(j.INIT).log();return d}c.getStores=function(){return[b("FBPaymentsVerificationStore"),this.__getContactInfoStore()]};c.calculateState=function(a,b){a=babelHelpers["extends"]({},a);b=c.shouldPrefillField(i.ADDRESS,b);if(b){b=this.__getContactInfoStore().get(m);a.isLoading=b.isLoading();if(b.hasValue()){b=b.getValueEnforcing();b=b.filter(function(a){return a.country===l&&a.isAddressInfoComplete()});a.addresses=b}}return a};c.__getContactInfoStore=function(){return b("abstractMethod")("FBPaymentsVerificationAddressScreenBase","__getContactInfoStore")};var d=c.prototype;d.userHasValidAddresses=function(){return this.state.addresses&&this.state.addresses.size!==0};d.handleToggleShowSubmitRow=function(a){this.setState({showSubmitRow:a})};d.getHomeAddressLabel=function(){return g._("Home address")};return c}(b("FBPaymentsVerificationScreenInterface.react"));e.exports=a}),null);
__d("FBPaymentsVerificationDisclaimerSectionBase.react",["immutable","React","abstractMethod"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__renderTermLink=function(a,c,d){return b("abstractMethod")("FBPaymentsVerificationDisclaimerSectionBase","__renderTermLink")};d.__renderTermLinkSection=function(a){return b("abstractMethod")("FBPaymentsVerificationDisclaimerSectionBase","__renderTermLinkSection")};d.__renderFooterContentParagraph=function(a,c,d){return b("abstractMethod")("FBPaymentsVerificationDisclaimerSectionBase","__renderFooterContentParagraph")};d.__getRootClassName=function(){return b("abstractMethod")("FBPaymentsVerificationDisclaimerSectionBase","__getRootClassName")};d.render=function(){var a=this.props.footerLinks?this.__renderTermLinkSection(this.props.footerLinks):null,b=this.props.footerContents?this.props.footerContents.map(this.__renderFooterContentParagraph,this):null;return g.jsxs("div",{className:this.__getRootClassName(),children:[b,a]})};return c}(g.PureComponent);e.exports=a}),null);
__d("FBPaymentsVerificationDisclaimerSection.react",["cx","FBPaymentsTextWithEntities.react","FBPaymentsVerificationDisclaimerSectionBase.react","Middot.react","React","XUIGrayText.react","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__renderTermLink=function(a,c,d){d=c<d.size-1?h.jsx(b("Middot.react"),{className:"_abl"},"dot"+c):null;return[h.jsx(b("FBPaymentsTextWithEntities.react"),{textWithEntities:a},c),d]};d.__renderTermLinkSection=function(a){return h.jsx(b("XUIGrayText.react"),{className:"_1ghk",display:"block",size:"meta1",children:a.map(this.__renderTermLink,this)})};d.__renderFooterContentParagraph=function(a,c,d){d=c<d.size-1?"_2pio":null;return h.jsx(b("XUIGrayText.react"),{className:d,display:"block",shade:"medium",size:"meta1",children:h.jsx(b("FBPaymentsTextWithEntities.react"),{textWithEntities:a})},c)};d.__getRootClassName=function(){return this.props.className};return c}(b("FBPaymentsVerificationDisclaimerSectionBase.react"));e.exports=a}),null);
__d("FBPaymentsVerificationFooter.react",["cx","fbt","FBPaymentsTextWithEntities.react","React","XUIButton.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){return h._("Back")};d.render=function(){var a=this.props,c=a.disabled,d=a.hasCancelAction,e=a.label,f=a.onClick;a=a.onBackClick;a=a?i.jsx(b("XUIButton.react"),{label:this.$1(),onClick:a,size:"xlarge"}):null;var g=i.jsx(b("FBPaymentsTextWithEntities.react"),{className:"_749b",textWithEntities:this.props.footerSupportLink});return i.jsxs("div",{className:"_4koa _4iyh",children:[g,i.jsxs("div",{className:"_4iyi",children:[a,i.jsx(b("XUIButton.react"),{className:d?"layerCancel":"",disabled:c,label:e,onClick:f,size:"xlarge",use:"confirm"})]})]})};return c}(i.PureComponent);a.propTypes={disabled:(c=b("prop-types")).bool,hasCancelAction:c.bool,label:c.node.isRequired,onClick:c.func.isRequired};e.exports=a}),null);
__d("FBPaymentsVerificationAddressScreen.react",["cx","FBPaymentsAddressPicker.react","FBPaymentsContactInfoStore","FBPaymentsCustomAddressForm.react","FBPaymentsLoadingView.react","FBPaymentsTextWithEntities.react","FBPaymentsVerificationAddressScreenBase.react","FBPaymentsVerificationDisclaimerSection.react","FBPaymentsVerificationFooter.react","FluxContainer","React","XUIGrayText.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.__getContactInfoStore=function(){return b("FBPaymentsContactInfoStore")};var d=c.prototype;d.render=function(){if(this.state.isLoading)return h.jsx(b("FBPaymentsLoadingView.react"),{});var a=h.jsx(b("XUIGrayText.react"),{className:"_2pie _2pi9 _3yoq",display:"block",shade:"dark",size:"header4",children:this.getHomeAddressLabel()}),c=h.jsx(b("FBPaymentsVerificationDisclaimerSection.react"),{className:"_2pio _2pi9",footerContents:this.props.footerContents,footerLinks:this.props.footerLinks});if(!this.userHasValidAddresses()){var d=h.jsx(b("FBPaymentsCustomAddressForm.react"),{className:"_2pie _2pi9",disableCountrySelector:this.shouldLockCountrySelector(),hideCareOf:!0,onChange:this.handleFormDataChange,paymentType:this.props.paymentType});return h.jsxs("div",{children:[a,d,c,h.jsx(b("FBPaymentsVerificationFooter.react"),{disabled:!this.state.isAddressFormValid,footerSupportLink:this.props.footerSupportLink,label:this.getSubmitButtonText(),onClick:this.handleFormSubmitButtonClick})]})}d=h.jsx(b("FBPaymentsTextWithEntities.react"),{textWithEntities:this.props.footerContents,topSeparatorClassName:"_2pid"});c=this.state.showSubmitRow?h.jsxs("div",{children:[c,h.jsx(b("FBPaymentsVerificationFooter.react"),{footerSupportLink:this.props.footerSupportLink,label:this.getSubmitButtonText(),onClick:this.props.onSubmitClick})]}):null;return h.jsxs("div",{children:[this.state.showSubmitRow?a:null,h.jsx(b("FBPaymentsAddressPicker.react"),{addresses:this.state.addresses,disclaimerText:d,onAddressChange:this.handlePickerDataChange,onBackClick:this.handleShowSubmitRow,onForwardClick:this.handleHideSubmitRow}),c]})};return c}(b("FBPaymentsVerificationAddressScreenBase.react"));e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("FBPaymentsVerificationAutoVerifiedScreenBase.react",["fbt","FBPaymentsLoggerConstants","FBPaymentsVerificationScreenInterface.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBPaymentsLoggerConstants").LoggerEvent,i=b("FBPaymentsLoggerConstants").LoggerFlowStep;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.props.logger.setFlowStep(i.SUCCESS).setEventName(h.INIT).addToExtraData("screen","auto_verified").log();return b}var c=b.prototype;c.getImageUrl=function(){return"/images/payments/fireworks-icon-XL.png"};c.getDoneButtonLabel=function(){return g._("Continue")};c.getMessageText=function(){return g._("Thank you!")};c.getDescriptionText=function(){return g._("You've completed this security check. You can now start sending and receiving payments again.")};return b}(b("FBPaymentsVerificationScreenInterface.react"));e.exports=a}),null);
__d("FBPaymentsVerificationConfirmationViewBase.react",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getImageUrl=function(){return this.props.imageUrl};c.getImageHeight=function(){return this.props.imageHeight};c.getImageWidth=function(){return this.props.imageWidth};c.getDoneButtonLabel=function(){return this.props.doneButtonLabel};c.getMessageText=function(){return this.props.message};c.getDescriptionText=function(){return this.props.description};return b}(a.PureComponent);e.exports=c}),null);
__d("FBPaymentsVerificationConfirmationView.react",["cx","FBPaymentsVerificationConfirmationViewBase.react","FDSButton.react","FDSText.react","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:"_1cq3",children:[h.jsx(b("Image.react"),{className:"_1a8b",height:this.getImageHeight(),src:this.getImageUrl(),width:this.getImageWidth()}),h.jsx("div",{className:"_1a8e",children:h.jsx(b("FDSText.react"),{color:"primary",display:"block",size:"header3",textAlign:"center",weight:"bold",children:this.getMessageText()})}),h.jsx("div",{className:"_1a8f",children:h.jsx(b("FDSText.react"),{color:"primary",display:"block",size:"body3",textAlign:"center",children:this.getDescriptionText()})}),h.jsx("div",{className:"_1a9a",children:h.jsx(b("FDSButton.react"),{label:this.getDoneButtonLabel(),onClick:this.props.onDoneClick,size:"large",use:"primary",width:"100%"})})]})};return c}(b("FBPaymentsVerificationConfirmationViewBase.react"));e.exports=a}),null);
__d("FBPaymentsVerificationAutoVerifiedScreen.react",["FBPaymentsVerificationAutoVerifiedScreenBase.react","FBPaymentsVerificationConfirmationView.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=252,i=314;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("FBPaymentsVerificationConfirmationView.react"),{description:this.getDescriptionText(),doneButtonLabel:this.getDoneButtonLabel(),imageHeight:h,imageUrl:this.getImageUrl(),imageWidth:i,message:this.getMessageText(),onDoneClick:this.props.onDoneClick})};return c}(b("FBPaymentsVerificationAutoVerifiedScreenBase.react"));e.exports=a}),null);
__d("FBPaymentsPayoutConfirmationViewBase.react",["FBPaymentsCommonTypes","React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.IMAGE_HEIGHT=180,c.IMAGE_WIDTH=290,b)||babelHelpers.assertThisInitialized(c)}return b}(a.PureComponent);c.propTypes=b("FBPaymentsCommonTypes").ConfirmationPropTypes;e.exports=c}),null);
__d("FBPaymentsPayoutConfirmationView.react",["cx","CenteredContainer.react","FBPaymentsPayoutConfirmationViewBase.react","Image.react","React","XUIGrayText.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs(b("CenteredContainer.react"),{className:"_2e9t",vertical:!0,children:[h.jsx(b("Image.react"),{className:"_2e9u",height:this.IMAGE_HEIGHT,src:this.props.imageURL,width:this.IMAGE_WIDTH}),h.jsx(b("XUIGrayText.react"),{className:"_2e9v",display:"block",shade:"dark",size:"header3",children:this.props.header}),h.jsx(b("XUIGrayText.react"),{className:"_2e9x",display:"block",shade:"medium",size:"header4",children:this.props.description})]})};return c}(b("FBPaymentsPayoutConfirmationViewBase.react"));e.exports=a}),null);
__d("FBPaymentsVerificationConfirmationScreenBase.react",["fbt","ix","FBPaymentsLoggerConstants","FBPaymentsVerificationScreenInterface.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("FBPaymentsLoggerConstants").LoggerEvent,j=b("FBPaymentsLoggerConstants").LoggerFlowStep;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.handleDoneButtonClick=function(){c.props.onDoneClick()};c.props.logger.setFlowStep(j.CONFIRMATION).setEventName(i.INIT).log();return c}var c=b.prototype;c.getConfirmationImage=function(){return h("275825")};c.getDoneButtonText=function(){return g._("Done")};c.getConfirmationDialogTitle=function(){return g._("Verification sent")};c.getHeader=function(){return g._("Thank you!")};c.getDescription=function(){return g._("It usually takes less than a day to verify your information. After that, you'll be able to receive payments again.")};return b}(b("FBPaymentsVerificationScreenInterface.react"));e.exports=a}),null);
__d("FBPaymentsVerificationConfirmationScreen.react",["cx","FBPaymentsPayoutConfirmationView.react","FBPaymentsVerificationConfirmationScreenBase.react","FBPaymentsVerificationFooter.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{children:[h.jsx("div",{className:"_2ph_",children:h.jsx(b("FBPaymentsPayoutConfirmationView.react"),{description:this.getDescription(),header:this.getHeader(),imageURL:this.getConfirmationImage()})}),h.jsx(b("FBPaymentsVerificationFooter.react"),{footerSupportLink:this.props.footerSupportLink,hasCancelAction:!0,label:this.getDoneButtonText(),onClick:this.handleDoneButtonClick})]})};return c}(b("FBPaymentsVerificationConfirmationScreenBase.react"));e.exports=a}),null);
__d("FBPaymentsDateSelectorBase.react",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a.PureComponent);e.exports=c}),null);
__d("FBPaymentsDateSelector.react",["cx","DateStrings","FBPaymentsDateSelectorBase.react","FBPaymentsRichSelector.react","React","XUIText.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("FBPaymentsRichSelector.react").Option,j=220;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$FBPaymentsDateSelector3=function(a){a=a.value;d.props.onDayChange(a)};d.$FBPaymentsDateSelector4=function(a){a=a.value;d.props.onMonthChange(a)};d.$FBPaymentsDateSelector5=function(a){a=a.value;d.props.onYearChange(a)};d.monthLabels=b("DateStrings").getMonthNames();d.dayLabels=d.$FBPaymentsDateSelector1();d.yearLabels=d.$FBPaymentsDateSelector2();return d}var d=c.prototype;d.$FBPaymentsDateSelector1=function(){var a=[];for(var b=1;b<=31;b++)a.push(b.toString());return a};d.$FBPaymentsDateSelector2=function(){var a=+this.props.maxYear,b=+this.props.minYear,c=[];for(var a=a;a>=b;a--)c.push(a.toString());return c};d.$FBPaymentsDateSelector6=function(a,c){var d=h.jsx(b("XUIText.react"),{size:"header4",children:a});return h.jsx(i,{label:d,value:a,children:d},c)};d.$FBPaymentsDateSelector7=function(a,c){a=h.jsx(b("XUIText.react"),{size:"header4",children:a});var d=c+1+"";return h.jsx(i,{label:a,value:d,children:a},c)};d.render=function(){var a="_9yw _2pij",c=this.props.date||{},d=c.month?c.month.toString():"1",e=c.day?c.day.toString():this.dayLabels[0];c=c.year?c.year.toString():this.yearLabels[0];return h.jsxs("div",{children:[h.jsx(b("FBPaymentsRichSelector.react"),{className:a,defaultValue:d,height:j,multiple:!1,name:"month",onChange:this.$FBPaymentsDateSelector4,children:this.monthLabels.map(this.$FBPaymentsDateSelector7)}),h.jsx(b("FBPaymentsRichSelector.react"),{className:a,defaultValue:e,height:j,multiple:!1,name:"day",onChange:this.$FBPaymentsDateSelector3,children:this.dayLabels.map(this.$FBPaymentsDateSelector6)}),h.jsx(b("FBPaymentsRichSelector.react"),{className:a,defaultValue:c,height:j,multiple:!1,name:"year",onChange:this.$FBPaymentsDateSelector5,children:this.yearLabels.map(this.$FBPaymentsDateSelector6)})]})};return c}(b("FBPaymentsDateSelectorBase.react"));e.exports=a}),null);
__d("FBPaymentsVerificationDOBFormBase.react",["fbt","FBPaymentsVerificationActions","FBPaymentsVerificationConstants","FBPaymentsVerificationStore","FluxContainer","React","abstractMethod","createCancelableFunction"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");var h=b("FBPaymentsVerificationConstants").STORE_KEYS;c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.MIN_AGE=18;d.MIN_YEAR=1905;d.state={day:null,month:null,year:null,loading:!0};d.$2=b("createCancelableFunction")(function(a,b){d.$1(b),d.setState({loading:!1})});d.$3=b("createCancelableFunction")(function(a){d.$1(),d.setState({loading:!1})});d.MAX_YEAR=new Date().getFullYear()-d.MIN_AGE;return d}var d=c.prototype;d.componentDidMount=function(){this.props.shouldPrefill?this.fetchPrefillData():(this.setState({loading:!1}),this.$1(null))};d.componentWillUnmount=function(){this.$2.cancel(),this.$3.cancel()};c.getStores=function(){return[b("FBPaymentsVerificationStore")]};c.calculateState=function(a){a=babelHelpers["extends"]({},a,{day:b("FBPaymentsVerificationStore").get(h.DATE_OF_BIRTH_DAY),month:b("FBPaymentsVerificationStore").get(h.DATE_OF_BIRTH_MONTH),year:b("FBPaymentsVerificationStore").get(h.DATE_OF_BIRTH_YEAR)});return a};d.fetchPrefillData=function(){this.__getAPI().fetchUserVerificationPrefillData(this.$2,this.$3)};d.$1=function(a){a=a||{};a={year:a.year||this.MAX_YEAR,month:a.month||1,day:a.day||1};b("FBPaymentsVerificationActions").setDateOfBirth(a)};d.getDate=function(){var a=this.state,b=a.day,c=a.month;a=a.year;return b&&c&&a?{day:b,month:c,year:a}:void 0};d.getDOBLabel=function(){return g._("Date of birth")};d.__getAPI=function(){return b("abstractMethod")("FBPaymentsVerificationDOBFormBase","__getAPI")};return c}(a.PureComponent);c.defaultProps={shouldPrefill:!0};e.exports=b("FluxContainer").create(c)}),null);
__d("FBPaymentsVerificationDOBForm.react",["cx","FBPaymentsDateSelector.react","FBPaymentsModulesAPI","FBPaymentsVerificationActions","FBPaymentsVerificationDOBFormBase.react","React","XUIGrayText.react","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$FBPaymentsVerificationDOBForm1=function(a){b("FBPaymentsVerificationActions").setDateOfBirthDay(a)};d.$FBPaymentsVerificationDOBForm2=function(a){b("FBPaymentsVerificationActions").setDateOfBirthMonth(a)};d.$FBPaymentsVerificationDOBForm3=function(a){b("FBPaymentsVerificationActions").setDateOfBirthYear(a)};d.__getAPI=function(){return b("FBPaymentsModulesAPI")};d.render=function(){var a=this.getDate();a=this.state.loading?h.jsx(b("XUISpinner.react"),{}):h.jsx(b("FBPaymentsDateSelector.react"),{date:(a=a)!=null?a:void 0,maxYear:this.MAX_YEAR,minYear:this.MIN_YEAR,onDayChange:this.$FBPaymentsVerificationDOBForm1,onMonthChange:this.$FBPaymentsVerificationDOBForm2,onYearChange:this.$FBPaymentsVerificationDOBForm3});return h.jsxs("div",{className:this.props.className,children:[h.jsx(b("XUIGrayText.react"),{className:"_3yor",display:"block",shade:"medium",size:"meta1",children:this.getDOBLabel()}),a]})};return c}(b("FBPaymentsVerificationDOBFormBase.react"));e.exports=a}),null);
__d("FBPaymentsVerificationDOBScreenBase.react",["FBPaymentsLoggerConstants","FBPaymentsVerificationConstants","FBPaymentsVerificationScreenInterface.react","FBPaymentsVerificationStore","FluxContainer"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsLoggerConstants").LoggerEvent,h=b("FBPaymentsLoggerConstants").LoggerFlowStep,i=b("FBPaymentsVerificationConstants").STORE_KEYS;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.props.logger.setFlowStep(h.DOB).setEventName(g.INIT).log()};c.getStores=function(){return[b("FBPaymentsVerificationStore")]};c.calculateState=function(){return{day:b("FBPaymentsVerificationStore").get(i.DATE_OF_BIRTH_DAY),month:b("FBPaymentsVerificationStore").get(i.DATE_OF_BIRTH_MONTH),year:b("FBPaymentsVerificationStore").get(i.DATE_OF_BIRTH_YEAR)}};d.isSubmitButtonDisabled=function(){var a=this.state,b=a.day,c=a.month;a=a.year;return!(b&&c&&a)};return c}(b("FBPaymentsVerificationScreenInterface.react"));e.exports=b("FluxContainer").create(a)}),null);
__d("FBPaymentsVerificationDOBScreen.react",["cx","FBPaymentsVerificationDisclaimerSection.react","FBPaymentsVerificationDOBForm.react","FBPaymentsVerificationDOBScreenBase.react","FBPaymentsVerificationFooter.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{children:[h.jsxs("div",{className:"_2ph_",children:[h.jsx("div",{className:"_2sxu",children:h.jsx(b("FBPaymentsVerificationDOBForm.react"),{})}),h.jsx(b("FBPaymentsVerificationDisclaimerSection.react"),{className:"_2pie",footerContents:this.props.footerContents,footerLinks:this.props.footerLinks})]}),h.jsx(b("FBPaymentsVerificationFooter.react"),{disabled:this.isSubmitButtonDisabled(),footerSupportLink:this.props.footerSupportLink,label:this.getSubmitButtonText(),onClick:this.props.onSubmitClick})]})};return c}(b("FBPaymentsVerificationDOBScreenBase.react"));e.exports=a}),null);
__d("FBPaymentsVerificationDonationsAutoVerifiedScreenBase.react",["fbt","FBPaymentsLoggerConstants","FBPaymentsVerificationScreenInterface.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBPaymentsLoggerConstants").LoggerEvent,i=b("FBPaymentsLoggerConstants").LoggerFlowStep;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.props.logger.setFlowStep(i.SUCCESS).setEventName(h.INIT).addToExtraData("screen","auto_verified").log();return b}var c=b.prototype;c.getImageUrl=function(){return"/images/payments/fireworks-icon-XL.png"};c.getDoneButtonLabel=function(){return g._("Continue")};c.getMessageText=function(){return g._("Identity confirmed")};c.getDescriptionText=function(){return g._("Click Continue to complete your donation.")};return b}(b("FBPaymentsVerificationScreenInterface.react"));e.exports=a}),null);
__d("FBPaymentsVerificationDonationsAutoVerifiedScreen.react",["FBPaymentsVerificationConfirmationView.react","FBPaymentsVerificationDonationsAutoVerifiedScreenBase.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=0,i=0;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("FBPaymentsVerificationConfirmationView.react"),{description:this.getDescriptionText(),doneButtonLabel:this.getDoneButtonLabel(),imageHeight:h,imageUrl:this.getImageUrl(),imageWidth:i,message:this.getMessageText(),onDoneClick:this.props.onDoneClick})};return c}(b("FBPaymentsVerificationDonationsAutoVerifiedScreenBase.react"));e.exports=a}),null);
__d("FBPaymentsVerificationDonationsPendingManualReviewScreenBase.react",["fbt","FBPaymentsLoggerConstants","FBPaymentsVerificationScreenInterface.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBPaymentsLoggerConstants").LoggerEvent,i=b("FBPaymentsLoggerConstants").LoggerFlowStep;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.props.logger.setFlowStep(i.PENDING_MANUAL_REVIEW).setEventName(h.INIT).log();return b}var c=b.prototype;c.getImageUrl=function(){return"/images/payments/clock-icon-3x.png"};c.getDoneButtonLabel=function(){return g._("Done")};c.getMessageText=function(){return g._("Info submitted for verification")};c.getDescriptionText=function(){return g._("Thank you for submitting your info for verification. We'll send a message to your Facebook Support Inbox within the next 24 hours with an update on your verification status.")};return b}(b("FBPaymentsVerificationScreenInterface.react"));e.exports=a}),null);
__d("FBPaymentsVerificationDonationsPendingManualReviewScreen.react",["FBPaymentsVerificationConfirmationView.react","FBPaymentsVerificationDonationsPendingManualReviewScreenBase.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=88,i=88;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("FBPaymentsVerificationConfirmationView.react"),{description:this.getDescriptionText(),doneButtonLabel:this.getDoneButtonLabel(),imageHeight:h,imageUrl:this.getImageUrl(),imageWidth:i,message:this.getMessageText(),onDoneClick:this.props.onDoneClick})};return c}(b("FBPaymentsVerificationDonationsPendingManualReviewScreenBase.react"));e.exports=a}),null);
__d("FBPaymentsSSNFormBase.react",["fbt","FBPaymentsNormalizers","FBPaymentsValidators","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.FULL_SSN_LENGTH=9,c.LAST_4_SSN_LENGTH=4,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getFullSSNConfig=function(){var a=g._("Please enter your 9-digit Social Security number.");return{normalizeOnChange:!0,normalizers:[b("FBPaymentsNormalizers").stripNonNumeric,b("FBPaymentsNormalizers").truncate(this.FULL_SSN_LENGTH)],validations:[{validator:b("FBPaymentsValidators").nonEmpty,errorMessage:a},{validator:b("FBPaymentsValidators").exactLength(this.FULL_SSN_LENGTH),errorMessage:a}]}};d.getSSNLast4Config=function(){var a=g._("Please enter the last 4 digits of your Social Security number.");return{normalizeOnChange:!0,normalizers:[b("FBPaymentsNormalizers").stripNonNumeric,b("FBPaymentsNormalizers").truncate(this.LAST_4_SSN_LENGTH)],validations:[{validator:b("FBPaymentsValidators").nonEmpty,errorMessage:a},{validator:b("FBPaymentsValidators").exactLength(this.LAST_4_SSN_LENGTH),errorMessage:a}]}};d.getFullSSNLabel=function(){return g._("Social Security number")};d.getSSNLast4Label=function(){return g._("Last 4 digits of Social Security number")};d.collectFullSSN=function(){return this.props.type==="full"};return c}(a.PureComponent);c.propTypes={className:(d=b("prop-types")).string,formFieldName:d.string.isRequired,onChange:d.func.isRequired,type:d.string.isRequired};c.defaultProps={formFieldName:"ssn"};e.exports=c}),null);
__d("FBPaymentsSSNForm.react",["cx","FBPaymentsForm.react","FBPaymentsFormField.react","FBPaymentsSSNFormBase.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.collectFullSSN()?h.jsx(b("FBPaymentsFormField.react"),{classNameOnInput:"_2xad",config:this.getFullSSNConfig(),height:"tall",label:this.getFullSSNLabel(),name:this.props.formFieldName,required:!0}):h.jsx(b("FBPaymentsFormField.react"),{classNameOnInput:"_2xad _2xae",config:this.getSSNLast4Config(),height:"tall",label:this.getSSNLast4Label(),name:this.props.formFieldName,required:!0});return h.jsx(b("FBPaymentsForm.react"),{className:this.props.className,onChange:this.props.onChange,children:a})};return c}(b("FBPaymentsSSNFormBase.react"));a.propTypes=b("FBPaymentsSSNFormBase.react").propTypes;e.exports=a}),null);
__d("FBPaymentsVerificationFullSSNScreenBase.react",["FBPaymentsLoggerConstants","FBPaymentsVerificationActions","FBPaymentsVerificationScreenInterface.react"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsLoggerConstants").LoggerEvent,h=b("FBPaymentsLoggerConstants").LoggerFlowStep;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.handleSubmitButtonClick=function(){b("FBPaymentsVerificationActions").setFullSSN(d.state.ssnFormData.ssn),d.props.onSubmitClick()};d.handleFormDataChange=function(a,b){d.setState({ssnFormData:a,isSSNFormValid:b})};d.state={ssnFormData:{},isSSNFormValid:!1};d.props.logger.setFlowStep(h.SSN_FULL).setEventName(g.INIT).log();return d}return c}(b("FBPaymentsVerificationScreenInterface.react"));e.exports=a}),null);
__d("FBPaymentsVerificationFullSSNScreen.react",["cx","FBPaymentsSSNForm.react","FBPaymentsVerificationDisclaimerSection.react","FBPaymentsVerificationFooter.react","FBPaymentsVerificationFullSSNScreenBase.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{children:[h.jsxs("div",{className:"_2ph_",children:[h.jsx(b("FBPaymentsSSNForm.react"),{type:"full",onChange:this.handleFormDataChange}),h.jsx(b("FBPaymentsVerificationDisclaimerSection.react"),{className:"_2pie",footerContents:this.props.footerContents,footerLinks:this.props.footerLinks})]}),h.jsx(b("FBPaymentsVerificationFooter.react"),{disabled:!this.state.isSSNFormValid,footerSupportLink:this.props.footerSupportLink,label:this.getSubmitButtonText(),onClick:this.handleSubmitButtonClick})]})};return c}(b("FBPaymentsVerificationFullSSNScreenBase.react"));e.exports=a}),null);
__d("FBPaymentsVerificationNameAndDOBScreenBase.react",["fbt","FBPaymentsLoggerConstants","FBPaymentsVerificationConstants","FBPaymentsVerificationScreenInterface.react","FBPaymentsVerificationStore","FluxContainer"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBPaymentsLoggerConstants").LoggerEvent,i=b("FBPaymentsLoggerConstants").LoggerFlowStep,j=b("FBPaymentsVerificationConstants").STORE_KEYS;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.handleLegalNameFormChanged=function(a){c.setState({isNameValid:a})};c.state={isNameValid:!1};c.props.logger.setFlowStep(i.NAME_AND_DOB).setEventName(h.INIT).log();return c}c.getStores=function(){return[b("FBPaymentsVerificationStore")]};c.calculateState=function(){return{day:b("FBPaymentsVerificationStore").get(j.DATE_OF_BIRTH_DAY),month:b("FBPaymentsVerificationStore").get(j.DATE_OF_BIRTH_MONTH),year:b("FBPaymentsVerificationStore").get(j.DATE_OF_BIRTH_YEAR)}};var d=c.prototype;d.isSubmitButtonDisabled=function(){var a=this.state,b=a.day,c=a.month,d=a.year;a=a.isNameValid;return!(b&&c&&d&&a)};d.getPersonalInfoTitle=function(){return g._("Personal information")};return c}(b("FBPaymentsVerificationScreenInterface.react"));e.exports=b("FluxContainer").create(a)}),null);
__d("FBPaymentsLegalNameFormBase.react",["fbt","FBPaymentsNormalizers","FBPaymentsValidators","React"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.MIN_NAME_LENGTH=2,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getFirstNameConfig=function(){var a=g._("Please enter your legal first name.");return{normalizers:[b("FBPaymentsNormalizers").trim],validations:[{validator:b("FBPaymentsValidators").nonEmpty,errorMessage:a},{validator:b("FBPaymentsValidators").minLength(this.MIN_NAME_LENGTH),errorMessage:a}]}};d.getLastNameConfig=function(){var a=g._("Please enter your legal surname.");return{normalizers:[b("FBPaymentsNormalizers").trim],validations:[{validator:b("FBPaymentsValidators").nonEmpty,errorMessage:a},{validator:b("FBPaymentsValidators").minLength(this.MIN_NAME_LENGTH),errorMessage:a}]}};d.getFirstNameLabel=function(){return g._("First name")};d.getLastNameLabel=function(){return g._("Surname")};return c}(a.PureComponent);e.exports=c}),null);
__d("FBPaymentsLegalNameForm.react",["cx","FBPaymentsForm.react","FBPaymentsFormField.react","FBPaymentsLegalNameFieldNames","FBPaymentsLegalNameFormBase.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.prefilledFormData||{};return h.jsxs(b("FBPaymentsForm.react"),{className:this.props.className,onChange:this.props.onChange,prefilledFormData:a,children:[h.jsx(b("FBPaymentsFormField.react"),{className:"_4jf9 _e9v",config:this.getFirstNameConfig(),height:"tall",label:this.getFirstNameLabel(),name:b("FBPaymentsLegalNameFieldNames").FIRST_NAME,required:!0}),h.jsx(b("FBPaymentsFormField.react"),{className:"_4jf9 _e9x",config:this.getLastNameConfig(),height:"tall",label:this.getLastNameLabel(),name:b("FBPaymentsLegalNameFieldNames").LAST_NAME,required:!0})]})};return c}(b("FBPaymentsLegalNameFormBase.react"));e.exports=a}),null);
__d("FBPaymentsVerificationNameFormBase.react",["FBPaymentsLegalNameFieldNames","FBPaymentsVerificationActions","FBPaymentsVerificationConstants","FBPaymentsVerificationStore","FluxContainer","React","abstractMethod","createCancelableFunction"],(function(a,b,c,d,e,f){"use strict";a=b("React");var g=b("FBPaymentsVerificationConstants").STORE_KEYS;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={firstName:null,lastName:null,loading:!1},d.$1=b("createCancelableFunction")(function(a){b("FBPaymentsVerificationActions").setFullName(a),d.setState({loading:!1})}),d.$2=b("createCancelableFunction")(function(a){d.setState({loading:!1})}),d.handleLegalNameFormChanged=function(a,c){a={firstName:a[b("FBPaymentsLegalNameFieldNames").FIRST_NAME],lastName:a[b("FBPaymentsLegalNameFieldNames").LAST_NAME]};b("FBPaymentsVerificationActions").setFullName(a);d.props.onChange(c)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.props.shouldPrefill&&this.fetchPrefillData()};d.componentWillUnmount=function(){this.$1.cancel(),this.$2.cancel()};c.getStores=function(){return[b("FBPaymentsVerificationStore")]};c.calculateState=function(a){a=babelHelpers["extends"]({},a,{firstName:b("FBPaymentsVerificationStore").get(g.FIRST_NAME),lastName:b("FBPaymentsVerificationStore").get(g.LAST_NAME)});return a};d.fetchPrefillData=function(){this.setState({loading:!0}),this.__getAPI().fetchUserVerificationPrefillData(this.$1,this.$2)};d.getNamePrefilledFormData=function(){var a={firstName:this.state.firstName,lastName:this.state.lastName};return a};d.__getAPI=function(){return b("abstractMethod")("FBPaymentsVerificationNameFormBase","__getAPI")};return c}(a.PureComponent);c.defaultProps={shouldPrefill:!0};e.exports=b("FluxContainer").create(c)}),null);
__d("FBPaymentsVerificationNameForm.react",["cx","FBPaymentsLegalNameForm.react","FBPaymentsModulesAPI","FBPaymentsVerificationNameFormBase.react","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getAPI=function(){return b("FBPaymentsModulesAPI")};d.render=function(){var a=this.state.loading?h.jsx(b("XUISpinner.react"),{}):h.jsx(b("FBPaymentsLegalNameForm.react"),{className:"_1ghk",onChange:this.handleLegalNameFormChanged,prefilledFormData:this.getNamePrefilledFormData()});return h.jsx("div",{className:this.props.className,children:a})};return c}(b("FBPaymentsVerificationNameFormBase.react"));e.exports=a}),null);
__d("FBPaymentsVerificationNameAndDOBScreen.react",["cx","FBPaymentsVerificationDisclaimerSection.react","FBPaymentsVerificationDOBForm.react","FBPaymentsVerificationFooter.react","FBPaymentsVerificationNameAndDOBScreenBase.react","FBPaymentsVerificationNameForm.react","React","XUIGrayText.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{children:[h.jsxs("div",{className:"_2pi9 _2sxu",children:[h.jsx(b("XUIGrayText.react"),{className:"_3yoq _2pi4",display:"block",shade:"dark",size:"header4",children:this.getPersonalInfoTitle()}),h.jsx(b("FBPaymentsVerificationNameForm.react"),{className:"_1ghk",onChange:this.handleLegalNameFormChanged}),h.jsx(b("FBPaymentsVerificationDOBForm.react"),{}),h.jsx(b("FBPaymentsVerificationDisclaimerSection.react"),{className:"_2pi4",footerContents:this.props.footerContents,footerLinks:this.props.footerLinks})]}),h.jsx(b("FBPaymentsVerificationFooter.react"),{disabled:this.isSubmitButtonDisabled(),footerSupportLink:this.props.footerSupportLink,label:this.getSubmitButtonText(),onClick:this.props.onSubmitClick})]})};return c}(b("FBPaymentsVerificationNameAndDOBScreenBase.react"));e.exports=a}),null);
__d("FBPaymentsVerificationNameDOBAddressScreenBase.react",["fbt","FBPaymentsAddressFieldNames","FBPaymentsContactInfoTypes","FBPaymentsLoggerConstants","FBPaymentsMailingAddress","FBPaymentsVerificationActions","FBPaymentsVerificationConstants","FBPaymentsVerificationScreenInterface.react","FBPaymentsVerificationStore","immutable","abstractMethod"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").List,i=b("FBPaymentsVerificationConstants").PREFILL_MANAGER_KEYS,j=b("FBPaymentsLoggerConstants").LoggerEvent,k=b("FBPaymentsLoggerConstants").LoggerFlowStep,l=b("FBPaymentsVerificationConstants").STORE_KEYS,m="US",n=b("FBPaymentsContactInfoTypes").MAILING_ADDRESS;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.handleLegalNameFormChanged=function(a){d.setState({isNameValid:a})};d.handleSubmitButtonClick=function(){b("FBPaymentsVerificationActions").setAddress(d.state.addressFormData),d.props.onSubmitClick()};d.handleAddressFormDataChange=function(a,b){d.setState({addressFormData:a,isAddressFormValid:b})};d.handleAddressPickerDataChange=function(a){var c,d;d=(c={},c[(d=b("FBPaymentsAddressFieldNames")).STREET1]=a.street,c[d.STREET2]=a.building,c[d.CITY]=a.cityName,c[d.STATE]=a.regionName,c[d.ZIP]=a.postalCode,c[d.COUNTRY]=a.country,c);b("FBPaymentsVerificationActions").setAddress(d)};d.handleToggleOnOnlyShowAddressSection=function(){d.handleToggleOnlyShowAddressSection(!0)};d.handleToggleOffOnlyShowAddressSection=function(){d.handleToggleOnlyShowAddressSection(!1)};d.state={addresses:h(),addressFormData:{},isAddressFormValid:!1,isLoading:!1,isNameValid:!1,onlyShowAddressSection:!1};d.props.logger.setFlowStep(k.NAME_AND_DOB_AND_ADDRESS).setEventName(j.INIT).log();return d}c.getStores=function(){return[b("FBPaymentsVerificationStore"),this.__getContactInfoStore()]};c.calculateState=function(a,d){a=a?Object.assign({},a):{};a=babelHelpers["extends"]({},a,{day:b("FBPaymentsVerificationStore").get(l.DATE_OF_BIRTH_DAY),month:b("FBPaymentsVerificationStore").get(l.DATE_OF_BIRTH_MONTH),year:b("FBPaymentsVerificationStore").get(l.DATE_OF_BIRTH_YEAR)});d=c.shouldPrefillField(i.ADDRESS,d);if(d){d=this.__getContactInfoStore().get(n);a.isLoading=d.isLoading();if(d.hasValue()){d=d.getValueEnforcing();d=d.filter(function(a){return a.country===m&&a.isAddressInfoComplete()});a.addresses=d}}return a};c.__getContactInfoStore=function(){return b("abstractMethod")("FBPaymentsVerificationNameDOBAddressScreenBase","__getContactInfoStore")};var d=c.prototype;d.isSubmitButtonDisabled=function(){var a=this.state,b=a.day,c=a.month,d=a.year,e=a.isNameValid;a=a.isAddressFormValid;a=this.userHasValidAddresses()?!0:a;return!(b&&c&&d&&e&&a)};d.userHasValidAddresses=function(){return this.state.addresses&&this.state.addresses.size!==0};d.handleToggleOnlyShowAddressSection=function(a){this.setState({onlyShowAddressSection:a})};d.getPersonalInfoTitle=function(){return g._("Personal information")};d.getHomeAddressLabel=function(){return g._("Home address")};d.getPersonalInfoDisclaimerEntities=function(){var a={text:this.getPersonalInfoDisclaimer().toString(),ranges:[]};return h([a])};d.getPersonalInfoDisclaimer=function(){return g._("Enter your name and date of birth as it appears on your driving licence or other government-issued ID. The name and date of birth on your Facebook profile won't change.")};return c}(b("FBPaymentsVerificationScreenInterface.react"));e.exports=a}),null);
__d("FBPaymentsVerificationNameDOBAddressScreen.react",["cx","FBPaymentsAddressPicker.react","FBPaymentsContactInfoStore","FBPaymentsCustomAddressForm.react","FBPaymentsLoadingView.react","FBPaymentsTextWithEntities.react","FBPaymentsVerificationConstants","FBPaymentsVerificationDisclaimerSection.react","FBPaymentsVerificationDOBForm.react","FBPaymentsVerificationFooter.react","FBPaymentsVerificationNameDOBAddressScreenBase.react","FBPaymentsVerificationNameForm.react","FluxContainer","React","XUIGrayText.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("FBPaymentsVerificationConstants").PREFILL_MANAGER_KEYS;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.__getContactInfoStore=function(){return b("FBPaymentsContactInfoStore")};var d=c.prototype;d.render=function(){if(this.state.isLoading)return h.jsx(b("FBPaymentsLoadingView.react"),{});var a=h.jsxs("div",{children:[h.jsxs("div",{className:"_2pi9",children:[h.jsx(b("XUIGrayText.react"),{className:"_3yoq _2pi4",display:"block",shade:"dark",size:"header4",children:this.getPersonalInfoTitle()}),h.jsx(b("FBPaymentsVerificationNameForm.react"),{className:"_1ghk",onChange:this.handleLegalNameFormChanged,shouldPrefill:this.constructor.shouldPrefillField(i.FULL_NAME,this.props)}),h.jsx(b("FBPaymentsVerificationDOBForm.react"),{shouldPrefill:this.constructor.shouldPrefillField(i.DATE_OF_BIRTH,this.props)})]}),h.jsx(b("FBPaymentsVerificationDisclaimerSection.react"),{className:"_2ph_",footerContents:this.getPersonalInfoDisclaimerEntities()}),h.jsx(b("XUIGrayText.react"),{className:"_2pie _2pi9 _3yoq _3yor",display:"block",shade:"dark",size:"header4",children:this.getHomeAddressLabel()})]}),c=this.userHasValidAddresses()?this.props.onSubmitClick:this.handleSubmitButtonClick;c=h.jsxs("div",{children:[h.jsx(b("FBPaymentsVerificationDisclaimerSection.react"),{className:"_2pio _2pi9",footerContents:this.props.footerContents,footerLinks:this.props.footerLinks}),h.jsx(b("FBPaymentsVerificationFooter.react"),{disabled:this.isSubmitButtonDisabled(),footerSupportLink:this.props.footerSupportLink,label:this.getSubmitButtonText(),onClick:c,onBackClick:this.props.onBackClick})]});if(this.userHasValidAddresses()){var d=h.jsx(b("FBPaymentsTextWithEntities.react"),{textWithEntities:this.props.footerContents,topSeparatorClassName:"_2pid"});return h.jsxs("div",{children:[h.jsx("div",{hidden:this.state.onlyShowAddressSection,children:a}),h.jsx(b("FBPaymentsAddressPicker.react"),{addresses:this.state.addresses,disclaimerText:d,onAddressChange:this.handleAddressPickerDataChange,onBackClick:this.handleToggleOffOnlyShowAddressSection,onForwardClick:this.handleToggleOnOnlyShowAddressSection}),this.state.onlyShowAddressSection?null:c]})}d=h.jsx(b("FBPaymentsCustomAddressForm.react"),{className:"_2pie _2pi9",disableCountrySelector:this.shouldLockCountrySelector(),hideCareOf:!0,onChange:this.handleAddressFormDataChange,paymentType:this.props.paymentType});return h.jsxs("div",{children:[a,d,c]})};return c}(b("FBPaymentsVerificationNameDOBAddressScreenBase.react"));e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("FBPaymentsVerificationNameDOBSSNLast4AddressScreenBase.react",["fbt","FBPaymentsAddressFieldNames","FBPaymentsContactInfoTypes","FBPaymentsLinkHelper","FBPaymentsLoggerConstants","FBPaymentsVerificationActions","FBPaymentsVerificationConstants","FBPaymentsVerificationScreenInterface.react","FBPaymentsVerificationStore","abstractMethod","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").List,i=b("FBPaymentsVerificationConstants").PREFILL_MANAGER_KEYS,j=b("FBPaymentsLoggerConstants").LoggerEvent,k=b("FBPaymentsLoggerConstants").LoggerFlowStep,l=b("FBPaymentsVerificationConstants").STORE_KEYS,m="US",n=b("FBPaymentsContactInfoTypes").MAILING_ADDRESS;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.handleSubmitButtonClick=function(){d.userHasValidAddresses()||b("FBPaymentsVerificationActions").setAddress(d.state.addressFormData),b("FBPaymentsVerificationActions").setSSNLast4(d.state.ssnFormData.ssn),d.props.onSubmitClick()};d.handleLegalNameFormChanged=function(a){d.setState({isNameValid:a})};d.handleSSNFormDataChange=function(a,b){d.setState({ssnFormData:a,isSSNFormValid:b})};d.handleAddressFormDataChange=function(a,b){d.setState({addressFormData:a,isAddressFormValid:b})};d.handleAddressPickerDataChange=function(a){var c,d;d=(c={},c[(d=b("FBPaymentsAddressFieldNames")).STREET1]=a.street,c[d.STREET2]=a.building,c[d.CITY]=a.cityName,c[d.STATE]=a.regionName,c[d.ZIP]=a.postalCode,c[d.COUNTRY]=a.country,c);b("FBPaymentsVerificationActions").setAddress(d)};d.handleToggleOnOnlyShowAddressSection=function(){d.handleToggleOnlyShowAddressSection(!0)};d.handleToggleOffOnlyShowAddressSection=function(){d.handleToggleOnlyShowAddressSection(!1)};d.state={addresses:h(),addressFormData:{},isAddressFormValid:!1,isLoading:!1,isNameValid:!1,isSSNFormValid:!1,onlyShowAddressSection:!1,ssnFormData:{}};d.props.logger.setFlowStep(k.NAME_AND_DOB_AND_SSN_LAST_4_AND_ADDRESS).setEventName(j.INIT).log();return d}c.getStores=function(){return[b("FBPaymentsVerificationStore"),this.__getContactInfoStore()]};c.calculateState=function(a,d){a=a?Object.assign({},a):{};a=babelHelpers["extends"]({},a,{day:b("FBPaymentsVerificationStore").get(l.DATE_OF_BIRTH_DAY),month:b("FBPaymentsVerificationStore").get(l.DATE_OF_BIRTH_MONTH),year:b("FBPaymentsVerificationStore").get(l.DATE_OF_BIRTH_YEAR)});d=c.shouldPrefillField(i.ADDRESS,d);if(d){d=this.__getContactInfoStore().get(n);a.isLoading=d.isLoading();if(d.hasValue()){d=d.getValueEnforcing();d=d.filter(function(a){return a.country===m&&a.isAddressInfoComplete()&&a.isVerified});a.addresses=d}}return a};c.__getContactInfoStore=function(){return b("abstractMethod")("FBPaymentsVerificationNameDOBAddressScreenBase","__getContactInfoStore")};var d=c.prototype;d.isSubmitButtonDisabled=function(){var a=this.state,b=a.day,c=a.month,d=a.year,e=a.isAddressFormValid,f=a.isNameValid;a=a.isSSNFormValid;e=this.userHasValidAddresses()?!0:e;return!(b&&c&&d&&f&&a&&e)};d.userHasValidAddresses=function(){return this.state.addresses&&this.state.addresses.size!==0};d.handleToggleOnlyShowAddressSection=function(a){this.setState({onlyShowAddressSection:a})};d.getPersonalInfoTitle=function(){return g._("Personal information")};d.getHomeAddressLabel=function(){return g._("Home address")};d.getPersonalInfoDisclaimerEntities=function(){var a=this.getPersonalInfoDisclaimer().toString(),c=this.getLearnMoreEntityText().toString();c={text:a+" "+c,ranges:[{length:c.length,offset:a.length+1,entity:{url:b("FBPaymentsLinkHelper").getVerificationInformationSupportURI().toString()}}]};return h([c])};d.getPersonalInfoDisclaimer=function(){return g._("Enter your name and date of birth as it appears on your driving licence or other government-issued ID. The name and date of birth on your Facebook profile won't change. The last four digits of your Social Security number help us confirm your identity and comply with applicable law. This information will be stored securely and won't be visible to others on Facebook.")};d.getLearnMoreEntityText=function(){return g._("Learn more.")};return c}(b("FBPaymentsVerificationScreenInterface.react"));e.exports=a}),null);
__d("FBPaymentsVerificationNameDOBSSNLast4AddressScreen.react",["cx","FBPaymentsAddressPicker.react","FBPaymentsContactInfoStore","FBPaymentsCustomAddressForm.react","FBPaymentsLoadingView.react","FBPaymentsSSNForm.react","FBPaymentsVerificationConstants","FBPaymentsVerificationDisclaimerSection.react","FBPaymentsVerificationDOBForm.react","FBPaymentsVerificationFooter.react","FBPaymentsVerificationNameDOBSSNLast4AddressScreenBase.react","FBPaymentsVerificationNameForm.react","FluxContainer","React","XUIGrayText.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("FBPaymentsVerificationConstants").PREFILL_MANAGER_KEYS;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.__getContactInfoStore=function(){return b("FBPaymentsContactInfoStore")};var d=c.prototype;d.render=function(){if(this.state.isLoading)return h.jsx(b("FBPaymentsLoadingView.react"),{});var a=h.jsxs("div",{children:[h.jsxs("div",{className:"_2pi9",children:[h.jsx(b("XUIGrayText.react"),{className:"_3yoq _2pi4",display:"block",shade:"dark",size:"header4",children:this.getPersonalInfoTitle()}),h.jsx(b("FBPaymentsVerificationNameForm.react"),{className:"_1ghk",onChange:this.handleLegalNameFormChanged,shouldPrefill:this.constructor.shouldPrefillField(i.FULL_NAME,this.props)}),h.jsx(b("FBPaymentsVerificationDOBForm.react"),{shouldPrefill:this.constructor.shouldPrefillField(i.DATE_OF_BIRTH,this.props)}),h.jsx(b("FBPaymentsSSNForm.react"),{className:"_2pie",onChange:this.handleSSNFormDataChange,type:"last4"}),h.jsx(b("FBPaymentsVerificationDisclaimerSection.react"),{className:"_2pio",footerContents:this.getPersonalInfoDisclaimerEntities()})]}),h.jsx(b("XUIGrayText.react"),{className:"_2pie _2pi9 _3yoq _3yor",display:"block",shade:"dark",size:"header4",children:this.getHomeAddressLabel()})]}),c=h.jsxs("div",{children:[h.jsx(b("FBPaymentsVerificationDisclaimerSection.react"),{className:"_2pio _2pi9",footerContents:this.props.footerContents,footerLinks:this.props.footerLinks}),h.jsx(b("FBPaymentsVerificationFooter.react"),{disabled:this.isSubmitButtonDisabled(),footerSupportLink:this.props.footerSupportLink,label:this.getSubmitButtonText(),onBackClick:this.props.onBackClick,onClick:this.handleSubmitButtonClick})]});if(this.userHasValidAddresses())return h.jsxs("div",{children:[h.jsx("div",{hidden:this.state.onlyShowAddressSection,children:a}),h.jsx(b("FBPaymentsAddressPicker.react"),{addresses:this.state.addresses,onAddressChange:this.handleAddressPickerDataChange,onBackClick:this.handleToggleOffOnlyShowAddressSection,onForwardClick:this.handleToggleOnOnlyShowAddressSection}),this.state.onlyShowAddressSection?null:h.jsxs("div",{className:"_2pie",children:[" ",c," "]})]});var d=h.jsx(b("FBPaymentsCustomAddressForm.react"),{className:"_2pie _2pi9",disableCountrySelector:this.shouldLockCountrySelector(),hideCareOf:!0,onChange:this.handleAddressFormDataChange,paymentType:this.props.paymentType});return h.jsxs("div",{children:[a,d,c]})};return c}(b("FBPaymentsVerificationNameDOBSSNLast4AddressScreenBase.react"));e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("FBPaymentsNationalIDFormBase.react",["fbt","immutable","React","abstractMethod"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(a){var b=c.__getCustomFormField();return h.jsx(b,{fieldConfig:a,name:a.fieldID,required:!a.isOptional},a.fieldID)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){return this.props.formConfig?this.props.formConfig:this.$2()};d.$2=function(){var a=g._("Please enter your full National Insurance number."),c=g._("National Insurance number");c={fieldID:"national_id",fieldType:"TextField",description:null,placeholder:null,valueType:"Number",isOptional:!1,label:c,errorMessage:a,validationRules:[{type:"exact_length",value:"9",errorMessage:"Social Insurance Number must be 9 digits."}]};return b("immutable").List([c])};d.__getCustomFormField=function(){return b("abstractMethod")("FBPaymentsNationalIDFormBase","_getCustomFormField")};d.__getForm=function(){return b("abstractMethod")("FBPaymentsNationalIDFormBase","_getForm")};d.render=function(){var a=this.$1();a=a.map(this.$3,this).toJS();var b=this.__getForm();return h.jsx(b,{className:this.props.className,onChange:this.props.onChange,children:a})};return c}(h.PureComponent);e.exports=a}),null);
__d("FBPaymentsNationalIDForm.react",["FBPaymentsCustomFormField.react","FBPaymentsForm.react","FBPaymentsNationalIDFormBase.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getCustomFormField=function(){return b("FBPaymentsCustomFormField.react")};d.__getForm=function(){return b("FBPaymentsForm.react")};return c}(b("FBPaymentsNationalIDFormBase.react"));e.exports=a}),null);
__d("FBPaymentsVerificationNationalIDScreenBase.react",["FBPaymentsLoggerConstants","FBPaymentsVerificationActions","FBPaymentsVerificationScreenInterface.react"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsLoggerConstants").LoggerEvent,h=b("FBPaymentsLoggerConstants").LoggerFlowStep;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.handleSubmitButtonClick=function(){b("FBPaymentsVerificationActions").setNationalID(d.state.nationalIDFormData.national_id),d.props.onSubmitClick()};d.handleFormDataChange=function(a,b){d.setState({nationalIDFormData:a,isNationalIDFormValid:b})};d.state={nationalIDFormData:{},isNationalIDFormValid:!1};d.props.logger.setFlowStep(h.NATIONAL_ID).setEventName(g.INIT).log();return d}return c}(b("FBPaymentsVerificationScreenInterface.react"));e.exports=a}),null);
__d("FBPaymentsVerificationNationalIDScreen.react",["cx","FBPaymentsNationalIDForm.react","FBPaymentsVerificationDisclaimerSection.react","FBPaymentsVerificationFooter.react","FBPaymentsVerificationNationalIDScreenBase.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{children:[h.jsxs("div",{className:"_2ph_",children:[h.jsx(b("FBPaymentsNationalIDForm.react"),{formConfig:this.props.formConfig,onChange:this.handleFormDataChange}),h.jsx(b("FBPaymentsVerificationDisclaimerSection.react"),{className:"_2pie",footerContents:this.props.footerContents,footerLinks:this.props.footerLinks})]}),h.jsx(b("FBPaymentsVerificationFooter.react"),{disabled:!this.state.isNationalIDFormValid,footerSupportLink:this.props.footerSupportLink,label:this.getSubmitButtonText(),onClick:this.handleSubmitButtonClick})]})};return c}(b("FBPaymentsVerificationNationalIDScreenBase.react"));e.exports=a}),null);
__d("FBPaymentsVerificationPendingManualReviewScreenBase.react",["fbt","FBPaymentsLoggerConstants","FBPaymentsVerificationScreenInterface.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBPaymentsLoggerConstants").LoggerEvent,i=b("FBPaymentsLoggerConstants").LoggerFlowStep;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.props.logger.setFlowStep(i.PENDING_MANUAL_REVIEW).setEventName(h.INIT).log();return b}var c=b.prototype;c.getImageUrl=function(){return"/images/payments/clock-icon-3x.png"};c.getDoneButtonLabel=function(){return g._("Done")};c.getMessageText=function(){return g._("Thank you!")};c.getDescriptionText=function(){return g._("It usually takes less than 24 hours to verify this information. After that, you'll be able to send and receive payments again.")};return b}(b("FBPaymentsVerificationScreenInterface.react"));e.exports=a}),null);
__d("FBPaymentsVerificationPendingManualReviewScreen.react",["FBPaymentsVerificationConfirmationView.react","FBPaymentsVerificationPendingManualReviewScreenBase.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=88,i=88;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("FBPaymentsVerificationConfirmationView.react"),{description:this.getDescriptionText(),doneButtonLabel:this.getDoneButtonLabel(),imageHeight:h,imageUrl:this.getImageUrl(),imageWidth:i,message:this.getMessageText(),onDoneClick:this.props.onDoneClick})};return c}(b("FBPaymentsVerificationPendingManualReviewScreenBase.react"));e.exports=a}),null);
__d("FBPaymentsImageFileInputStrings",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={fileFormatIncorrect:function(){return g._("The format of your image is incorrect. Please upload a PNG or JPG file.")},multipleFileUploaded:function(){return g._("Your upload contains multiple files. Please upload 1 image.")},fileSizeTooLarge:function(a){return g._("Please upload an image smaller than {max_size_in_mb} MB.",[g._param("max_size_in_mb",a)])}};e.exports=a}),null);
__d("FBPaymentsImageFileInput.react",["ix","cx","fbt","CenteredContainer.react","Event","FBDragDropFileInput.react","FBPaymentsImageFileInputStrings","Image.react","React","ReactDOM","XUIGrayText.react","cxMargin","fbglyph","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=5e3;a=1024;var l=a*a,m="image/png",n="image/jpeg";c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$11=function(){d.$3>0&&d.$12()};d.$7=function(a,c){if(c.length>0){c=c[0];var e=null;switch(c.type){case"too_many_files":e=b("FBPaymentsImageFileInputStrings").multipleFileUploaded();break;case"incorrect_type":e=b("FBPaymentsImageFileInputStrings").fileFormatIncorrect();break}d.setState({errorMessage:e});return}a.length>0&&d.$9(a[0])};d.$5=function(){d.state.errorShown||d.setState({errorMessage:null})};d.$6=function(){d.setState({errorShown:!1})};d.$1=[];d.$2=null;d.$3=0;d.$4=null;d.state={errorMessage:null,errorShown:!1};return d}var d=c.prototype;d.componentDidMount=function(){this.$4=b("Event").listen(b("ReactDOM").findDOMNode(this.refs.error),"transitionend",this.$5)};d.componentWillUnmount=function(){this.$4&&this.$4.remove()};d.UNSAFE_componentWillUpdate=function(a,b){a=b.errorMessage;a&&a!==this.state.errorMessage&&(this.setState({errorShown:!0}),clearTimeout(this.$2),this.$2=setTimeout(this.$6,k))};d.render=function(){var a=this.props.className,c=this.state,d=c.errorMessage;c=c.errorShown;return j.jsx(b("FBDragDropFileInput.react"),{className:b("joinClasses")(a,"_1-c0"),mimeTypes:[m,n],onSelect:this.$7,children:j.jsxs(b("CenteredContainer.react"),{vertical:!0,horizontal:!0,children:[j.jsxs("div",{className:"_1-c1"+(c?" _1-c2":""),ref:"error",children:[j.jsx(b("Image.react"),{className:"_1-ck _3-8_",src:g("117756")}),j.jsx(b("XUIGrayText.react"),{shade:"medium",children:d})]}),j.jsxs("div",{className:"_1-cl",children:[this.props.uploadButtonIcon,this.$8()]}),this.props.fileDescriptionText?j.jsx(b("XUIGrayText.react"),{className:"_3-8y",display:"block",shade:"medium",size:"header4",children:this.props.fileDescriptionText}):null]})})};d.$9=function(a){this.$3=1;var b=new Image();b.addEventListener("load",this.$10.bind(this,b,a));b.addEventListener("error",this.$11);b.src=URL.createObjectURL(a)};d.$10=function(a,c){a=this.props.maxFileSizeMB;c.size<=a*l?this.$1.push(c):this.setState({errorMessage:b("FBPaymentsImageFileInputStrings").fileSizeTooLarge(this.props.maxFileSizeMB)});this.$11()};d.$12=function(){this.$1.length>0&&this.props.onFileSelect(this.$1[0]),this.$1=[]};d.$8=function(){return this.props.uploadButtonLabel||i._("Upload Photo")};return c}(j.PureComponent);c.propTypes={className:(d=b("prop-types")).string,fileDescriptionText:d.string,maxFileSizeMB:d.number.isRequired,onFileSelect:d.func.isRequired,uploadButtonIcon:d.node,uploadButtonLabel:d.string};e.exports=c}),null);
__d("FBPaymentsImageFileInputWithPreviewBase.react",["React","prop-types"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.state={errorMessage:null};return b}return b}(a.PureComponent);c.propTypes={fileDescriptionText:(d=b("prop-types")).string,maxFileSizeMB:d.number.isRequired,onCancel:d.func.isRequired,onSelect:d.func.isRequired,selectedImage:d.instanceOf(File),uploadButtonLabel:d.string,uploadButtonIcon:d.node};e.exports=c}),null);
__d("FBPaymentsImageUploadPreview.react",["cx","Image.react","React","XUICloseButton.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:b("joinClasses")(this.props.className,"_1rj7"),children:[h.jsx(b("Image.react"),{className:"_1rj8",height:this.props.height,src:this.props.overlaySrc,width:this.props.width}),h.jsx("div",{className:"_1rja",children:h.jsx(b("XUICloseButton.react"),{className:"_1rjb",onClick:this.props.onCancel,shade:"light",size:"medium"})})]})};return c}(h.PureComponent);a.propTypes={className:(c=b("prop-types")).string,height:c.number,onCancel:c.func.isRequired,overlaySrc:c.oneOfType([c.string,c.object]).isRequired,width:c.number};e.exports=a}),null);
__d("FBPaymentsImageFileInputWithPreview.react",["cx","FBPaymentsImageFileInput.react","FBPaymentsImageFileInputWithPreviewBase.react","FBPaymentsImageUploadPreview.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.maxFileSizeMB,d=a.onCancel;a=a.selectedImage;var e=null;a&&(e=h.jsx(b("FBPaymentsImageUploadPreview.react"),{className:"_5-95",onCancel:d,overlaySrc:URL.createObjectURL(a)}));return h.jsxs("div",{children:[e,h.jsx(b("FBPaymentsImageFileInput.react"),{className:(a?"hidden_elem":"")+" _5-96",fileDescriptionText:this.props.fileDescriptionText,maxFileSizeMB:c,onFileSelect:this.props.onSelect,uploadButtonIcon:this.props.uploadButtonIcon,uploadButtonLabel:this.props.uploadButtonLabel})]})};return c}(b("FBPaymentsImageFileInputWithPreviewBase.react"));e.exports=a}),null);
__d("FBPaymentsVerificationPhotoIDDisclaimerSection.react",["cx","fbt","FBPaymentsTextWithEntities.react","FBPaymentsVerificationDisclaimerSectionBase.react","Layout.react","Middot.react","React","XUIGrayText.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__renderTermLink=function(a,c,d){d=c<d.size-1?i.jsx(b("Middot.react"),{className:"_abl"},"dot"+c):null;return[i.jsx(b("FBPaymentsTextWithEntities.react"),{textWithEntities:a},c),d]};d.__renderTermLinkSection=function(a){return i.jsx(b("XUIGrayText.react"),{className:"_1ghk",display:"block",size:"meta1",children:a.map(this.__renderTermLink,this)})};d.__renderFooterContentParagraph=function(a,c,d){var e;d="\u2022";return i.jsxs(b("Layout.react"),{children:[i.jsxs(e=b("XUIGrayText.react"),{className:"_2pio",display:"block",shade:"medium",size:"meta1",children:[i.jsx("ul",{children:i.jsx(e,{shade:"medium",size:"meta1",weight:"bold",children:h._("Your photo must meet these requirements")})}),i.jsx("ul",{children:h._("{bullet} Colour photo",[h._param("bullet",d)])}),i.jsx("ul",{children:h._("{bullet} Clear and non-blurry",[h._param("bullet",d)])}),i.jsx("ul",{children:h._("{bullet} Contain your full name and DOB",[h._param("bullet",d)])}),i.jsx("ul",{children:h._("{bullet} Be less than 8 MB in size",[h._param("bullet",d)])}),i.jsx("ul",{children:h._("{bullet} Be in .png or .jpg format",[h._param("bullet",d)])}),i.jsx("ul",{children:h._("{bullet} Full name must match the name on your Stripe account",[h._param("bullet",d)])})]}),i.jsxs(e,{className:"_2pio",display:"block",shade:"medium",size:"meta1",children:[i.jsx("ul",{children:i.jsx(e,{shade:"medium",size:"meta1",weight:"bold",children:h._("Approved forms of ID:")})}),i.jsx("ul",{children:h._("{bullet} Driving licence (front and back)",[h._param("bullet",d)])}),i.jsx("ul",{children:h._("{bullet} Passport",[h._param("bullet",d)])}),i.jsx("ul",{children:h._("{bullet} State ID card (front and back)",[h._param("bullet",d)])}),i.jsx("ul",{children:h._("{bullet} Resident permit ID",[h._param("bullet",d)])}),i.jsx("ul",{children:h._("{bullet} US green card",[h._param("bullet",d)])}),i.jsx("ul",{children:h._("{bullet} US visa card",[h._param("bullet",d)])})]}),i.jsx(e,{className:"_5kyc _2pie",display:"block",shade:"medium",size:"meta1",children:i.jsx(b("FBPaymentsTextWithEntities.react"),{textWithEntities:a})})]},c)};d.__getRootClassName=function(){return this.props.className};return c}(b("FBPaymentsVerificationDisclaimerSectionBase.react"));e.exports=a}),null);
__d("FBPaymentsVerificationPhotoIDScreenBase.react",["fbt","invariant","FBPaymentsLoggerConstants","FBPaymentsVerificationActions","FBPaymentsVerificationScreenInterface.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("FBPaymentsLoggerConstants").LoggerEvent,j=b("FBPaymentsLoggerConstants").LoggerFlowStep;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.onCancelImage=function(){d.setState({identityDocument:null})};d.onSelectImage=function(a){d.setState({identityDocument:a})};d.handleSubmitButtonClick=function(){var a=d.state.identityDocument;!a&&h(0,378);b("FBPaymentsVerificationActions").setIdentityDocument(a);d.props.onSubmitClick()};d.state={identityDocument:null};d.props.logger.setFlowStep(j.VERIFICATION_DOCUMENT).setEventName(i.INIT).log();return d}var d=c.prototype;d.componentDidUpdate=function(a){this.props.header!==a.header&&this.setState({identityDocument:null})};d.getMaxFileSizeMB=function(){return this.props.verificationProductType==="CHECKOUT_EXPERIENCES"?5:8};d.getPhotoIDFieldTitleText=function(){return this.props.verificationProductType==="CHECKOUT_EXPERIENCES"?g._("Upload photo"):g._("Upload photo ID")};d.getPhotoUploadButtonLabel=function(){return g._("Add Photo")};return c}(b("FBPaymentsVerificationScreenInterface.react"));e.exports=a}),null);
__d("FBPaymentsVerificationPhotoIDScreen.react",["ix","cx","FBPaymentsImageFileInputWithPreview.react","FBPaymentsVerificationFooter.react","FBPaymentsVerificationPhotoIDDisclaimerSection.react","FBPaymentsVerificationPhotoIDScreenBase.react","Image.react","React","XUIGrayText.react","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=i.jsx(b("Image.react"),{src:g("114973")});return i.jsxs("div",{children:[i.jsxs("div",{className:"_2ph_",children:[i.jsx(b("XUIGrayText.react"),{className:"_3yor",display:"block",shade:"medium",size:"meta1",children:this.getPhotoIDFieldTitleText()}),i.jsx(b("FBPaymentsImageFileInputWithPreview.react"),{maxFileSizeMB:this.getMaxFileSizeMB(),onCancel:this.onCancelImage,onSelect:this.onSelectImage,selectedImage:this.state.identityDocument,uploadButtonIcon:a,uploadButtonLabel:this.getPhotoUploadButtonLabel()}),i.jsx(b("FBPaymentsVerificationPhotoIDDisclaimerSection.react"),{className:"_2pie",footerContents:this.props.footerContents,footerLinks:this.props.footerLinks})]}),i.jsx(b("FBPaymentsVerificationFooter.react"),{footerSupportLink:this.props.footerSupportLink,label:this.getSubmitButtonText(),onClick:this.handleSubmitButtonClick,onBackClick:this.props.onBackClick})]})};return c}(b("FBPaymentsVerificationPhotoIDScreenBase.react"));e.exports=a}),null);
__d("FBPaymentsVerificationSSNLast4ScreenBase.react",["FBPaymentsLoggerConstants","FBPaymentsVerificationActions","FBPaymentsVerificationScreenInterface.react"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsLoggerConstants").LoggerEvent,h=b("FBPaymentsLoggerConstants").LoggerFlowStep;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.handleSubmitButtonClick=function(){b("FBPaymentsVerificationActions").setSSNLast4(d.state.ssnFormData.ssn),d.props.onSubmitClick()};d.handleFormDataChange=function(a,b){d.setState({ssnFormData:a,isSSNFormValid:b})};d.state={ssnFormData:{},isSSNFormValid:!1};d.props.logger.setFlowStep(h.SSN_LAST_4).setEventName(g.INIT).log();return d}return c}(b("FBPaymentsVerificationScreenInterface.react"));e.exports=a}),null);
__d("FBPaymentsVerificationSSNLast4Screen.react",["cx","FBPaymentsSSNForm.react","FBPaymentsVerificationDisclaimerSection.react","FBPaymentsVerificationFooter.react","FBPaymentsVerificationSSNLast4ScreenBase.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{children:[h.jsxs("div",{className:"_2ph_",children:[h.jsx(b("FBPaymentsSSNForm.react"),{type:"last4",onChange:this.handleFormDataChange}),h.jsx(b("FBPaymentsVerificationDisclaimerSection.react"),{className:"_2pie",footerContents:this.props.footerContents,footerLinks:this.props.footerLinks})]}),h.jsx(b("FBPaymentsVerificationFooter.react"),{disabled:!this.state.isSSNFormValid,footerSupportLink:this.props.footerSupportLink,label:this.getSubmitButtonText(),onClick:this.handleSubmitButtonClick})]})};return c}(b("FBPaymentsVerificationSSNLast4ScreenBase.react"));e.exports=a}),null);
__d("UserVerificationScreen",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INTRODUCTION:"INTRODUCTION",REQUEST_LEGAL_NAME:"REQUEST_LEGAL_NAME",REQUEST_SSN_LAST_FOUR:"REQUEST_SSN_LAST_FOUR",REQUEST_CC_CVV:"REQUEST_CC_CVV",REQUEST_CC_FIRST_SIX:"REQUEST_CC_FIRST_SIX",PENDING_MANUAL_REVIEW:"PENDING_MANUAL_REVIEW",SUCCESS:"SUCCESS",FAILURE:"FAILURE",ADS_SUCCESS:"ADS_SUCCESS",REQUEST_DATE_OF_BIRTH:"REQUEST_DATE_OF_BIRTH",REQUEST_NAME_AND_DATE_OF_BIRTH:"REQUEST_NAME_AND_DATE_OF_BIRTH",REQUEST_ADDRESS:"REQUEST_ADDRESS",REQUEST_DATE_OF_BIRTH_AND_ADDRESS:"REQUEST_DATE_OF_BIRTH_AND_ADDRESS",REQUEST_NAME_AND_DATE_OF_BIRTH_AND_ADDRESS:"REQUEST_NAME_AND_DATE_OF_BIRTH_AND_ADDRESS",REQUEST_NAME_AND_DATE_OF_BIRTH_AND_SSN_LAST_FOUR_AND_ADDRESS:"REQUEST_NAME_AND_DATE_OF_BIRTH_AND_SSN_LAST_FOUR_AND_ADDRESS",REQUEST_FULL_SSN:"REQUEST_FULL_SSN",REQUEST_VERIFICATION_DOCUMENT:"REQUEST_VERIFICATION_DOCUMENT",REQUEST_NATIONAL_ID:"REQUEST_NATIONAL_ID"})}),null);
__d("FBPaymentsVerificationScreenManagerBase",["invariant","FBPaymentsVerificationScreenInterface.react","UserVerificationScreen"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.screenMap=new Map()}var c=a.prototype;c.getVerificationScreen=function(a,c){if(!b("UserVerificationScreen")[a])throw Error("Non-existent verification screen "+a);var d=this.screenMap.get(a)||this.screenMap.get(this.generateKey(a,c));!d&&g(0,4177,a,c);return d};c.generateKey=function(a,b){return a+"_"+b};return a}();e.exports=a}),null);
__d("FBPaymentsVerificationScreenManager",["FBPaymentsVerificationAddressScreen.react","FBPaymentsVerificationAutoVerifiedScreen.react","FBPaymentsVerificationConfirmationScreen.react","FBPaymentsVerificationDOBScreen.react","FBPaymentsVerificationDonationsAutoVerifiedScreen.react","FBPaymentsVerificationDonationsPendingManualReviewScreen.react","FBPaymentsVerificationFullSSNScreen.react","FBPaymentsVerificationNameAndDOBScreen.react","FBPaymentsVerificationNameDOBAddressScreen.react","FBPaymentsVerificationNameDOBSSNLast4AddressScreen.react","FBPaymentsVerificationNationalIDScreen.react","FBPaymentsVerificationPendingManualReviewScreen.react","FBPaymentsVerificationPhotoIDScreen.react","FBPaymentsVerificationScreenManagerBase","FBPaymentsVerificationSSNLast4Screen.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.screenMap.set("REQUEST_DATE_OF_BIRTH",b("FBPaymentsVerificationDOBScreen.react"));c.screenMap.set("REQUEST_NAME_AND_DATE_OF_BIRTH",b("FBPaymentsVerificationNameAndDOBScreen.react"));c.screenMap.set("REQUEST_ADDRESS",b("FBPaymentsVerificationAddressScreen.react"));c.screenMap.set("REQUEST_NAME_AND_DATE_OF_BIRTH_AND_ADDRESS",b("FBPaymentsVerificationNameDOBAddressScreen.react"));c.screenMap.set("REQUEST_NAME_AND_DATE_OF_BIRTH_AND_SSN_LAST_FOUR_AND_ADDRESS",b("FBPaymentsVerificationNameDOBSSNLast4AddressScreen.react"));c.screenMap.set("REQUEST_FULL_SSN",b("FBPaymentsVerificationFullSSNScreen.react"));c.screenMap.set("REQUEST_SSN_LAST_FOUR",b("FBPaymentsVerificationSSNLast4Screen.react"));c.screenMap.set("REQUEST_VERIFICATION_DOCUMENT",b("FBPaymentsVerificationPhotoIDScreen.react"));c.screenMap.set("REQUEST_NATIONAL_ID",b("FBPaymentsVerificationNationalIDScreen.react"));c.screenMap.set(c.generateKey("SUCCESS","MANAGED_STRIPE"),b("FBPaymentsVerificationConfirmationScreen.react"));c.screenMap.set(c.generateKey("SUCCESS","P2P"),b("FBPaymentsVerificationAutoVerifiedScreen.react"));c.screenMap.set(c.generateKey("SUCCESS","P4C"),b("FBPaymentsVerificationDonationsAutoVerifiedScreen.react"));c.screenMap.set(c.generateKey("PENDING_MANUAL_REVIEW","CHECKOUT_EXPERIENCES"),b("FBPaymentsVerificationConfirmationScreen.react"));c.screenMap.set(c.generateKey("PENDING_MANUAL_REVIEW","MANAGED_STRIPE"),b("FBPaymentsVerificationConfirmationScreen.react"));c.screenMap.set(c.generateKey("PENDING_MANUAL_REVIEW","P2P"),b("FBPaymentsVerificationPendingManualReviewScreen.react"));c.screenMap.set(c.generateKey("PENDING_MANUAL_REVIEW","P4C"),b("FBPaymentsVerificationDonationsPendingManualReviewScreen.react"));return c}return c}(b("FBPaymentsVerificationScreenManagerBase"));e.exports=new a()}),null);
__d("FBPaymentsVerificationFlowContainer.react",["FBPaymentsLogger","FBPaymentsModulesAPI","FBPaymentsVerificationFlowContainerBase.react","FBPaymentsVerificationFlowView.react","FBPaymentsVerificationScreenManager"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getVerificationFlowView=function(){return b("FBPaymentsVerificationFlowView.react")};d.__getScreenManager=function(){return b("FBPaymentsVerificationScreenManager")};d.__getAPI=function(){return b("FBPaymentsModulesAPI")};d.__getLogger=function(){return b("FBPaymentsLogger")};d.__updateURLForFinalScreen=function(a){return!1};return c}(b("FBPaymentsVerificationFlowContainerBase.react"));e.exports=a}),null);
__d("RazorPayPopupManager",[],(function(a,b,c,d,e,f){"use strict";a={_instances:{},register:function(a,b){Object.prototype.hasOwnProperty.call(this._instances,a),this._instances[a]=b},processPopup:function(a){var b=a.instance_id;!Object.prototype.hasOwnProperty.call(this._instances,b);b=this._instances[b];b.close(a)}};e.exports=a}),null);
__d("RazorPayPopup",["FBPaymentsLoggerConstants","PopupWindow","RazorPayPopupManager","XPaymentsRazorPayAutheticationLoadingViewController","XPaymentsRazorPayRedirectController","guid"],(function(a,b,c,d,e,f){"use strict";var g=b("FBPaymentsLoggerConstants").LoggerFlowStep,h=b("FBPaymentsLoggerConstants").LoggerEvent;a=function(){function a(){this.width=600,this.height=600,this.timerID=0,this.pollingInterval=100,this.$1="razorpayPopup$"+b("guid")(),b("RazorPayPopupManager").register(this.$1,this),this.callbackURL=b("XPaymentsRazorPayRedirectController").getURIBuilder().setString("instance_id",this.$1).getURI().setDomain("www.facebook.com").setProtocol("https").toString()}var c=a.prototype;c.initRazorPay=function(a){this.popup&&(this.cancelHandler=a.onCancel,this.successHandler=a.onSuccess,this.popup.location=a.initURL,this.popup.focus(),a.logger.setFlowStep(g.REDIRECT_TO_RAZORPAY).setEventName(h.REDIRECT).logVital())};c.preparePopup=function(){var a=b("XPaymentsRazorPayAutheticationLoadingViewController").getURIBuilder().getURI().setDomain("www.facebook.com").setProtocol("https").toString();this.popup=b("PopupWindow").open(a,this.height,this.width);this.setupPopupOpenCheck()};c.setupPopupOpenCheck=function(){this.timerID=window.setInterval(function(){this.popup&&this.popup.closed&&(this.closePopup(),this.cancelHandler&&this.cancelHandler())}.bind(this),this.pollingInterval)};c.close=function(a){this.closePopup(),a.cancel||a.cancel_dialog?this.cancelHandler&&this.cancelHandler():this.successHandler&&this.successHandler(a)};c.closePopup=function(){this.popup&&(this.popup.close(),this.popup=null)};return a}();e.exports=a}),null);
__d("FBPaymentsCheckoutV2FlowContainer.react",["Promise","AltPayPopup","AsyncRequest","ChannelManager","DOMScroll","FBPaymentsAlertDialog.react","FBPaymentsCheckoutNUXContainer.react","FBPaymentsCheckoutStrings","FBPaymentsCheckoutV2FlowContainerBase.react","FBPaymentsCheckoutV2FlowView.react","FBPaymentsCheckoutV2Store","FBPaymentsComponentWithErrorBoundaryContainer","FBPaymentsConfirmationContainer.react","FBPaymentsConfirmDialog.react","FBPaymentsContactSupport.react","FBPaymentsContactSupportScreenManager","FBPaymentsContactSupportView.react","FBPaymentsExtensionV2Manager","FBPaymentsLoadingView.react","FBPaymentsLogger","FBPaymentsModulesAPI","FBPaymentsPayActionRowContainerV2.react","FBPaymentsPriceTableViewV2.react","FBPaymentsPSDDataPolicy.react","FBPaymentsRoundImageEntityHeaderView.react","FBPaymentsUserFacingErrorNotice.react","FBPaymentsVerificationFlowContainer.react","FBPayPINFlowContainer.react","FluxContainer","RazorPayPopup"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.__getCheckoutStore=function(){return b("FBPaymentsCheckoutV2Store")};var d=c.prototype;d.__connectAltPay=function(a){this.$FBPaymentsCheckoutV2FlowContainer1&&a?this.$FBPaymentsCheckoutV2FlowContainer1.initAltPay(a):(this.$FBPaymentsCheckoutV2FlowContainer1=new(b("AltPayPopup"))(),this.$FBPaymentsCheckoutV2FlowContainer1.preparePopup())};d.__connectRazorPay=function(a){this.$FBPaymentsCheckoutV2FlowContainer2&&a?this.$FBPaymentsCheckoutV2FlowContainer2.initRazorPay(a):(this.$FBPaymentsCheckoutV2FlowContainer2=new(b("RazorPayPopup"))(),this.$FBPaymentsCheckoutV2FlowContainer2.preparePopup())};d.__scrollToTop=function(){b("DOMScroll").scrollToTop(!0)};d.__getExtensionManager=function(){return b("FBPaymentsExtensionV2Manager")};d.__getCheckoutFlowView=function(){return b("FBPaymentsCheckoutV2FlowView.react")};d.__getNUXContainer=function(){return b("FBPaymentsCheckoutNUXContainer.react")};d.__getPSDAgreementNUXContainer=function(){return b("FBPaymentsPSDDataPolicy.react")};d.__getLoadingView=function(){return b("FBPaymentsLoadingView.react")};d.__getConfirmationContainer=function(){return b("FBPaymentsConfirmationContainer.react")};d.__getEntityHeaderContainer=function(){return b("FBPaymentsRoundImageEntityHeaderView.react")};d.__getPayActionRowContainer=function(){return b("FBPaymentsPayActionRowContainerV2.react")};d.__getPINFlowContainer=function(){return b("FBPayPINFlowContainer.react")};d.__getVerificationFlowContainer=function(){return b("FBPaymentsVerificationFlowContainer.react")};d.__getUserFacingErrorNotice=function(){return b("FBPaymentsUserFacingErrorNotice.react")};d.__getContactSupportContainer=function(){return b("FBPaymentsContactSupport.react").create(b("FBPaymentsContactSupportView.react"),b("FBPaymentsContactSupportScreenManager"))};d.__isExitCheckoutConfirmDialogEnabled=function(){switch(this.getPaymentType()){case"mor_donations":case"mor_donations_cause_for_charities":case"mor_donations_matching_confirmation":case"mor_donations_matching_pledge":case"nmor_donation_p4p":case"nmor_blackbaud_rwr_donation":case"nmor_ppgf_donation":return!0;default:return!1}};d.__isExtensionDisplayWhenValidatePIN=function(){return!0};d.__getCheckoutAlertDialog=function(){return b("FBPaymentsAlertDialog.react")};d.__getExitCheckoutConfirmDialog=function(){return b("FBPaymentsConfirmDialog.react")};d.__getExitCheckoutConfirmDialogCancelButtonLabel=function(){return b("FBPaymentsCheckoutStrings").getExitCheckoutConfirmDialogCancelButtonLabel()};d.__getExitCheckoutConfirmDialogConfirmButtonLabel=function(){return b("FBPaymentsCheckoutStrings").getExitCheckoutConfirmDialogConfirmButtonLabel()};d.__getDonationLargeAmountConfirmDialog=function(){return b("FBPaymentsConfirmDialog.react")};d.__getAltPayCancelledDialogButtonLabel=function(){return b("FBPaymentsCheckoutStrings").getAltPayCancelledDialogButtonLabel()};d.__getRazorPayCallbackURL=function(){return b("Promise").resolve(this.$FBPaymentsCheckoutV2FlowContainer2.callbackURL)};d.__closeRazorPayPopup=function(){this.$FBPaymentsCheckoutV2FlowContainer2&&this.$FBPaymentsCheckoutV2FlowContainer2.closePopup()};d.__shouldUseBackButtonOnConfirmedExit=function(){return!1};d.__getPriceTableComponent=function(){return b("FBPaymentsPriceTableViewV2.react")};d.__getAPI=function(){return b("FBPaymentsModulesAPI")};d.__getLogger=function(){return b("FBPaymentsLogger")};d.__exitCheckoutFlow=function(){this.__handleDialogClose()};d.__startChannelManager=function(){b("ChannelManager").startChannelManager()};d.__getFunnelLoggingPlatform=function(){return"web"};d.__getIsDesktop=function(){return!0};d.__getOpenSurveyRequest=function(a){return new(b("AsyncRequest"))(a).send()};return c}(b("FBPaymentsCheckoutV2FlowContainerBase.react"));a=b("FluxContainer").create(a,{withProps:!0});a=b("FBPaymentsComponentWithErrorBoundaryContainer").create(a);e.exports=a}),null);