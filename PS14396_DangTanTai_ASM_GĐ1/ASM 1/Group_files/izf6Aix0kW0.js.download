if (self.CavalryLogger) { CavalryLogger.start_js(["6s72a"]); }

__d("CampfireCharacters",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({EMBED:"\ud83d\uddbc",PHOTO:"\ud83d\udcf7",VIDEO:"\ud83d\udcf9"});e.exports=a}),null);
__d("calculateMenuTop",["DOMVector","Style"],(function(a,b,c,d,e,f){function c(c,d){var e=a.getSelection(),f=e.anchorNode;e=e.focusNode;if(f===null||e===null)return null;c=c.getIsBackward()?e:f;while(c&&(!c.getAttribute||!c.getAttribute("data-block")))c=c.parentNode;if(!c)return null;e=b("DOMVector").getElementPosition(c,"viewport").y;f=b("DOMVector").getElementPosition(d,"viewport").y;d=b("Style").getFloat(c,"paddingTop");c=b("Style").getFloat(c,"lineHeight");e=e+d+c/2;return Math.floor(e-f)}e.exports=c}),null);
__d("GroupsComposerActions",["GroupsComposerActionsTypes","ReactComposerDispatcher"],(function(a,b,c,d,e,f){a={schedule:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("GroupsComposerActionsTypes").SCHEDULE,scheduledPublishTime:c})},scheduleRecurring:function(a,c,d,e){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("GroupsComposerActionsTypes").SCHEDULE_RECURRING,scheduledPublishTime:c,postFrequency:d,recurringPostEndTime:e})},setNuxVisible:function(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("GroupsComposerActionsTypes").SET_NUX_VISIBLE,nuxID:c,visible:d})},draft:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("GroupsComposerActionsTypes").DRAFT})},askAdminToPost:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("GroupsComposerActionsTypes").ASK_ADMIN_TO_POST})}};e.exports=a}),null);
__d("GroupsComposerNuxTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({DRAFT:5047,SCHEDULE:4670,FORMATTED_POSTS:7032});e.exports=a}),null);
__d("AYMTGroupsMallCardFluxStore",["AYMTClientSideChannelNames","AYMTGroupsDispatcher","AYMTTipActionTypes","AYMTTipsLoader","FluxReduceStore","immutable"],(function(a,b,c,d,e,f){var g=b("immutable").List,h=b("immutable").Map;a={tips:g([])};var i=function(b){"use strict";babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record(a));c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new i()};d.$AYMTGroupsMallCardFluxStore1=function(){return b("AYMTClientSideChannelNames").AYMT_WWW_GROUPS_MALL_CARD_CHANNEL};d.reduce=function(a,c){switch(c.type){case b("AYMTTipActionTypes").TIPS_REQUESTED:c.channelName===this.$AYMTGroupsMallCardFluxStore1()&&b("AYMTTipsLoader").loadTips(c.data,c.channelName,b("AYMTGroupsDispatcher"));return a;case b("AYMTTipActionTypes").TIPS_LOADED:if(c.data.channelName===this.$AYMTGroupsMallCardFluxStore1()){c=c.data.tips;var d=new i();return d.merge({tips:g(c.map(function(a){var b=a.client_side_rendering_spec.client_side_rendering_params,c={};c.client_side_rendering_class=a.client_side_rendering_spec.client_side_rendering_class;c.aymt_data=a.aymt_data;c.actions=b.actions;c.tip_body=b.tip_body;c.tip_action_label=b.tip_action_label;c.tip_title=b.tip_title;c.tip_image_uri=b.tip_image_uri;c.tip_image=b.tip_image;c.bullet_rows=b.bullet_rows;return h(c)}))})}return a;default:return a}};return c}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("AYMTGroupsDispatcher"))}),null);
__d("GroupsMallCardAYMTContainer.react",["AYMTClientSideChannelNames","AYMTGroupsDispatcher","AYMTGroupsMallCardFluxStore","AYMTTipActionTypes","FluxContainer","React","immutable"],(function(a,b,c,d,e,f){var g=b("React");b("immutable").List;b("immutable").Map;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("AYMTGroupsMallCardFluxStore")]};c.calculateState=function(){var a=b("AYMTGroupsMallCardFluxStore").getState();a=a.tips;return{tips:a}};var d=c.prototype;d.componentDidMount=function(){var a={};a.group_id=this.props.groupID;b("AYMTGroupsDispatcher").dispatch({data:a,type:b("AYMTTipActionTypes").TIPS_REQUESTED,channelName:this.$1()})};d.$1=function(){return b("AYMTClientSideChannelNames").AYMT_WWW_GROUPS_MALL_CARD_CHANNEL};d.render=function(){var a=this.state.tips;if(!a||a.count()==0)return null;a=a.get(0);var b=a.get("client_side_rendering_class");if(!b)return null;var c=a.get("actions").primary,d=a.get("actions").secondary;return g.jsx(b,{aymtData:a.get("aymt_data"),title:a.get("tip_title"),body:a.get("tip_body"),image:a.get("tip_image_uri"),imageElement:a.get("tip_image"),bulletRows:a.get("bullet_rows"),primaryActionLink:c.tip_link,primaryActionLabel:c.tip_action_label,primaryJSAction:c.tip_js_action,isPrimaryActionAsync:c.tip_is_async,secondaryActionLink:d.tip_link,secondaryActionLabel:d.tip_action_label,secondaryJSAction:d.tip_js_action,isSecondaryActionAsync:d.tip_is_async})};return c}(g.Component);e.exports=b("FluxContainer").create(a)}),null);
__d("GroupsMallCardAYMTTopLevelContainer.react",["GroupsMallCardAYMTContainer.react","React"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("GroupsMallCardAYMTContainer.react"),babelHelpers["extends"]({},this.props))};return c}(g.PureComponent);e.exports=a}),null);
__d("GroupsRoomPromotionUnitPrimaryCTA.react",["ActorURI","AsyncRequest","React","ShimButton.react","VideoChatLogging","XReactComposerGroupNewVideoMeetupControllerRouteBuilder"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("VideoChatLogging").useVideoChatLogging;function a(a){var c=a.actorID,d=a.groupID;a=a.primaryCtaLabel;var e=h(),f=e.logPromotionUnitTap,i=e.useVideoChatImpressionLogging;e=e.logPromotionUnitImpression;i=i({room_container_id:d,source:"room_promotion_unit",surface:"group"},e);e=function(){var a=b("XReactComposerGroupNewVideoMeetupControllerRouteBuilder").buildURL({group_id:d});a=b("ActorURI").create(a,c);new(b("AsyncRequest"))(a).send();f({button_type:"create_room",source:"room_promotion_unit",surface:"group"})};return g.jsx("span",{ref:i,children:g.jsx(b("ShimButton.react"),{onClick:e,children:a})})}e.exports=a}),null);
__d("WorkTopicTagSuggestionPostTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:WorkTopicTagSuggestionPostLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:WorkTopicTagSuggestionPostLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:WorkTopicTagSuggestionPostLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setGroupID=function(a){this.$1.group_id=a;return this};c.setNumAllSuggestionsDuringCreation=function(a){this.$1.num_all_suggestions_during_creation=a;return this};c.setNumSuggestionsAtPostTime=function(a){this.$1.num_suggestions_at_post_time=a;return this};c.setNumTags=function(a){this.$1.num_tags=a;return this};c.setNumTagsFromSuggestions=function(a){this.$1.num_tags_from_suggestions=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={group_id:!0,num_all_suggestions_during_creation:!0,num_suggestions_at_post_time:!0,num_tags:!0,num_tags_from_suggestions:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("WorkTopicTagSuggestionUsageTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:WorkTopicTagSuggestionUsageLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:WorkTopicTagSuggestionUsageLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:WorkTopicTagSuggestionUsageLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setGroupID=function(a){this.$1.group_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={event:!0,group_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("XNotesUserEmbedsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notes/composer/embeds/",{original_src:{type:"String",required:!0}})}),null);
__d("NotesEmbed.react",["cx","fbt","ActorURI","AsyncRequest","CurrentUser","Keys","React","XNotesUserEmbedsController","XUIButton.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIText.react","XUITextInput.react","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={error:null,loading:!1,src:""},d.$1=function(){d.refs.src.focusInput()},d.$2=function(){if(d.state.loading)return;if(d.state.src.trim()===""){d.setState({error:"Please enter a URL."},d.$1);return}var a=function(){var a=b("XNotesUserEmbedsController").getURIBuilder().setString("original_src",d.state.src).getURI();a=b("ActorURI").create(a,d.props.ownerID);new(b("AsyncRequest"))(a).setHandler(function(a){a=a.getPayload();a=a.embedData;d.props.onEmbed(a);d.props.onClose()}).setErrorHandler(function(a){a=a.errorDescription;d.setState({error:a,loading:!1},d.$1)}).send()};d.setState({loading:!0},a)},d.$3=function(a){d.setState({error:null,src:a.target.value})},d.$4=function(a){switch(a.which){case b("Keys").RETURN:a.preventDefault(),d.$2()}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){setTimeout(this.$1,0)};d.render=function(){var a=h._("Paste in the URL for the media you want to insert in your note...");return i.jsxs("div",{children:[i.jsx(b("XUIDialogTitle.react"),{children:h._("Embed photos, videos and more")}),i.jsxs(b("XUIDialogBody.react"),{children:[i.jsx(b("XUITextInput.react"),{className:"_ipd",onChange:this.$3,onKeyDown:this.$4,placeholder:a,ref:"src",xuiError:this.state.error}),i.jsx(b("XUIText.react"),{className:"_ipe",display:"block",children:b("CurrentUser").isWorkUser()?h._("We currently support embedding from Facebook, Workplace, Giphy, Instagram, SoundCloud, Twitter, Vimeo, Vine and YouTube."):h._("We currently support embedding from Facebook, Giphy, Instagram, SoundCloud, Twitter, Vimeo, Vine and YouTube.")})]}),i.jsx(b("XUIDialogFooter.react"),{children:i.jsx(b("XUIButton.react"),{disabled:this.state.loading,label:h._("Insert"),onClick:this.$2,use:"confirm"})})]})};return c}(i.Component);a.propTypes={onClose:b("prop-types").func.isRequired,onEmbed:b("prop-types").func.isRequired,ownerID:b("prop-types").string.isRequired};e.exports=a}),null);
__d("NotesEmbedDialog",["DialogX","NotesEmbed.react","React","emptyFunction"],(function(a,b,c,d,e,f){var g=b("React");a=function(){"use strict";function a(a){var c=this;this.$2=a.onEmbed;this.$3=a.onEmbedCancel||b("emptyFunction");this.$4=a.ownerID;this.$1=new(b("DialogX"))({width:500},g.jsx(b("NotesEmbed.react"),{onClose:function(){return c.hide()},onEmbed:this.$2,ownerID:this.$4}));this.$1.subscribe("cancel",function(){return c.$3()})}var c=a.prototype;c.hide=function(){this.$1.hide()};c.show=function(){this.$1.show()};return a}();e.exports=a}),null);
__d("XNotesUserPhotosController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notes/composer/photos/",{thumb_height:{type:"Int",required:!0},thumb_width:{type:"Int",required:!0}})}),null);
__d("NotesPhotoPicker.react",["ix","cx","fbt","glyph","ActorURI","AsyncRequest","CssBackgroundImage.react","FileInput.react","Grid.react","Image.react","React","ScrollableArea.react","XNotesUserPhotosController","XUIButton.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react","getObjectValues","prop-types"],(function(a,b,c,d,e,f,g,h,i,j){var k=b("React"),l=b("Grid.react").GridItem,m=338,n=116,o=149;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={photoData:null},d.renderThumbnailGrid=function(){if(!d.state.photoData)return k.jsx("div",{className:"_5tki",style:{height:m+"px"},children:k.jsx(b("XUISpinner.react"),{className:"_5tkj",size:"large"})});var a=b("getObjectValues")(d.state.photoData).map(function(a){var c=function(){d.props.onPhotoPicked(a),d.props.onClose()};return k.jsx(l,{onClick:c,children:k.jsx("div",{className:"_5tkk",children:k.jsx(b("CssBackgroundImage.react"),{imageURI:a.thumbnailSrc,className:"_5tkl",height:n+"px",width:o+"px"})})},"thumbnail_"+a.originalPhotoData.id)});return k.jsx(b("Grid.react"),{cols:4,spacing:"_2phz",children:a})},d.onFileInputChange=function(a){d.props.onPhotoUpload(a.target),d.props.onClose()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this,c=b("XNotesUserPhotosController").getURIBuilder().setInt("thumb_height",n).setInt("thumb_width",o).getURI();c=b("ActorURI").create(c,this.props.ownerID);new(b("AsyncRequest"))(c).setHandler(function(b){b=b.payload.photoData;b&&a.setState({photoData:b})}).send()};d.render=function(){var a=i._("Add photo to note");this.props.isDoc?a=i._("Add photo to doc"):this.props.isPageStory&&(a=i._("Add photo to story"));return k.jsxs("div",{children:[k.jsx(b("XUIDialogTitle.react"),{children:a}),k.jsx(b("XUIDialogBody.react"),{className:"_5tkf",children:k.jsx(b("ScrollableArea.react"),{height:m,shadow:!1,children:this.renderThumbnailGrid()})}),k.jsxs(b("XUIDialogFooter.react"),{children:[k.jsx(b("FileInput.react"),{name:"file",onChange:this.onFileInputChange,accept:"image/*",children:k.jsx(b("XUIButton.react"),{image:k.jsx(b("Image.react"),{src:g("101456")}),href:{url:"#"},label:i._("Upload New Photo")})}),k.jsx(b("XUIButton.react"),{className:"_5tkg layerCancel",label:i._("Close"),use:"confirm"})]})]})};return c}(k.Component);a.propTypes={onClose:(c=b("prop-types")).func.isRequired,onPhotoPicked:c.func.isRequired,onPhotoUpload:c.func.isRequired,isDoc:c.bool,isPageStory:c.bool};e.exports=a}),null);
__d("NotesPhotoPickerDialog",["invariant","DialogX","NotesPhotoPicker.react","React","emptyFunction"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(){"use strict";function a(a){this.$1=null,this.$2=a.onPhotoPicked,this.$3=a.onPhotoUpload,this.$4=a.onPhotoCancel||b("emptyFunction"),this.$5=a.ownerID,this.$6=a.isDoc,this.$7=a.isPageStory,this.$6&&this.$7&&g(0,5153)}var c=a.prototype;c.hide=function(){this.$1&&this.$1.hide()};c.show=function(){var a=this;this.$1||(this.$1=new(b("DialogX"))({width:690},h.jsx(b("NotesPhotoPicker.react"),{onClose:function(){return a.hide()},onPhotoPicked:this.$2,onPhotoUpload:this.$3,ownerID:this.$5,isDoc:this.$6,isPageStory:this.$7})),this.$1.subscribe("cancel",function(){return a.$4()}));this.$1.show()};return a}();e.exports=a}),null);
__d("XNotesUserVideosController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notes/composer/videos/",{is_from_cover:{type:"Bool",defaultValue:!1}})}),null);
__d("NotesVideoPicker.react",["cx","fbt","ActorURI","AsyncRequest","Grid.react","React","ScrollableArea.react","XNotesUserVideosController","XUIDialogBody.react","XUIDialogTitle.react","XUISpinner.react","cssURL","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=b("Grid.react").GridItem,k=400;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={videoData:null},d.renderThumbnailGrid=function(){if(!d.state.videoData)return i.jsx("div",{className:"_29vm",children:i.jsx(b("XUISpinner.react"),{className:"_29vo",size:"large"})});var a=Object.keys(d.state.videoData).map(function(a,c){var e=d.state.videoData[a];c=function(){d.props.onVideoPicked(e),d.props.onClose()};return i.jsxs(j,{onClick:c,children:[i.jsx("div",{className:"_29vp",children:i.jsx("div",{className:"_29vq",style:{backgroundImage:b("cssURL")(e.posterSrc)}})}),i.jsx("div",{className:"_29vr",children:e.title})]},"thumbnail_"+e.id)});return i.jsx(b("Grid.react"),{cols:2,spacing:"_2phz",children:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this,c=b("XNotesUserVideosController").getURIBuilder().getURI();c=b("ActorURI").create(c,this.props.ownerID);new(b("AsyncRequest"))(c).setHandler(function(b){b=b.getPayload().videoData;b&&a.setState({videoData:b})}).send()};d.render=function(){return i.jsxs("div",{children:[i.jsx(b("XUIDialogTitle.react"),{children:h._("Add video")}),i.jsx(b("XUIDialogBody.react"),{className:"_29vl",children:i.jsx(b("ScrollableArea.react"),{height:k,shadow:!1,children:this.renderThumbnailGrid()})})]})};return c}(i.Component);a.propTypes={onClose:b("prop-types").func.isRequired,onVideoPicked:b("prop-types").func.isRequired};e.exports=a}),null);
__d("NotesVideoPickerDialog",["DialogX","NotesVideoPicker.react","React","emptyFunction"],(function(a,b,c,d,e,f){var g=b("React");a=function(){"use strict";function a(a){this.$1=null,this.$2=a.onVideoPicked,this.$3=a.onVideoCancel||b("emptyFunction"),this.$4=a.ownerID}var c=a.prototype;c.hide=function(){this.$1&&this.$1.hide()};c.show=function(){var a=this;this.$1||(this.$1=new(b("DialogX"))({width:690},g.jsx(b("NotesVideoPicker.react"),{onClose:function(){return a.hide()},onVideoPicked:this.$2,ownerID:this.$4})),this.$1.subscribe("cancel",function(){return a.$3()}));this.$1.show()};return a}();e.exports=a}),null);
__d("ReactComposerLivingRoomSproutInitializer",["LivingRoomComposerLogger","LivingRoomComposerStoreInitializer","LivingRoomHostFunnelLogger","ReactComposerAttachmentActions","ReactComposerFocusActions","ReactComposerStore","guid","uniqueID"],(function(a,b,c,d,e,f){"use strict";a={initializeUnselectedSprout:function(a,c,d,e,f,g){var h=b("guid")();b("LivingRoomComposerStoreInitializer").initializeLivingRoomComposerStore(a,c,d,e,f,g,h);f=null;g="LIVING_ROOM";e==="group"?f=c:e==="page"&&(g="LIVING_ROOM_PAGE",b("ReactComposerFocusActions").notifyFocusAcquired(a));b("LivingRoomComposerLogger").init(h,e,c,f,d);b("LivingRoomComposerLogger").get().setLivingRoomAction("click_sprout").log();b("LivingRoomHostFunnelLogger").startFunnel("click_sprout",b("uniqueID")(),a,e,d);b("ReactComposerAttachmentActions").selectAttachment(a,"LIVING_ROOM",!0,g,b("ReactComposerStore").getSproutSurface(a))}};e.exports=a}),null);
__d("ReactComposerPageLivingRoomSproutNux.react",["fbt","PagesNuxDispatcher","PagesNuxFrameworkHelper","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shown:!1},d.$1=function(){d.setState({shown:!1}),b("PagesNuxDispatcher").dispatch({type:"nux_framework.xout",config:{surface:"page_composer",nuxID:6468}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("PagesNuxFrameworkHelper").registerNux(6468,"page_composer",function(){return a.setState({shown:!0})});b("PagesNuxFrameworkHelper").showNuxAferComponentLoading("page_composer")};d.render=function(){return!this.props.contextRef||!this.props.contextRef()?null:h.jsx(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,shown:this.state.shown,onCloseButtonClick:this.$1,children:g._("New! Bring your audience together around your videos")})};return c}(h.PureComponent);e.exports=a}),null);
__d("ReactComposerMediaAttachmentSelector.react",["fbt","ix","React","ReactComposerAttachmentSelectorContainer.react","ReactComposerAttachmentType","ReactComposerLoggingName"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsx(b("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:b("ReactComposerAttachmentType").MEDIA,label:this.props.label,icon:this.props.hideIcon?null:h("40533"),"data-testid":void 0,loggingName:b("ReactComposerLoggingName").MEDIA_TAB_SELECTOR,tabIndex:this.props.isInMoreButton?"-1":void 0})};return c}(i.PureComponent);a.defaultProps={hideIcon:!1,label:g._("Photo\/Video")};e.exports=a}),null);
__d("ReactComposerQuestionAttachmentSelector.react",["ix","fbt","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentSelectorContainer.react","ReactComposerAttachmentType","ReactComposerLoggingName","asset","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerQuestionAttachmentSelector",mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{isInMoreButton:b("prop-types").bool,label:b("prop-types").string},getDefaultProps:function(){return{label:h._("Create Poll")}},render:function(){return i.jsx(b("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:b("ReactComposerAttachmentType").QUESTION,label:this.props.label,icon:g("392825"),loggingName:b("ReactComposerLoggingName").QUESTION_TAB_SELECTOR,"data-testid":void 0,tabIndex:this.props.isInMoreButton?"-1":void 0})}});e.exports=a}),null);
__d("ReactComposerQuestionLazyAttachment.react",["invariant","ActorURI","ReactComposerAttachmentType","ReactComposerBootloaderPropTypes","ReactComposerLoadableAttachmentBodyMixin","XReactComposerQuestionAttachmentBootstrapController","createReactClass_DEPRECATED"],(function(a,b,c,d,e,f,g){a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerQuestionLazyAttachment",mixins:[b("ReactComposerLoadableAttachmentBodyMixin")],statics:{attachmentID:b("ReactComposerAttachmentType").QUESTION},propTypes:{bootloader:b("ReactComposerBootloaderPropTypes").isRequired},bootload:function(a){this.props.bootloader.questionAttachment||g(0,769),this.props.bootloader.questionAttachment(a)},getBootstrapURI:function(){return b("ActorURI").create(b("XReactComposerQuestionAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setString("target_id",this.context.targetID).getURI(),this.context.actorID)}});e.exports=a}),null);
__d("ReactComposerStatusLazyAttachmentTextarea.react",["cx","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactDOM","createReactClass_DEPRECATED","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("createReactClass_DEPRECATED")({displayName:"ReactComposerStatusLazyAttachmentTextarea",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{"aria-label":(a=b("prop-types")).string,className:a.string,expanded:a.bool,onFocus:a.func.isRequired,placeholder:a.string.isRequired},getInitialState:function(){return{message:null}},componentWillUnmount:function(){this._onUnmount()},render:function(){return h.jsxs("div",{className:b("joinClasses")(this.props.className,"_4h96"),children:[h.jsx("textarea",{className:"_4h98 navigationFocus",ref:"textarea","aria-label":this.props["aria-label"],placeholder:this.props.placeholder,onFocus:this.props.onFocus,onChange:this.onChange,name:"xhpc_message_text","data-testid":void 0}),h.jsx("input",{type:"hidden",name:"xhpc_message",value:this.state.message})]})},onChange:function(a){if(!(a.target instanceof HTMLTextAreaElement))return;this.setState({message:a.target.value})},focus:function(){this.refs.textarea.focus()},_onUnmount:function(){var a=this,c=b("ReactDOM").findDOMNode(this.refs.textarea);d(["ReactComposerStatusActions","ReactComposerPrefillMentionsInput","ReactInputSelection"],function(b,d,e){var f=c.value;if(!f)return;f={text:f};e=e.getSelection(c);d=d.createEditorState(f,e);b.setEditorState(a.context.composerID,d)})}});e.exports=c}),null);
__d("ReactComposerStatusLazyAttachmentTextareaContainer.react",["cx","Arbiter","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerEvents","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerStatusLazyAttachmentTextarea.react","SubscriptionsHandler","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("createReactClass_DEPRECATED")({displayName:"ReactComposerStatusLazyAttachmentTextareaContainer",_subscriptions:void 0,contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerAttachmentStore"))],statics:{calculateState:function(a,c){return{focused:b("ReactComposerAttachmentStore").isSelectedAttachmentActive(a)}}},UNSAFE_componentWillMount:function(){var a=this;this._subscriptions=new(b("SubscriptionsHandler"))();this._subscriptions.addSubscriptions(b("Arbiter").subscribe(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID,function(){var c=b("ReactComposerAttachmentStore").getSelectedAttachmentID(a.context.composerID);c===b("ReactComposerAttachmentType").STATUS&&a.refs.textarea.focus()}))},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release()},propTypes:{expanded:(a=b("prop-types")).bool,id:a.string,hasProfilePic:a.bool,onFocus:a.func.isRequired,placeholder:a.node.isRequired},render:function(){return h.jsx(b("ReactComposerStatusLazyAttachmentTextarea.react"),babelHelpers["extends"]({className:(this.state.focused?"_3_1x":"")+(this.props.expanded?" _4h97":"")+(this.props.hasProfilePic?" _30z":"")},this.props,{ref:"textarea"}))}});e.exports=c}),null);
__d("ReactComposerStatusPlaceholderFooter.react",["cx","fbt","DOMContainer.react","React","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerGenericFooter.react","ReactComposerPostButtonContainer.react","requireWeak"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j;b("requireWeak")("ReactComposerAudienceSelectorContainer.react",function(a){j=a});var k=h._("Submit for Review");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props.config,d=c.attachmentsConfig[b("ReactComposerAttachmentType").STATUS];d=d.footerBackground?d.footerBackground:c.showExpandedComposer?"white":"light-wash";a=i.jsx(b("ReactComposerPostButtonContainer.react"),{label:((a=c)!=null?(a=a.postButtonConfig)!=null?a.isScheduledPost:a:a)?h._("Schedule Post"):((a=c.actorConfig)==null?void 0:a.workSharedDraftMode)==="drafter_creating"?k:h._("Post"),forceDisabled:!0,config:c});var e=null;c.audienceXHP&&(e=j&&c.targetData?i.jsx(j,{audienceXHP:c.audienceXHP,viewerIsTarget:c.targetData.viewerIsTarget}):i.jsx(b("DOMContainer.react"),{className:"_5dd8",children:c.audienceXHP}));return i.jsx(b("ReactComposerGenericFooter.react"),{audienceSelector:e,postButton:a,background:d,config:c})};return c}(i.PureComponent);a.propTypes={config:b("ReactComposerConfig").isRequired};e.exports={ReactComposerStatusPlaceholderFooter:a,WORK_DRAFTER_CREATING_MODE_POST_BUTTON_LABEL:k}}),null);
__d("ReactComposerStatusAttachmentPlaceholder.react",["requireCond","ActorURI","Bootloader","Event","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerContextTypes","ReactComposerDragDropPromptLazy.react","ReactComposerLazyProfilePhotoBlock.react","ReactComposerLoggingName","ReactComposerPostUtilsCore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerStatusLazyAttachmentTextareaContainer.react","ReactComposerStatusPlaceholderFooter.react","ReactComposerStore","ReactComposerTaggerSummaryPlaceholder.react","ReactComposerWorkFileStore","ReactDOM","SubscriptionsHandler","cr:893589","createReactClass_DEPRECATED","curry","prop-types"],(function(a,b,c,d,e,f){var g=b("React"),h=b("ReactComposerStatusPlaceholderFooter.react").ReactComposerStatusPlaceholderFooter,i=b("ReactComposerWorkFileStore").module;a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerStatusAttachmentPlaceholder",_subscriptionsHandler:null,contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerAttachmentStore"),b("ReactComposerStore"))],propTypes:{config:b("ReactComposerConfig").isRequired,expanded:b("prop-types").bool,placeholder:b("prop-types").string.isRequired},statics:{calculateState:function(a,c){return{isActive:b("ReactComposerAttachmentStore").isSelectedAttachmentActive(a),sproutsDisplayState:b("ReactComposerStore").getSproutsDisplayState(a)}}},componentDidMount:function(){var a=new(b("SubscriptionsHandler"))();a.addSubscriptions(b("Event").listen(b("ReactDOM").findDOMNode(this.refs.form),"success",b("curry")(b("ReactComposerPostUtilsCore").handlePostSucceeded,this.context.composerID)));this._subscriptionsHandler=a},componentWillUnmount:function(){this._subscriptionsHandler&&this._subscriptionsHandler.release()},render:function(){var a=this.context.gks&&this.context.gks.isSproutsComposer,c=this._renderTextArea(),d=a?this._renderSproutsList():null;a=this.state.isActive||this.props.expanded||a?g.jsx(h,{config:this.props.config,composerType:this.context.composerType}):null;var e=this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS],f=null;if(e.audienceIndicator){var i=e.footerBackground?e.footerBackground:this.props.config.showExpandedComposer?"white":"light-wash";e=e.audienceIndicator.module;f=g.jsx(e,{background:i,config:this.props.config})}return g.jsxs("div",{children:[g.jsx(b("ReactComposerDragDropPromptLazy.react"),{root:this,config:this.props.config,onFilesDrop:this._onFilesDrop,onMediaDrop:this._onMediaDrop,onURLDrop:this._onURLDrop}),g.jsxs("form",{action:b("ActorURI").create("/ajax/updatestatus.php",this.context.actorID),method:"post",rel:"async",ref:"form",children:[c,g.jsx(b("ReactComposerTaggerSummaryPlaceholder.react"),{}),d,f,a,this._getHiddenInputs()]})]})},_renderTextArea:function(){var a=this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS],c=g.jsx(b("ReactComposerStatusLazyAttachmentTextareaContainer.react"),{expanded:this.props.expanded,hasProfilePic:a.showProfilePic,onFocus:this._onFocus,placeholder:this.props.placeholder});if(a.showProfilePic){return g.jsx(b("ReactComposerLazyProfilePhotoBlock.react"),{config:this.props.config,profilePicSrc:a.profilePicSrc,profileURI:a.profileURI,profileDialogURI:a.profileDialogURI,useVoiceSwitcher:!!((a=this.context)!=null?(a=a.gks)!=null?a.showProfileVoiceSwitcher:a:a),children:c})}else return c},_renderSproutsList:function(){var a=this.context.jsModules&&this.context.jsModules.ComposerSproutsListContainer;return g.jsx(a,{config:this.props.config})},_onFocus:function(){b("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,b("ReactComposerAttachmentType").STATUS,!0,b("ReactComposerLoggingName").INLINE_COMPOSER)},_onFilesDrop:function(a){var c=this;if(b("cr:893589")){var d;if(((d=this.props.config.sproutsConfig)==null?void 0:(d=d.WORK_FILE)==null?void 0:d.enabled)&&b("cr:893589").areValidFiles(this.context.composerID,a,(d=(d=this.props.config)==null?void 0:(d=d.taggersConfig)==null?void 0:(d=d.WORK_FILE)==null?void 0:d.maxFileSize)!=null?d:1e8)){b("cr:893589").onComposerFilesSelected(this.context.composerID,a,this.context.actorID,(d=this.props.config.actorConfig)==null?void 0:d.workSharedDraftMode)}return}b("Bootloader").loadModules(["ReactComposerFileUtils","ReactComposerFileStore","ReactComposerStatusUtils"],function(b,d,e){var f=c.context.composerID;d=b.selectFileOrWorkFileModule(d,i).getMaxFileUploadSize(f);if(b.hasExceededFileSize(a[0],d))return;e.loadDroppedFile(f,a[0],c.context)},"ReactComposerStatusAttachmentPlaceholder.react")},_onMediaDrop:function(a){var c=this,d=this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").MEDIA];b("Bootloader").loadModules(["ReactComposerStatusUtils","ReactComposerPhotoUploader"],function(e,f){var g=c.context.composerID;e.uploadDroppedMedia(g,a,new f(c.context,d.photoLimit,{disableFaceRecognition:d.disableFaceboxTagger}),c.props.config.targetData.targetSupportsMultiMedia,c.props.config.attachmentsConfig[b("ReactComposerAttachmentType").MEDIA],c.context)},"ReactComposerStatusAttachmentPlaceholder.react")},_onURLDrop:function(a){var c=this;b("Bootloader").loadModules(["ReactComposerScrapedAttachmentActions","ReactComposerStatusUtils"],function(d,e){var f=c.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS];b("ReactComposerAttachmentActions").selectAttachment(c.context.composerID,b("ReactComposerAttachmentType").STATUS,!0,b("ReactComposerLoggingName").LINK_DROPPED);d.enabled(c.context.composerID,f.canScrapeShare);e.scrapeLink(c.context.composerID,c.context.targetID,a,c.context.composerType,c.context.actorID)},"ReactComposerStatusAttachmentPlaceholder.react")},_getHiddenInputs:function(){var a=b("ReactComposerPostUtilsCore").getCoreData(this.context.composerID,this.props.config.contextInfo,this.context.targetID),c=[];for(var d in a)c.push(g.jsx("input",{type:"hidden",name:d,value:a[d]},d));return c}});e.exports=a}),null);
__d("XReactComposerStatusAttachmentBootstrapController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/status/bootstrap/",{composer_id:{type:"String",required:!0},composer_type:{type:"Enum",required:!0,enumType:1},target_id:{type:"String",required:!0},work_shared_draft_mode:{type:"Enum",enumType:1}})}),null);
__d("ReactComposerStatusLazyAttachment.react",["fbt","ActorURI","Arbiter","Bootloader","BusinessURI.brands","ReactComposerAttachmentType","ReactComposerBootloaderPropTypes","ReactComposerLoadableAttachmentBodyMixin","ReactComposerStatusAttachmentPlaceholder.react","XReactComposerStatusAttachmentBootstrapController","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g){c=b("createReactClass_DEPRECATED")({displayName:"ReactComposerStatusLazyAttachment",_useCustomPlaceholder:!0,mixins:[b("ReactComposerLoadableAttachmentBodyMixin")],propTypes:{additionalTaggers:(a=b("prop-types")).arrayOf(a.shape({button:a.element.isRequired,container:a.element.isRequired})),additionalFooterActions:a.arrayOf(a.element),bootloader:b("ReactComposerBootloaderPropTypes"),config:a.object.isRequired,expanded:a.bool,onPostIntent:a.func,placeholder:a.string.isRequired},getDefaultProps:function(){return{placeholder:g._("What's on your mind?")}},statics:{attachmentID:b("ReactComposerAttachmentType").STATUS,initOnlyWhenComposerActive:!0},getInitialState:function(){return{expanded:!1}},componentDidMount:function(){b("Arbiter").inform("ReactComposerStatusLazyAttachment/mounted",this.context.composerID,"state")},UNSAFE_componentWillUpdate:function(a,b){b.isSelected||(this._useCustomPlaceholder=!1)},getPlaceholderModule:function(){if(!this._useCustomPlaceholder)return null;if(this._placeholder)return this._placeholder;this._placeholder=b("ReactComposerStatusAttachmentPlaceholder.react");return this._placeholder},bootload:function(a){this.props.bootloader?this.props.bootloader.statusAttachment(a):b("Bootloader").loadModules(["ReactComposerStatusAttachmentContainer.react"],a,"ReactComposerStatusLazyAttachment.react")},getBootstrapURI:function(){var a;return b("BusinessURI.brands")(b("ActorURI").create(b("XReactComposerStatusAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setString("target_id",this.context.targetID).setEnum("work_shared_draft_mode",(a=this.props.config)==null?void 0:(a=a.actorConfig)==null?void 0:a.workSharedDraftMode).getURI(),this.context.actorID))}});e.exports=c}),null);
__d("GroupPostTagTypeaheadViewItem.react",["Image.react","ImageBlock.react","React","TextWithEmoticons.react","joinClasses","stylex"],(function(a,b,c,d,e,f){var g,h=b("React");(g||(g=b("stylex"))).inject(".lq84ybu9{overflow-x:hidden}",1);g.inject(".hf30pyar{overflow-y:hidden}",1);g.inject(".oshhggmv{text-overflow:ellipsis}",1);g.inject(".qm54mken{white-space:nowrap}",1);g.inject(".qprln8fm{color:var(--fds-secondary-text)}",1);g.inject(".zm6zxeuj{color:var(--fds-placeholder-text)}",1);g.inject(".h7q9eq3y{height:32px}",1);g.inject(".mx6bq00g{width:24px}",1);g.inject(".alzwoclg{display:flex}",1);g.inject(".i85zmo3j{align-items:center}",1);g.inject(".d905v7i8{background-color:var(--fds-comment-background)}",1);g.inject(".n3hqoq4p{border-top:0}",.3);g.inject(".r86q59rh{border-right:0}",.3,".r86q59rh{border-left:0}");g.inject(".b3qcqh3k{border-bottom:0}",.3);g.inject(".fq87ekyn{border-left:0}",.3,".fq87ekyn{border-right:0}");g.inject(".f5m7p0br{border-top:none}",.3);g.inject(".iwso50tu{border-right:none}",.3,".iwso50tu{border-left:none}");g.inject(".ggolc4ur{border-bottom:none}",.3);g.inject(".js4msrqk{border-left:none}",.3,".js4msrqk{border-right:none}");g.inject(".fsf7x5fv{cursor:pointer}",1);g.inject(".glosn74e{font-size:0.75rem}",1);g.inject(".f9xcifuu{padding-top:6px}",1);g.inject(".bmgto6uh{padding-bottom:6px}",1);g.inject(".e4ay1f3w{padding-left:12px}",1,".e4ay1f3w{padding-right:12px}");g.inject(".aesu6q9g{padding-right:12px}",1,".aesu6q9g{padding-left:12px}");g.inject(".th51lws0{margin-top:8px}",1);function a(a){var c=a.entry,d=a.highlighted,e=a.onHighlight,f=a.onSelect,i=c.getPhoto()?h.jsx("div",{className:"i85zmo3j alzwoclg mx6bq00g h7q9eq3y",children:h.jsx(b("Image.react"),{src:c.getPhoto()})}):h.jsx("span",{}),j=b("joinClasses")((g||(g=b("stylex"))).dedupe({"border-top-0.3":"f5m7p0br","border-end-0.3":"iwso50tu","border-bottom-0.3":"ggolc4ur","border-start-0.3":"js4msrqk","cursor-1":"fsf7x5fv","font-size-1":"glosn74e","padding-top-1":"f9xcifuu","padding-bottom-1":"bmgto6uh","padding-start-1":"e4ay1f3w","padding-end-1":"aesu6q9g"},d===!0?{"background-color-1":"d905v7i8","border-top-0.3":"n3hqoq4p","border-end-0.3":"r86q59rh","border-bottom-0.3":"b3qcqh3k","border-start-0.3":"fq87ekyn"}:null),a.className);return h.jsx("li",{"aria-selected":d,className:j,onMouseDown:function(a){f(c,a)},onMouseEnter:function(a){e&&e(c,a)},role:a.role,"data-testid":void 0,children:h.jsxs(b("ImageBlock.react"),{spacing:"medium",children:[i,h.jsxs("div",{"data-testid":void 0,children:[h.jsx("div",{className:"qm54mken oshhggmv hf30pyar lq84ybu9 qprln8fm"+(c.getSubtitle()?"":" th51lws0"),children:h.jsx(b("TextWithEmoticons.react"),{renderEmoticons:!1,renderEmoji:!0,text:c.getTitle()})}),h.jsx("div",{className:"qm54mken oshhggmv hf30pyar lq84ybu9 zm6zxeuj",children:c.getSubtitle()})]})]})})}e.exports=a}),null);
__d("GroupPostTagTypeaheadView.react",["cx","GroupPostTagTypeaheadViewItem.react","React","ScrollableArea.react","XUITypeaheadViewContainer.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=a===d.props.highlightedEntry;return h.jsx(b("GroupPostTagTypeaheadViewItem.react"),{entry:a,highlighted:c,onSelect:d.props.onSelect,onHighlight:d.props.onHighlight,onRenderHighlight:d.props.onRenderHighlight,backgroundSize:"containinside"},a.getUniqueID())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.entries.length?"":"_599s",c="_11z7";return this.props.entries.length===0?null:h.jsx(b("ScrollableArea.react"),{className:c,children:h.jsx(b("XUITypeaheadViewContainer.react"),{className:a,id:this.props.controlleeID,role:this.props.role,children:this.props.entries.map(this.$1)})})};return c}(h.Component);a.defaultProps={role:"listbox"};e.exports=a}),null);
__d("ReactComposerGroupPostTagsTaggerActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({USER_ADD_TAG:null,USER_REMOVE_TAG:null,SET_TAGGER_MOUNTED:null,SET_TARGET_ID:null,SET_CONFIG:null,SET_QUERY_STRING:null,SET_SHOW_STATE:null},"ReactComposerGroupPostTagsTaggerActionType")}),null);
__d("ReactComposerGroupPostTagsTaggerActions",["ReactComposerDispatcher","ReactComposerGroupPostTagsTaggerActionType"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){}var c=a.prototype;c.addTag=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,tag:c,type:b("ReactComposerGroupPostTagsTaggerActionType").USER_ADD_TAG})};c.removeTag=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,tag:c,type:b("ReactComposerGroupPostTagsTaggerActionType").USER_REMOVE_TAG})};c.setTaggerMounted=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,isMounted:c,type:b("ReactComposerGroupPostTagsTaggerActionType").SET_TAGGER_MOUNTED})};c.setTargetID=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,targetID:c,type:b("ReactComposerGroupPostTagsTaggerActionType").SET_TARGET_ID})};c.setQueryString=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,queryString:c,type:b("ReactComposerGroupPostTagsTaggerActionType").SET_QUERY_STRING})};c.setShowState=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,show:c,type:b("ReactComposerGroupPostTagsTaggerActionType").SET_SHOW_STATE})};c.setConfig=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,config:c,type:b("ReactComposerGroupPostTagsTaggerActionType").SET_CONFIG})};return a}();e.exports=new a()}),null);
__d("ReactComposerGroupPostTagsTaggerComponent.react",["ix","cx","FlexLayout.react","GroupPostTagTypeaheadView.react","GroupsPostTagContentStrings","Image.react","React","ReactComposerGroupPostTagsTaggerSearchSource","Tooltip.react","XUITokenizer.react","XUITokenizerToken.react","asset","clearTimeout","setTimeout","stylex"],(function(a,b,c,d,e,f,g,h){var i,j=b("React");a=b("React");c=a.Component;var k=50,l="NEW_TAG_UNIQUE_ID",m=550;(i||(i=b("stylex"))).inject(".b6hhzt2d{color:var(--fds-primary-text)}",1);i.inject(".jbg88c62{margin-left:8px}",1,".jbg88c62{margin-right:8px}");i.inject(".i5oewl5a{padding-right:6px}",1,".i5oewl5a{padding-left:6px}");i.inject(".f1iqohp5{padding-left:2px}",1,".f1iqohp5{padding-right:2px}");i.inject(".fwlpnqze{padding-left:8px}",1,".fwlpnqze{padding-right:8px}");i.inject(".lq84ybu9{overflow-x:hidden}",1);i.inject(".hf30pyar{overflow-y:hidden}",1);i.inject(".cgu29s5g{flex-grow:1}",1);i.inject(".d2hqwtrz{padding-top:4px}",1);i.inject(".oxkhqvkx{padding-right:0}",1,".oxkhqvkx{padding-left:0}");i.inject(".o9wcebwi{padding-bottom:4px}",1);i.inject(".nch0832m{padding-left:0}",1,".nch0832m{padding-right:0}");i.inject(".n3hqoq4p{border-top:0}",.3);i.inject(".r86q59rh{border-right:0}",.3,".r86q59rh{border-left:0}");i.inject(".b3qcqh3k{border-bottom:0}",.3);i.inject(".fq87ekyn{border-left:0}",.3,".fq87ekyn{border-right:0}");var n=5,o=1;d=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$5=function(a){d.$1=a};d.$3=b("ReactComposerGroupPostTagsTaggerSearchSource").get(d.props.groupID,!0);return d}var d=c.prototype;d.componentDidMount=function(){this.props.focusedOnInit&&this.$4()};d.$4=function(){var a=this;this.$2=b("setTimeout")(function(){a.$1&&a.$1.focusInput()},m)};d.componentWillUnmount=function(){b("clearTimeout")(this.$2)};d.render=function(){var a=this.props.passLaunchGK?o:n,c={maxEntries:k,ViewRenderer:b("GroupPostTagTypeaheadView.react"),TokenRenderer:b("XUITokenizerToken.react"),useLayer:!0,sortEntries:function(a){var b=function(a){return a.getUniqueID()===l};b=a.findIndex(b);if(b===-1)return a;var c=a.length;if(b===c-1)return a;c=a[b];var d=a.slice(0,b);a=a.slice(b+1);d=d.concat(a);d[d.length]=c;return d}},d=this.props.passLaunchGK?b("GroupsPostTagContentStrings").getChooseOnePostTagComposerAddTags():b("GroupsPostTagContentStrings").getPostTagComposerAddTags();return j.jsx("div",{children:j.jsxs(b("FlexLayout.react"),{direction:"horizontal",align:"center",className:"_4pn8"+(this.props.isDialogTagger?"":" _8cjw"),children:[j.jsx(b("Tooltip.react"),{tooltip:b("GroupsPostTagContentStrings").getPostTagComposerTooltip(),children:j.jsxs(b("FlexLayout.react"),{direction:"horizontal",align:"center",className:(i||(i=b("stylex"))).dedupe({"padding-end-1":"i5oewl5a","padding-start-1":"f1iqohp5"},this.props.isDialogTagger?{"padding-start-1":"fwlpnqze"}:null),children:[j.jsx(b("Image.react"),{src:g("671694")}),this.props.isDialogTagger?null:j.jsx("span",{className:"jbg88c62 b6hhzt2d",children:d})]})}),j.jsx("div",{ref:"tokenizer",className:"hf30pyar lq84ybu9",children:j.jsx(b("XUITokenizer.react"),{entries:this.props.entries,onAddEntryAttempt:this.props.onTagSelect,onRemoveEntryAttempt:this.props.onTagRemove,onQueryStringChange:this.props.onInputChange,focusAfterSelection:!0,placeholder:this.props.passLaunchGK?b("GroupsPostTagContentStrings").getChooseOnePostTagPlaceholder():b("GroupsPostTagContentStrings").getPostTagPlaceholder(),limit:a,searchSource:this.$3,alwaysShowPlaceholder:!1,showEntriesOnFocus:this.props.entries.length<a,selectOnTab:!1,presenter:c,ref:this.$5,focusedOnInit:this.props.focusedOnInit,className:"fq87ekyn b3qcqh3k r86q59rh n3hqoq4p nch0832m o9wcebwi oxkhqvkx d2hqwtrz cgu29s5g"})})]})})};return c}(c);d.defaultProps={focusedOnInit:!1,isDialogTagger:!1};e.exports=d}),null);
__d("ReactComposerGroupPostTagsTaggerStore",["invariant","ReactComposerGroupPostTagsTaggerActionType","ReactComposerStoreBase","immutable"],(function(a,b,c,d,e,f,g){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{tagsInfoList:b("immutable").List(),taggerEnabled:!1,targetID:null,show:!0}},function(a){if(!d)return;var c=d.validateAction(a,"composerID");if(!d.getIsTaggerEnabled(c)&&!d.$ReactComposerGroupPostTagsTaggerStore1(a))return;switch(a.type){case b("ReactComposerGroupPostTagsTaggerActionType").SET_TAGGER_MOUNTED:d.$ReactComposerGroupPostTagsTaggerStore2(a);break;case b("ReactComposerGroupPostTagsTaggerActionType").USER_ADD_TAG:d.$ReactComposerGroupPostTagsTaggerStore3(a);break;case b("ReactComposerGroupPostTagsTaggerActionType").USER_REMOVE_TAG:d.$ReactComposerGroupPostTagsTaggerStore4(a);break;case b("ReactComposerGroupPostTagsTaggerActionType").SET_TARGET_ID:d.$ReactComposerGroupPostTagsTaggerStore5(a);break;case b("ReactComposerGroupPostTagsTaggerActionType").SET_CONFIG:d.$ReactComposerGroupPostTagsTaggerStore6(a);break;case b("ReactComposerGroupPostTagsTaggerActionType").SET_QUERY_STRING:d.$ReactComposerGroupPostTagsTaggerStore7(a);break;case b("ReactComposerGroupPostTagsTaggerActionType").SET_SHOW_STATE:d.$ReactComposerGroupPostTagsTaggerStore8(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getPostTags=function(a){return this.getComposerData(a).tagsInfoList};d.getQueryString=function(a){return!a?null:this.getComposerData(a).queryString};d.getIsTaggerEnabled=function(a){return this.getComposerData(a).taggerEnabled};d.getPostTagIDs=function(a){a=this.getComposerData(a).tagsInfoList.map(function(a){return a.getUniqueID()});return a.toArray()};d.showTagger=function(a){return this.getComposerData(a).show};d.$ReactComposerGroupPostTagsTaggerStore1=function(a){return a.type===b("ReactComposerGroupPostTagsTaggerActionType").SET_TAGGER_MOUNTED};d.$ReactComposerGroupPostTagsTaggerStore2=function(a){a=this.validateAction(a,["composerID","isMounted"]);var b=a[0];a=a[1];b=this.getComposerData(b);b.taggerEnabled=a};d.$ReactComposerGroupPostTagsTaggerStore3=function(a){a=this.validateAction(a,["composerID","tag"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.tagsInfoList=c.tagsInfoList.push(a);this.emitChange(b)};d.$ReactComposerGroupPostTagsTaggerStore4=function(a){a=this.validateAction(a,["composerID","tag"]);var b=a[0],c=a[1];a=this.getComposerData(b);var d=a.tagsInfoList.findIndex(function(a){return a.getUniqueID()===c.getUniqueID()});d>=0||g(0,2460);a.tagsInfoList=a.tagsInfoList["delete"](d);this.emitChange(b)};d.$ReactComposerGroupPostTagsTaggerStore6=function(a){a=this.validateAction(a,["composerID","config"]);var b=a[0];a=a[1];var c=this.getComposerData(b);a.addEntry&&(c.tagsInfoList=c.tagsInfoList.push(a.addEntry));this.emitChange(b)};d.$ReactComposerGroupPostTagsTaggerStore5=function(a){a=this.validateAction(a,["composerID","targetID"]);var b=a[0];a=a[1];this.getComposerData(b).targetID=a;this.emitChange(b)};d.$ReactComposerGroupPostTagsTaggerStore7=function(a){a=this.validateAction(a,["composerID","queryString"]);var b=a[0];a=a[1];this.getComposerData(b).queryString=a;this.emitChange(b)};d.$ReactComposerGroupPostTagsTaggerStore8=function(a){a=this.validateAction(a,["composerID","show"]);var b=a[0];a=a[1];this.getComposerData(b).show=a;this.emitChange(b)};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("WorkTopicTagSuggestionsCarousel.react",["ix","cx","Image.react","React","XUIButton.react","XUICarousel.react","XUICarouselAnimator","XUICarouselArrow.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;if(this.props.suggestions.length===0)return null;var c=new(b("XUICarouselAnimator"))({type:"horizontal",centered:!1,firstAndLastAligned:!1}),d=i.jsx(b("XUICarouselArrow.react"),{className:"_25b6",children:i.jsx("div",{className:"_7_jt _7_ju",children:i.jsx(b("Image.react"),{src:g("764020")})})}),e=i.jsx(b("XUICarouselArrow.react"),{className:"_25b6",children:i.jsx("div",{className:"_7_jt _7_k4",children:i.jsx(b("Image.react"),{src:g("685811")})})});return i.jsx("div",{className:"_70ru _7mlp",children:i.jsx(b("XUICarousel.react"),{animator:c,arrows:[d,e],initialAutoplay:!1,moveStep:2,onItemClick:function(b){a.props.onSuggestionSelect(a.props.suggestions[b])},renderArrowsOutsideViewport:!1,showArrowsOnHoverOnly:!1,wrapAround:!1,children:this.props.suggestions.map(function(a){return i.jsx("div",{className:"_653d",children:i.jsx(b("XUIButton.react"),{className:"_7mkr",image:i.jsx(b("Image.react"),{src:g("772360")}),label:a.name,use:"default"})},a.name)})})})};return c}(i.Component);e.exports=a}),null);
__d("ReactWorkComposerGroupPostTagsSuggestions.react",["ix","cx","FlexLayout.react","GroupsPostTagContentStrings","Image.react","React","WorkTopicTagSuggestionsCarousel.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=3,k=32;function a(a){var c=a.suggestions.length>0&&a.entries.length<j;c=c?k:0;var d=null;a.isFetchingSuggestions?d=b("GroupsPostTagContentStrings").getPostTagFetchingSuggestionsPlaceholder():a.hasSelectedAllSuggestions?d=b("GroupsPostTagContentStrings").getPostTagNoMoreSuggestionsPlaceholder():d=b("GroupsPostTagContentStrings").getPostTagNoSuggestionsPlaceholder();return i.jsx("div",{className:"_7_k6",style:{maxHeight:c},children:i.jsxs(b("FlexLayout.react"),{className:"_4pn8 _7_k7",children:[i.jsx("div",{className:"_4pn9",children:i.jsxs(b("FlexLayout.react"),{children:[i.jsx(b("Image.react"),{className:"_62el",src:g("589659")}),b("GroupsPostTagContentStrings").getPostTagComposerSuggestedTags()]})}),i.jsx("div",{className:"_7_k8",children:a.suggestions.length>0?i.jsx(b("WorkTopicTagSuggestionsCarousel.react"),{suggestions:a.suggestions,onSuggestionSelect:a.onSuggestionSelect}):i.jsx("div",{className:"_7_k9",children:d})})]})})}e.exports=a}),null);
__d("ReactWorkComposerGroupPostTagsTagger.react",["ix","cx","FlexLayout.react","GroupPostTagTypeaheadView.react","GroupsPostTagContentStrings","Image.react","React","ReactComposerGroupPostTagsTaggerSearchSource","Tooltip.react","XUITokenizer.react","XUITokenizerToken.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=50,k=5,l="NEW_TAG_UNIQUE_ID";function a(a){var c=a.entries,d=a.onInputChange,e=a.onTagRemove,f=a.onTagSelect;a=a.groupID;var h={maxEntries:j,ViewRenderer:b("GroupPostTagTypeaheadView.react"),TokenRenderer:b("XUITokenizerToken.react"),useLayer:!0,sortEntries:function(a){var b=function(a){return a.getUniqueID()===l};b=a.findIndex(b);return b===-1||b===a.length-1?a:[].concat(a.slice(0,b),a.slice(b+1),[a[b]])}},m=c.length>0?b("GroupsPostTagContentStrings").getWorkPostTagSecondaryPlaceholder():b("GroupsPostTagContentStrings").getPostTagPlaceholder();return i.jsxs(b("FlexLayout.react"),{className:"_4pn8 _7_k5",children:[i.jsx(b("FlexLayout.react"),{children:i.jsxs("div",{className:"_4pn9",children:[c.length<k?i.jsx(b("Image.react"),{className:"_62el",src:g("603979")}):i.jsx(b("Tooltip.react"),{tooltip:b("GroupsPostTagContentStrings").getWorkPostTagComposerTooltip(k),children:i.jsx(b("Image.react"),{className:"_62el",src:g("501439")})}),c.length==0?b("GroupsPostTagContentStrings").getWorkPostTagComposerAddTags():b("GroupsPostTagContentStrings").getWorkPostTagComposerAddedTags()]})}),i.jsx("div",{className:"_81di",children:i.jsx(b("XUITokenizer.react"),{entries:c,onAddEntryAttempt:f,onRemoveEntryAttempt:e,onQueryStringChange:d,focusAfterSelection:!0,placeholder:c.length<k?m:void 0,searchSource:b("ReactComposerGroupPostTagsTaggerSearchSource").get(a,!0),limit:k,alwaysShowPlaceholder:!0,showEntriesOnFocus:c.length<k,selectOnTab:!1,presenter:h,focusedOnInit:!1,className:"_3s86"})})]})}e.exports=a}),null);
__d("WorkHashtagSuggestionsCarousel.react",["ix","cx","Image.react","React","XUICarousel.react","XUICarouselAnimator","XUICarouselArrow.react","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;if(this.props.suggestions.length===0)return null;var c=new(b("XUICarouselAnimator"))({type:"horizontal",centered:!1,firstAndLastAligned:!1}),d=i.jsx(b("XUICarouselArrow.react"),{className:"_25b6",children:i.jsx("div",{className:"_930y _930z",children:i.jsx(b("Image.react"),{src:g("764020")})})}),e=i.jsx(b("XUICarouselArrow.react"),{className:"_25b6",children:i.jsx("div",{className:"_930y _930-",children:i.jsx(b("Image.react"),{src:g("685811")})})});return i.jsx("div",{className:"_70ru _930_",children:i.jsx(b("XUICarousel.react"),{animator:c,arrows:[d,e],initialAutoplay:!1,moveStep:2,onItemClick:function(b){a.props.onSuggestionSelect(a.props.suggestions[b])},renderArrowsOutsideViewport:!1,showArrowsOnHoverOnly:!1,wrapAround:!1,children:this.props.suggestions.map(function(a){return i.jsx("div",{className:"_653d",children:i.jsx("div",{className:"_9310",children:i.jsx(b("XUIText.react"),{color:"highlight",size:"body2",display:"block",children:a.name})})},a.name)})})})};return c}(i.Component);e.exports=a}),null);
__d("ReactWorkComposerHashtagsSuggestions.react",["cx","fbt","FlexLayout.react","React","WorkHashtagSuggestionsCarousel.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=3,k=32;function a(a){var c=a.suggestions.length>0&&a.entries.length<j;c=c?k:0;return i.jsx("div",{className:"_934x",style:{maxHeight:c},children:i.jsxs(b("FlexLayout.react"),{children:[i.jsx("div",{className:"_934y",children:i.jsx(b("XUIText.react"),{color:"secondary",size:"body2",display:"block",children:h._("Insert a hashtag")})}),i.jsx("div",{className:"_934z",children:a.suggestions.length>0?i.jsx(b("WorkHashtagSuggestionsCarousel.react"),{suggestions:a.suggestions,onSuggestionSelect:a.onSuggestionSelect}):i.jsx("div",{className:"_934-",children:a.isFetchingSuggestions?h._("Finding suggested hashtags..."):a.hasSelectedAllSuggestions?h._("No more suggestions to show."):h._("No suggestions to show.")})})]})})}e.exports=a}),null);
__d("ReactWorkComposerGroupPostTagsTaggerComponent.react",["React","ReactWorkComposerGroupPostTagsSuggestions.react","ReactWorkComposerGroupPostTagsTagger.react","ReactWorkComposerHashtagsSuggestions.react","gkx"],(function(a,b,c,d,e,f){var g=b("React"),h=b("gkx")("1392676");function a(a){var c=a.hasSelectedAllSuggestions;c=c===void 0?!1:c;var d=a.isFetchingSuggestions;d=d===void 0?!1:d;var e=a.suggestions;e=e===void 0?[]:e;var f=a.showSuggestions;f=f===void 0?!0:f;var i=a.entries,j=a.onInputChange,k=a.onTagRemove,l=a.onTagSelect,m=a.onSuggestionSelect;a=a.groupID;return g.jsxs(g.Fragment,{children:[h?null:g.jsx(b("ReactWorkComposerGroupPostTagsTagger.react"),{entries:i,onTagRemove:k,onTagSelect:l,onInputChange:j,groupID:a}),f?h?g.jsx(b("ReactWorkComposerHashtagsSuggestions.react"),{entries:i,hasSelectedAllSuggestions:c,isFetchingSuggestions:d,suggestions:e,onSuggestionSelect:m,groupID:a}):g.jsx(b("ReactWorkComposerGroupPostTagsSuggestions.react"),{entries:i,hasSelectedAllSuggestions:c,isFetchingSuggestions:d,suggestions:e,onSuggestionSelect:m,groupID:a}):null]})}a.defaultProps={hasSelectedAllSuggestions:!1,isFetchingSuggestions:!1,suggestions:[],showSuggestions:!0};e.exports=a}),null);
__d("ReactWorkPostTopicTagsActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({TOPIC_TAGS_FETCHED:null,TOPIC_TAG_HIDE:null,TOPIC_TAG_UNHIDE:null,UPDATE_GROUP_ID:null},"ReactWorkPostTopicTagsActionType")}),null);
__d("WorkPostTopicTagsActions",["ReactComposerDispatcher","ReactWorkPostTopicTagsActionType"],(function(a,b,c,d,e,f){"use strict";e.exports={updateTags:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactWorkPostTopicTagsActionType").TOPIC_TAGS_FETCHED,topicTags:c})},updateGroupID:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactWorkPostTopicTagsActionType").UPDATE_GROUP_ID,groupID:c})},hideTag:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactWorkPostTopicTagsActionType").TOPIC_TAG_HIDE,tagName:c})},unhideTag:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactWorkPostTopicTagsActionType").TOPIC_TAG_UNHIDE,tagName:c})}}}),null);
__d("XPostTagsComposerAutoTagController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/group/work_post_auto_tagger/",{post_id:{type:"FBID"},text:{type:"String"},group_id:{type:"String"}})}),null);
__d("WorkPostTopicTagsStore",["AsyncRequest","ReactComposerActionTypes","ReactComposerGroupPostTagsTaggerStore","ReactComposerStatusActionType","ReactComposerStoreBase","ReactWorkPostTopicTagsActionType","WorkPostTopicTagsActions","WorkTopicTagSuggestionPostTypedLogger","WorkTopicTagSuggestionUsageTypedLogger","XPostTagsComposerAutoTagController","debounce","immutable","md5"],(function(a,b,c,d,e,f){"use strict";var g=1e3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{topicTags:[],hiddenTags:b("immutable").Set(),allTags:b("immutable").Set(),lastMessageHash:b("md5")(""),fetchingTags:!1}},function(a){switch(a.type){case b("ReactWorkPostTopicTagsActionType").TOPIC_TAGS_FETCHED:d&&d.$WorkPostTopicTagsStore2(a);break;case b("ReactWorkPostTopicTagsActionType").TOPIC_TAG_HIDE:d&&d.$WorkPostTopicTagsStore3(a);break;case b("ReactWorkPostTopicTagsActionType").TOPIC_TAG_UNHIDE:d&&d.$WorkPostTopicTagsStore4(a);break;case b("ReactWorkPostTopicTagsActionType").UPDATE_GROUP_ID:d&&d.$WorkPostTopicTagsStore5(a);break;case b("ReactComposerStatusActionType").SET_EDITOR_STATE:d&&d.$WorkPostTopicTagsStore1(a);break;case b("ReactComposerActionTypes").POST_SUCCEEDED:d&&d.$WorkPostTopicTagsStore6(a);break}})||this;c.$WorkPostTopicTagsStore1=b("debounce")(c.$WorkPostTopicTagsStore7.bind(babelHelpers.assertThisInitialized(c)),g);d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getTopicTags=function(a){var b=this.getComposerData(a).hiddenTags;a=this.getComposerData(a).topicTags.filter(function(a){return!b.contains(a.name.toLowerCase())});return a};d.getIsFetchingTags=function(a){return this.getComposerData(a).fetchingTags};d.getHasSelectedAllSuggestions=function(a){var b=this.getComposerData(a).hiddenTags;a=this.getComposerData(a).topicTags.filter(function(a){return!b.contains(a.name.toLowerCase())});return a.count===0&&b.count>0};d.$WorkPostTopicTagsStore7=function(a){a=this.validateAction(a,["composerID","editorState"]);var c=a[0];a=a[1];var d=this.getComposerData(c);a=a.getCurrentContent().getPlainText();var e=d.lastMessageHash,f=b("md5")(a);d.lastMessageHash=f;if(a.length===0)b("WorkPostTopicTagsActions").updateTags(c,[]);else if(f!==e){d.fetchingTags=!0;if(d.groupID!==null&&d.groupID!==void 0){f=b("XPostTagsComposerAutoTagController").getURIBuilder().setString("text",a).setString("group_id",d.groupID);new(b("AsyncRequest"))().setURI(f.getURI()).setMethod("POST").setHandler(function(a){if(!a||!a.payload)return;b("WorkPostTopicTagsActions").updateTags(c,a.payload.suggested_tags.map(function(a){return{id:null,name:a}}))}).send()}}this.emitChange(c)};d.$WorkPostTopicTagsStore2=function(a){a=this.validateAction(a,["composerID","topicTags"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.topicTags=a;c.allTags=c.allTags.add(a);c.fetchingTags=!1;this.emitChange(b)};d.$WorkPostTopicTagsStore3=function(a){a=this.validateAction(a,["composerID","tagName"]);var c=a[0];a=a[1];var d=this.getComposerData(c);d.hiddenTags=d.hiddenTags.add(a.toLowerCase());this.emitChange(c);new(b("WorkTopicTagSuggestionUsageTypedLogger"))().setEvent("suggested_topic_added").setGroupID(this.getComposerData(c).groupID).log()};d.$WorkPostTopicTagsStore4=function(a){a=this.validateAction(a,["composerID","tagName"]);var c=a[0];a=a[1];var d=this.getComposerData(c);d.hiddenTags=d.hiddenTags["delete"](a.toLowerCase());this.emitChange(c);new(b("WorkTopicTagSuggestionUsageTypedLogger"))().setEvent("suggested_topic_removed").setGroupID(this.getComposerData(c).groupID).log()};d.$WorkPostTopicTagsStore5=function(a){a=this.validateAction(a,["composerID","groupID"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.groupID=a;this.emitChange(b)};d.$WorkPostTopicTagsStore6=function(a){a=this.validateAction(a,"composerID");var c=this.getComposerData(a),d=b("ReactComposerGroupPostTagsTaggerStore").getPostTags(a).toArray();new(b("WorkTopicTagSuggestionPostTypedLogger"))().setGroupID(this.getComposerData(a).groupID).setNumTags(d.length).setNumSuggestionsAtPostTime(c.topicTags.length).setNumTagsFromSuggestions(c.hiddenTags.length).setNumAllSuggestionsDuringCreation(c.allTags.length).log()};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("XGroupPostTagNameCheckerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/group/post_tag_name/checker/",{name:{type:"String",required:!0},group_id:{type:"String",required:!0},edit_tag_id:{type:"FBID"}})}),null);
__d("XGroupsGroupPostTagsComposerAddSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/post_tag/composer/add_save/dialog/",{})}),null);
__d("ReactComposerGroupPostTagsTaggerContainer.react",["Arbiter","AsyncRequest","Bootloader","CurrentUser","DOM","GroupsPostTagContentStrings","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerGroupPostTagsTaggerActions","ReactComposerGroupPostTagsTaggerComponent.react","ReactComposerGroupPostTagsTaggerStore","ReactComposerPropsAndStoreBasedStateMixin","ReactWorkComposerGroupPostTagsTaggerComponent.react","SearchableEntry","Style","WorkGalahadSettings","WorkPostTopicTagsActions","WorkPostTopicTagsStore","XGroupPostTagNameCheckerController","XGroupsGroupPostTagsComposerAddSaveController","createReactClass_DEPRECATED","prop-types","requireCond","cr:1436704"],(function(a,b,c,d,e,f){var g=b("React"),h=5,i="NEW_TAG_UNIQUE_ID",j=b("WorkGalahadSettings").isGalahadEnabled;a=[b("ReactComposerGroupPostTagsTaggerStore")];b("CurrentUser").isWorkUser()&&a.push(b("WorkPostTopicTagsStore"));c=b("createReactClass_DEPRECATED")({displayName:"ReactComposerGroupPostTagsTaggerContainer",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin").apply(void 0,a)],statics:{calculateState:function(a,c){return{show:b("ReactComposerGroupPostTagsTaggerStore").showTagger(a),entries:b("ReactComposerGroupPostTagsTaggerStore").getPostTags(a).toArray(),queryString:b("ReactComposerGroupPostTagsTaggerStore").getQueryString(a),suggestions:b("CurrentUser").isWorkUser()?b("WorkPostTopicTagsStore").getTopicTags(a):[],isFetchingSuggestions:b("CurrentUser").isWorkUser()?b("WorkPostTopicTagsStore").getIsFetchingTags(a):!1,hasSelectedAllSuggestions:b("CurrentUser").isWorkUser()?b("WorkPostTopicTagsStore").getHasSelectedAllSuggestions(a):!1}}},propTypes:{tagsLimit:b("prop-types").number.isRequired,groupID:b("prop-types").string.isRequired,postTag:b("prop-types").object,showSuggestions:b("prop-types").bool,passLaunchGK:b("prop-types").bool.isRequired},getDefaultProps:function(){return{tagsLimit:h,showSuggestions:b("CurrentUser").isWorkUser()}},componentDidMount:function(){b("ReactComposerGroupPostTagsTaggerActions").setTaggerMounted(this.context.composerID,!0);this.context.targetID&&b("ReactComposerGroupPostTagsTaggerActions").setTargetID(this.context.composerID,this.context.targetID);if(this.props.postTag){var a=new(b("SearchableEntry"))({uniqueID:this.props.postTag.uniqueID,title:this.props.postTag.title});b("ReactComposerGroupPostTagsTaggerActions").addTag(this.context.composerID,a)}b("CurrentUser").isWorkUser()&&b("WorkPostTopicTagsActions").updateGroupID(this.context.composerID,this.props.groupID)},componentWillUnmount:function(){b("ReactComposerGroupPostTagsTaggerActions").setTaggerMounted(this.context.composerID,!1)},render:function(){if(!this.state.show)return null;return b("CurrentUser").isWorkUser()?g.jsx(b("ReactWorkComposerGroupPostTagsTaggerComponent.react"),{entries:this.state.entries,hasSelectedAllSuggestions:this.state.hasSelectedAllSuggestions,isFetchingSuggestions:this.state.isFetchingSuggestions,showSuggestions:this.props.showSuggestions,suggestions:this.state.suggestions,groupID:this.props.groupID,onTagRemove:this._onRemovePostTag,onTagSelect:this._onAddPostTag,onInputChange:this._onInputChange,onSuggestionSelect:b("cr:1436704")!==null?this._onHashtagSuggestionSelect:this._onSuggestionSelect}):g.jsx(b("ReactComposerGroupPostTagsTaggerComponent.react"),{entries:this.state.entries,groupID:this.props.groupID,onTagRemove:this._onRemovePostTag,onTagSelect:this._onAddPostTag,onInputChange:this._onInputChange,passLaunchGK:this.props.passLaunchGK})},_onAddPostTag:function(a){var c=this;if(this.props.tagsLimit>0){var d=b("ReactComposerGroupPostTagsTaggerStore").getPostTags(this.context.composerID).size;if(d>=this.props.tagsLimit)return}if(a.getUniqueID()===i){d=b("XGroupPostTagNameCheckerController").getURIBuilder().setString("name",this.state.queryString).setString("group_id",this.props.groupID).getURI();new(b("AsyncRequest"))(d).setHandler(function(a){if(a.payload){var d=a.payload.suggestedTitle,e=a.payload.errorMessage;e?(c._emptyQueryString(),b("Bootloader").loadModules(["Dialog"],function(a){var c=b("GroupsPostTagContentStrings").getInvalidPostTagDialogTitle(),d=b("DOM").create("div",null,e);b("Style").set(d,"wordWrap","break-word");new a().setTitle(c).setButtons(a.OK).setBody(d).setSemiModal(!0).show()},"ReactComposerGroupPostTagsTaggerContainer.react")):(c._sendSaveRequest(d),c._emptyQueryString());c.props.showSuggestions&&b("WorkPostTopicTagsActions").hideTag(c.context.composerID,d)}}).send();return}else b("ReactComposerGroupPostTagsTaggerActions").addTag(this.context.composerID,a)},_onRemovePostTag:function(a){b("ReactComposerGroupPostTagsTaggerActions").removeTag(this.context.composerID,a),b("WorkPostTopicTagsActions").unhideTag(this.context.composerID,a.getTitle())},_onInputChange:function(a){b("ReactComposerGroupPostTagsTaggerActions").setQueryString(this.context.composerID,a.target.value)},_emptyQueryString:function(){b("ReactComposerGroupPostTagsTaggerActions").setQueryString(this.context.composerID,"")},_sendSaveRequest:function(a){var c=b("XGroupsGroupPostTagsComposerAddSaveController").getURIBuilder().getURI();a={group_id:this.props.groupID,tag_name:a,composer_id:this.context.composerID,skip_dom_update:j};new(b("AsyncRequest"))(c).setData(a).setHandler(function(a){j&&b("Arbiter").inform("workGalahad/groupUpdate")}).send()},_onSuggestionSelect:function(a){this._sendSaveRequest(a.name),b("WorkPostTopicTagsActions").hideTag(this.context.composerID,a.name)},_onHashtagSuggestionSelect:function(a){b("cr:1436704")!==null&&b("cr:1436704").injectHashtag(this.context.composerID,a.name)}});e.exports=c}),null);
__d("ReactComposerMarkdownTaggerButton.react",["cx","fbt","Arbiter","React","ReactComposerEvents","ReactComposerLoggingName","ReactComposerStatusActions","ReactComposerTaggerActions","ReactComposerTaggerButtonMixin","ReactComposerTaggerStore","ReactComposerTaggerType","createReactClass_DEPRECATED"],(function(a,b,c,d,e,f,g,h){b("React");a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerMarkdownTaggerButton",mixins:[b("ReactComposerTaggerButtonMixin")],statics:{taggerID:b("ReactComposerTaggerType").MARKDOWN,loggingName:b("ReactComposerLoggingName").MARKDOWN_TAGGER,unselectable:!0},getTitle:function(){return h._("Format text")},getTooltip:function(){return h._("Format text")},getClassName:function(){return"_1957"},_onSelectX:function(){var a=b("ReactComposerTaggerStore").hasMarkdown(this.context.composerID);b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,a?{isMarkdown:!1}:{isMarkdown:!0});a||b("ReactComposerStatusActions").removeEditorStateFormatting(this.context.composerID);b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}});e.exports=a}),null);
__d("ReactComposerMarkdownTaggerComponent.react",["React","emptyFunction","prop-types"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsx("noscript",{})};return b}(g.Component);a.propTypes={taggerData:b("prop-types").object.isRequired,onSelect:b("prop-types").func.isRequired};a.defaultProps={taggerData:{},onSelect:b("emptyFunction")};e.exports=a}),null);
__d("ReactComposerMarkdownTaggerContainer.react",["ReactComposerLoggingName","ReactComposerMarkdownTaggerComponent.react","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","createReactClass_DEPRECATED"],(function(a,b,c,d,e,f){a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerMarkdownTaggerContainer",mixins:[b("ReactComposerTaggerContainerMixin")()],statics:{taggerID:b("ReactComposerTaggerType").MARKDOWN,loggingName:b("ReactComposerLoggingName").MARKDOWN_TAGGER,taggerComponent:b("ReactComposerMarkdownTaggerComponent.react")}});e.exports=a}),null);
__d("ReactComposerLivingRoomSproutContainer.react",["FluxContainer","React","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerDisabledSproutItem.react","ReactComposerLivingRoomSproutInitializer","ReactComposerPageLivingRoomSproutNux.react","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfigTyped","ReactComposerTaggerStore","ReactComposerTaggerType","ShimButton.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=g.createRef(),d.state={isDisabled:!1,isSelected:!1},d.$2=function(a){if(!d.state.isSelected){b("ReactComposerLivingRoomSproutInitializer").initializeUnselectedSprout(d.context.composerID,d.context.targetID,d.props.config.attachmentsConfig[b("ReactComposerAttachmentType").LIVING_ROOM].creationSource,d.props.config.attachmentsConfig[b("ReactComposerAttachmentType").LIVING_ROOM].configType,d.props.config.attachmentsConfig[b("ReactComposerAttachmentType").LIVING_ROOM].isGameGroup===!0,(a=d.props.config.attachmentsConfig[b("ReactComposerAttachmentType").LIVING_ROOM].experiments)!=null?a:[])}else b("ReactComposerAttachmentActions").selectAttachment(d.context.composerID,b("ReactComposerAttachmentType").STATUS,!0)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ReactComposerAttachmentStore"),b("ReactComposerTaggerStore")]};c.calculateState=function(a,c,d){a=b("ReactComposerAttachmentStore").getSelectedAttachmentID(d.composerID);c=a===b("ReactComposerAttachmentType").LIVING_ROOM;a=b("ReactComposerTaggerStore").isDisabled(d.composerID,b("ReactComposerTaggerType").LIVING_ROOM);return{isDisabled:a,isSelected:c}};var d=c.prototype;d.render=function(){var a=this;if(this.state.isDisabled)return g.jsx(b("ReactComposerDisabledSproutItem.react"),{uiConfig:this.props.uiConfig});var c=this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").LIVING_ROOM].configType;return g.jsxs(b("ShimButton.react"),{onClick:this.$2,tabIndex:-1,"data-testid":void 0,children:[g.jsx(b("ReactComposerSproutItem.react"),{ref:this.$1,uiConfig:this.props.uiConfig,highlighted:this.state.isSelected}),c==="page"?g.jsx(b("ReactComposerPageLivingRoomSproutNux.react"),{contextRef:function(){return a.$1.current}}):null]})};return c}(g.PureComponent);a.defaultProps={uiConfig:b("ReactComposerSproutsDefaultUIConfigTyped").sproutsUIConfigMap.LIVING_ROOM};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("RichComposedTextEditorBlock.react",["DraftEditorBlock.react","React"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){return g.jsx(b("DraftEditorBlock.react"),babelHelpers["extends"]({contentEditable:"inherit"},a.blockProps,a,{children:a.children}))};e.exports=a}),null);
__d("RichComposedTextEditorInlineStyleMenu.react",["cx","fbt","invariant","ContextualLayerAutoFlip","EditorState","Keys","LeftRight.react","React","ReactFragment","Rect","SelectionState","TooltipData","URI","XUICloseButton.react","XUIContextualDialog.react","XUIError.react","createReactClass_DEPRECATED","getVisibleSelectionRect","immutable","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React"),l=b("immutable").OrderedSet,m={ContextualLayerAutoFlip:b("ContextualLayerAutoFlip")},n={bold:h._("Bold"),italic:h._("Italic"),link:h._("Link"),mono:h._("Code"),linkPlaceholder:h._("Paste or type a link...")},o=["http","https","mailto"];function p(a){return o.indexOf(a)>=0}d=b("createReactClass_DEPRECATED")({displayName:"RichComposedTextEditorInlineStyleMenu",propTypes:{editorState:(c=b("prop-types")).instanceOf(b("EditorState")).isRequired,disableLinkAndMonoFormatting:c.bool.isRequired,onRemoveLink:c.func.isRequired,onAddLink:c.func.isRequired,onCancelLink:c.func.isRequired,onToggle:c.func.isRequired},getInitialState:function(){return{addingLink:!1,flyoutState:"style",bounds:null,targetSelection:null,linkText:"",linkErrorMessage:null}},componentDidUpdate:function(){var a=this;this.state.addingLink&&setTimeout(function(){return a.refs.linkInput.focus()},0)},_toggleBold:function(a){a.preventDefault(),this.props.onToggle("BOLD")},_toggleItalic:function(a){a.preventDefault(),this.props.onToggle("ITALIC")},_toggleMono:function(a){a.preventDefault(),this.props.onToggle("CODE")},_toggleLink:function(a){a.preventDefault(),this._toggleLinkImpl()},_toggleLinkImpl:function(){if(this._alreadyContainsLink()){this.props.onRemoveLink();return}this.setState({addingLink:!0,flyoutState:"link",bounds:q(),targetSelection:this.props.editorState.getSelection(),linkText:""})},toggleLink:function(){if(!this._canAddLink())return!1;this._toggleLinkImpl();return!0},_onLinkValueChange:function(a){a=a.target;a instanceof HTMLInputElement||i(0,2261);this.setState({linkText:a.value})},_onLinkValueKeydown:function(a){switch(a.which){case b("Keys").RETURN:a.preventDefault();if(this.state.linkText){var c=new(j||(j=b("URI")))(this.state.linkText),d=c.getProtocol();if(!d)c.setProtocol("http");else if(!p(d))return;if(!(j||(j=b("URI"))).isValidURI(c.toString())){this.setState({linkErrorMessage:"Invalid link"});return}else this.setState({linkErrorMessage:null});d=this.props.editorState.getCurrentContent();d=d.createEntity("LINK","MUTABLE",r(c));c=d.getLastCreatedEntityKey();this.props.onAddLink(this.state.targetSelection,c);this.setState(this.getInitialState())}return;case b("Keys").ESC:a.preventDefault();this._cancelLink();return;default:this.setState({linkErrorMessage:null})}},reset:function(a){this.setState(this.getInitialState(),a)},resetToStyles:function(a){this.setState(Object.assign(this.getInitialState(),{targetSelection:this.props.editorState.getSelection(),bounds:this.state.bounds}),a)},_cancelLink:function(){var a=this,b=this.state.targetSelection;this.props.onCancelLink(b);setTimeout(function(){return a.resetToStyles()},0)},_renderBold:function(a){a="_4q5h"+(a.has("BOLD")?" _u4r":"");return k.jsx("li",babelHelpers["extends"]({className:a,onMouseDown:this._toggleBold},b("TooltipData").propsFor(n.bold)))},_renderItalic:function(a){a="_4q5j"+(a.has("ITALIC")?" _u4r":"");return k.jsx("li",babelHelpers["extends"]({className:a,onMouseDown:this._toggleItalic},b("TooltipData").propsFor(n.italic)))},_disableLinkAndMonoFormatting:function(){return this.props.disableLinkAndMonoFormatting},_renderMono:function(a){if(this._disableLinkAndMonoFormatting())return null;a="_4q5k"+(a.has("CODE")?" _u4r":"");return k.jsx("li",babelHelpers["extends"]({className:a,onMouseDown:this._toggleMono},b("TooltipData").propsFor(n.mono)))},_canAddLink:function(){var a=this.props.editorState;a=this._getSelectionWithoutTrailingNewline(a);return!a.isCollapsed()&&a.getAnchorKey()===a.getFocusKey()},_alreadyContainsLink:function(){var a=this.props.editorState,b=this._getSelectionWithoutTrailingNewline(a);return a.getCurrentContent().getBlockForKey(b.getAnchorKey()).getCharacterList().slice(b.getStartOffset(),b.getEndOffset()).some(function(b){b=b.getEntity();var c=a.getCurrentContent();return b&&c.getEntity(b).getType()==="LINK"})},_getSelectionWithoutTrailingNewline:function(a){var c=a.getSelection();if(!c.isCollapsed()&&c.getEndOffset()===0){a=a.getCurrentContent();var d=a.getKeyBefore(c.getEndKey());if(d){a=a.getBlockForKey(d).getLength();var e=c.getIsBackward();if(e)return new(b("SelectionState"))({anchorKey:d,anchorOffset:a,focusKey:c.getFocusKey(),focusOffset:c.getFocusOffset(),isBackward:!0});else return new(b("SelectionState"))({anchorKey:c.getAnchorKey(),anchorOffset:c.getAnchorOffset(),focusKey:d,focusOffset:a,isBackward:!1})}}return c},_renderLink:function(){if(!this._canAddLink()||this._disableLinkAndMonoFormatting())return null;var a=this._alreadyContainsLink();a="_4q5l"+(a?" _u4r":"");return k.jsx("li",babelHelpers["extends"]({className:a,onMouseDown:this._toggleLink},b("TooltipData").propsFor(n.link)))},_renderStyleBody:function(a){return k.jsxs("ul",{className:"_u4s clearfix",children:[this._renderBold(a),this._renderItalic(a),this._renderMono(a),this._renderLink()]})},_renderLinkBody:function(){return k.jsxs(b("LeftRight.react"),{className:"_u4u",children:[k.jsx(b("XUIError.react"),{xuiError:this.state.linkErrorMessage,children:k.jsx("input",{className:"_u4v",type:"text",ref:"linkInput",placeholder:n.linkPlaceholder,value:this.state.linkText,onChange:this._onLinkValueChange,onKeyDown:this._onLinkValueKeydown})}),k.jsx(b("XUICloseButton.react"),{className:"_u4w",size:"medium",shade:"dark",onClick:this._cancelLink})]})},renderLayers:function(){var a=this,c=!1,d=!1,e=null,f=this.props.editorState;if(this.state.flyoutState==="link")c=!0,e=this.state.bounds;else{var g=!f.getSelection().isCollapsed();e=g?q():null;d=!!(g&&e)}g=d?f.getCurrentInlineStyle():l();return b("ReactFragment").create({style:k.jsx(b("XUIContextualDialog.react"),{autoFocus:!1,shown:d,alignment:"center",contextBounds:e,behaviors:m,contextRef:function(){return a.refs.inlineStyle},children:this._renderStyleBody(g)}),link:k.jsx(b("XUIContextualDialog.react"),{hideOnEscape:!1,autoFocus:!1,shown:c,alignment:"center",contextBounds:e,behaviors:m,contextRef:function(){return a.refs.inlineStyle},children:this._renderLinkBody()})})},render:function(){return k.jsxs("span",{children:[k.jsx("div",{ref:"inlineStyle"}),this.renderLayers()]})}});function q(){var c=b("getVisibleSelectionRect")(a);if(c==null)return null;var d=c.top,e=c.right,f=c.bottom;c=c.left;return new(b("Rect"))(d,e,f,c,"viewport").convertTo("document")}function r(a){var b={};b.url=a.toString();return b}e.exports=d}),null);
__d("RichComposedTextEditorMenu.react",["cx","fbt","ContextualLayerAutoFlip","EditorState","GroupsComposerActions","GroupsComposerNuxTypes","NotesEmbedDialog","NotesPhotoPickerDialog","NotesVideoPickerDialog","React","ReactComposerGroupStore","ReactComposerStatusStore","ReactDOM","ReactFragment","XUIAmbientNUX.react","XUIContextualDialog.react","XUIContextualDialogBody.react","calculateMenuTop","clearImmediate","keyMirror","prop-types","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("keyMirror")({STYLE:null,ATTACH:null}),k={ContextualLayerAutoFlip:b("ContextualLayerAutoFlip")},l={embed:h._("Embed"),photo:h._("Photo"),video:h._("Video")};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={top:null,visibleMenu:null},d.$2=function(){d.$1&&b("clearImmediate")(d.$1),d.$1=null},d.$3=function(){var a=d.props.editorState.getSelection();a=b("calculateMenuTop")(a,b("ReactDOM").findDOMNode(d.refs.container));d.state.top!==a&&d.setState({top:a,visibleMenu:null})},d.$6=function(){var a=d.props.editorState,b=a.getSelection();return a.getCurrentContent().getBlockForKey(b.getStartKey()).getType()},d.$7=function(a){a.preventDefault()},d.$10=function(){var a=d.props.editorState;a=a.getSelection();var b=d.$6();return d.state.top!==null&&b!=="atomic"&&a.getHasFocus()},d.$11=function(a){a.preventDefault(),d.props.onToggleBlockType("header-one")},d.$12=function(a){a.preventDefault(),d.props.onToggleBlockType("header-two")},d.$13=function(a){a.preventDefault(),d.props.onToggleBlockType("unordered-list-item")},d.$14=function(a){a.preventDefault(),d.props.onToggleBlockType("ordered-list-item")},d.$15=function(a){a.preventDefault(),d.props.onToggleBlockType("blockquote")},d.$16=function(a){a.preventDefault(),d.props.onToggleBlockType("code-block")},d.$17=function(a){a.preventDefault(),setTimeout(function(){var a=function(a){d.props.onAddEmbed(m(a,d.props.editorState.getCurrentContent()))};new(b("NotesEmbedDialog"))({onEmbed:a,ownerID:d.props.ownerID}).show()},200)},d.$9=function(a){a.preventDefault(),setTimeout(function(){var a=d.props.compositionID,c=d.props.editorState.getCurrentContent(),e=function(b){d.props.onAddPhoto(n(babelHelpers["extends"]({},b,{compositionID:a}),c))},f=function(b){d.props.onAddPhoto(n({compositionID:a,fileInput:b},c))},g=function(){d.props.onCancelPhoto()};new(b("NotesPhotoPickerDialog"))({onPhotoPicked:e,onPhotoUpload:f,onPhotoCancel:g,ownerID:d.props.ownerID,isPageStory:d.props.isPageStory}).show()},200)},d.$18=function(a){a.preventDefault(),setTimeout(function(){var a=d.props.compositionID,c=function(b){d.props.onAddVideo(o(babelHelpers["extends"]({},b,{compositionID:a}),d.props.editorState.getCurrentContent()))};new(b("NotesVideoPickerDialog"))({onVideoPicked:c,ownerID:d.props.ownerID}).show()},200)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$2();this.$1=b("setImmediate")(function(){return a.$3()});this.$4(this.props.shouldShowNux===!0)};d.componentDidUpdate=function(){var a=this;this.$2();this.$1=b("setImmediate")(function(){return a.$3()})};d.componentWillUnmount=function(){this.$2()};d.$4=function(a){if(this.props.compositionID==null||this.props.compositionID==="")return;b("GroupsComposerActions").setNuxVisible(this.props.compositionID,b("GroupsComposerNuxTypes").FORMATTED_POSTS,a)};d.$5=function(){return this.props.compositionID==null||this.props.compositionID===""?!1:b("ReactComposerGroupStore").getIsNuxVisible(this.props.compositionID,b("GroupsComposerNuxTypes").FORMATTED_POSTS)&&this.props.editorState.getCurrentContent().getPlainText().trim().length>300&&b("ReactComposerStatusStore").getRichTextBlocks(this.props.compositionID)===null};d.$8=function(){var a=this.$6(),b={top:this.state.top?this.state.top+"px":void 0},c;this.props.canAttachVideo||this.props.canAttachEmbed?c=i.jsx("li",{className:"_15_2",ref:"attach"}):this.props.canAttachPhoto?c=i.jsx("li",{className:"_15_4",onClick:this.$9}):c=null;a="_15_5"+(a==="unstyled"?" _15_6":"")+(a==="header-one"?" _15_7":"")+(a==="header-two"?" _15_8":"")+(a==="unordered-list-item"?" _15_9":"")+(a==="ordered-list-item"?" _15_a":"")+(a==="blockquote"?" _15_b":"")+(a==="code-block"?" _15_c":"");return i.jsxs("ul",{style:b,className:"clearfix _15r2",onMouseDown:this.$7,ref:"format_block_menu",children:[c,i.jsx("li",{className:a,ref:"style"})]})};d.$19=function(a){a="_15_7"+(a==="header-one"?" _15_e":"");return i.jsx("li",{className:a,onMouseDown:this.$11})};d.$20=function(a){a="_15_8"+(a==="header-two"?" _15_e":"");return i.jsx("li",{className:a,onMouseDown:this.$12})};d.$21=function(a){a="_15_9"+(a==="unordered-list-item"?" _15_e":"");return i.jsx("li",{className:a,onMouseDown:this.$13})};d.$22=function(a){a="_15_a"+(a==="ordered-list-item"?" _15_e":"");return i.jsx("li",{className:a,onMouseDown:this.$14})};d.$23=function(a){a="_15_b"+(a==="blockquote"?" _15_e":"");return i.jsx("li",{className:a,onMouseDown:this.$15})};d.$24=function(a){if(this.props.disableCodeBlock)return null;a="_15_c"+(a==="code-block"?" _15_e":"");return i.jsx("li",{className:a,onMouseDown:this.$16})};d.$25=function(){return!this.props.canAttachEmbed?null:i.jsx("li",{className:"_15_o",onMouseDown:this.$17,children:l.embed})};d.$26=function(){var a="_15_r";return i.jsx("li",{className:a,onMouseDown:this.$9,children:l.photo})};d.$27=function(){if(!this.props.canAttachVideo)return null;var a="_15_s";return i.jsx("li",{className:a,onMouseDown:this.$18,children:l.video})};d.renderLayers=function(){var a=this,c=this.$10(),d=this.$6();return b("ReactFragment").create({formattingNux:i.jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.format_block_menu},shown:this.$5(),onCloseButtonClick:function(){a.$4(!1)},position:"left",children:h._("You can now format your post with headlines, bullets, pull quotes and more.")}),attach:i.jsx(b("XUIContextualDialog.react"),{autoFocus:!1,contextRef:function(){return a.refs.attach},hoverContextRef:function(){return a.refs.attach},hoverHideDelay:0,alignment:"center",offsetY:-2,behaviors:k,shown:c&&this.state.visibleMenu===j.ATTACH,children:i.jsx(b("XUIContextualDialogBody.react"),{children:i.jsxs("ul",{className:"_15_t clearfix",children:[this.$26(),this.$27(),this.$25()]})})}),style:i.jsx(b("XUIContextualDialog.react"),{autoFocus:!1,contextRef:function(){return a.refs.style},hoverContextRef:function(){return a.refs.style},hoverHideDelay:40,alignment:"center",behaviors:k,shown:c&&this.state.visibleMenu===j.STYLE,children:i.jsx(b("XUIContextualDialogBody.react"),{children:i.jsxs("ul",{className:"_15_u clearfix",children:[this.$19(d),this.$20(d),this.$21(d),this.$22(d),this.$23(d),this.$24(d)]})})})})};d.render=function(){var a="_15_v"+(this.$10()?" _15_w":"");return i.jsxs("span",{children:[i.jsx("div",{className:a,ref:"container",children:i.jsx("div",{className:"_40eu",children:this.$8()})}),this.renderLayers()]})};return c}(i.Component);a.propTypes={editorState:(c=b("prop-types")).instanceOf(b("EditorState")).isRequired,compositionID:c.string.isRequired,onToggleBlockType:c.func.isRequired,onAddPhoto:c.func.isRequired,onAddVideo:c.func.isRequired,onCancelPhoto:c.func.isRequired,ownerID:c.string.isRequired,isPageStory:c.bool,disableCodeBlock:c.bool,shouldShowNux:c.bool};function m(a,b){b=b.createEntity("EMBED","IMMUTABLE",a);return b.getLastCreatedEntityKey()}function n(a,b){b=b.createEntity("IMAGE","IMMUTABLE",a);return b.getLastCreatedEntityKey()}function o(a,b){b=b.createEntity("VIDEO","IMMUTABLE",a);return b.getLastCreatedEntityKey()}e.exports=a}),null);
__d("RichComposedTextEditor.react",["cssVar","cx","requireCond","AbstractMentionsTextEditor.react","AtomicBlockUtils","CampfireCharacters","CampfireCommands","EditorState","MentionsLayer.react","React","RichComposedTextEditorBlock.react","RichComposedTextEditorInlineStyleMenu.react","RichComposedTextEditorMenu.react","RichTextEditorMarkdownUtil","RichTextEditorUtil","XUITypeaheadView.react","createMentionEntityForContentState","gkx","joinClasses","prop-types","cr:1400671"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("CampfireCharacters").EMBED,k=b("CampfireCharacters").PHOTO,l=b("CampfireCharacters").VIDEO,m=4,n={CODE:{backgroundColor:"#f6f7f9",fontFamily:"Menlo, Consolas, Monaco, monospace",fontSize:"14px",padding:4}};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.props.onChange(b("RichTextEditorUtil").onTab(a,d.props.editorState,m))},d.$2=function(a,c){if(d.props.handleContentReturn&&d.props.handleContentReturn(a,c))return!0;a=b("RichTextEditorMarkdownUtil").handleReturn(a,c);if(a){d.props.onChange(a);return!0}return!1},d.$3=function(a,c){if(a===b("CampfireCommands").SAVE_DRAFT){d.props.onSave();return"handled"}else if(a===b("CampfireCommands").TOGGLE_LINK){var e=d.refs.inlineStyleMenu;return e.toggleLink()}else{e=b("RichTextEditorMarkdownUtil").blockStyleToText(a,c);if(e){d.props.onChange(e);return"handled"}}e=b("RichTextEditorUtil").handleKeyCommand(c,a);if(e){d.props.onChange(e);return"handled"}return"not-handled"},d.$4=function(a){var c=d.props.disableLinkAndMonoFormatting===!0;c=b("RichTextEditorMarkdownUtil").textToBlockStyle(a,{enableCodeBlock:!c});d.props.onChange(c||a)},d.$5=function(a){d.props.onChange(b("RichTextEditorUtil").toggleBlockType(d.props.editorState,a))},d.$6=function(a){d.props.onChange(b("RichTextEditorUtil").toggleInlineStyle(d.props.editorState,a))},d.$7=function(){var a=d.props.editorState;d.props.onChange(b("RichTextEditorUtil").toggleLink(a,a.getSelection(),null))},d.$8=function(a,c){d.props.onChange(b("RichTextEditorUtil").toggleLink(d.props.editorState,a,c))},d.$9=function(a){d.props.onChange(b("EditorState").forceSelection(d.props.editorState,a))},d.$10=function(a,c){if(d.props.canAttachPhoto){var e=b("EditorState").forceSelection(d.props.editorState,a);return d.$11(e,c)?"handled":"not-handled"}else if(d.props.handleDroppedFiles)return d.props.handleDroppedFiles(a,c)?"handled":"not-handled";return"not-handled"},d.$12=function(a){if(d.props.canAttachPhoto)return d.$11(d.props.editorState,a)?"handled":"not-handled";else if(d.props.handlePastedFiles)return d.props.handlePastedFiles(a)?"handled":"not-handled";return"not-handled"},d.$13=function(a){d.props.onChange(o(d.props.editorState,a,k))},d.$14=function(a){d.props.onChange(o(d.props.editorState,a,l))},d.$15=function(a){d.props.onChange(o(d.props.editorState,a,j))},d.$16=function(){d.props.onChange(b("EditorState").forceSelection(d.props.editorState,d.props.editorState.getSelection()))},d.focus=function(){d.refs.inlineStyleMenu.reset(),d.refs.editor.focus()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$11=function(a,c){var d=this,e=c[0];if(!e||e.type!="image/png"&&e.type!="image/jpeg")return!1;c=new FileReader();c.onload=function(c){c=c.target.result;var f=new Image();f.src=c;f.onload=function(){var f=d.props.compositionID,c={photo:e};c={files:c,compositionID:f};f=d.props.editorState.getCurrentContent();f=f.createEntity("IMAGE","IMMUTABLE",c);c=f.getLastCreatedEntityKey();f=b("EditorState").set(a,{currentContent:f});d.props.onChange(o(f,c,k))}};c.readAsDataURL(e);return!0};d.blur=function(){this.refs.editor.blur()};d.shouldComponentUpdate=function(a){return a.editorState!==this.props.editorState||a.readOnly!==this.props.readOnly||a.className!==this.props.className};d.render=function(){var a=this.props.editorState.getCurrentContent(),c=!1;if(!a.hasText()){a=a.getBlockMap().first().getType();c=a!=="unstyled"}a=b("joinClasses")(this.props.className,"_4u4d"+(c?" _4u4e":""));c=null;var d=null;this.props.readOnly||(c=i.jsx(b("RichComposedTextEditorMenu.react"),{editorState:this.props.editorState,canAttachVideo:this.props.canAttachVideo,canAttachPhoto:this.props.canAttachPhoto,canAttachEmbed:this.props.canAttachEmbed,disableCodeBlock:!!this.props.disableLinkAndMonoFormatting,shouldShowNux:this.props.shouldShowFormattingNux,compositionID:this.props.compositionID,onToggleBlockType:this.$5,onAddEmbed:this.$15,onAddPhoto:this.$13,onAddVideo:this.$14,onCancelPhoto:this.$16,ownerID:this.props.ownerID,isPageStory:this.props.isPageStory}),d=i.jsx(b("RichComposedTextEditorInlineStyleMenu.react"),{ref:"inlineStyleMenu",editorState:this.props.editorState,disableLinkAndMonoFormatting:!!this.props.disableLinkAndMonoFormatting,onToggle:this.$6,onRemoveLink:this.$7,onAddLink:this.$8,onCancelLink:this.$9}));var e=this.props,f=e.editorState;e.handleDroppedFiles;e.handlePastedFiles;e=babelHelpers.objectWithoutPropertiesLoose(e,["editorState","handleDroppedFiles","handlePastedFiles"]);a=i.jsxs("div",{className:a,onClick:this.focus,role:"presentation",children:[i.jsx(b("AbstractMentionsTextEditor.react"),babelHelpers["extends"]({},e,{ref:"editor",editorState:f,blockRendererFn:this.props.blockRendererFn,customStyleMap:this.props.customStyleMap||n,mentionResultsComponent:b("MentionsLayer.react"),blockStyleFn:p,blockComponent:b("RichComposedTextEditorBlock.react"),onTab:this.props.onTab||this.$1,handleKeyCommand:this.$3,handleContentReturn:this.$2,handleDroppedFiles:this.$10,handlePastedFiles:this.$12,onChange:this.$4})),c,d]});b("gkx")("1400672")&&b("cr:1400671")&&this.props.enableWritingAssistance&&(a=i.jsx(b("cr:1400671"),{editorState:f,onChange:this.$4,children:a}));return a};return c}(i.Component);a.propTypes={editorState:(c=b("prop-types")).instanceOf(b("EditorState")).isRequired,canAttachVideo:c.bool,canAttachPhoto:c.bool,canAttachEmbed:c.bool,disableLinkAndMonoFormatting:c.bool,shouldShowFormattingNux:c.bool,blockRendererFn:c.func,onSave:c.func.isRequired,ownerID:c.string.isRequired,isPageStory:c.bool,customStyleMap:c.object};a.defaultProps={mentionResultsProps:{typeaheadView:b("XUITypeaheadView.react")},mentionCreationForContentStateFn:b("createMentionEntityForContentState")};function o(a,c,d){return b("AtomicBlockUtils").insertAtomicBlock(a,c,d)}function p(a){a=a.getType();return"_2cuy"+(a==="unstyled"?" _3dgx":"")+(a==="blockquote"?" _509u":"")+(a==="header-one"?" _509y":"")+(a==="header-two"?" _50a1":"")+(a==="code-block"?" _19ii":"")+(a==="unordered-list-item"?" _509q":"")+(a==="ordered-list-item"?" _509s":"")+(a==="atomic"?" _4nuy":"")}e.exports=a}),null);